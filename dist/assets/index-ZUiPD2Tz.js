function mS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ab(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var ob={exports:{}},Yh={},sb={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),gS=Symbol.for("react.portal"),vS=Symbol.for("react.fragment"),yS=Symbol.for("react.strict_mode"),xS=Symbol.for("react.profiler"),_S=Symbol.for("react.provider"),bS=Symbol.for("react.context"),wS=Symbol.for("react.forward_ref"),CS=Symbol.for("react.suspense"),ES=Symbol.for("react.memo"),SS=Symbol.for("react.lazy"),ry=Symbol.iterator;function AS(e){return e===null||typeof e!="object"?null:(e=ry&&e[ry]||e["@@iterator"],typeof e=="function"?e:null)}var lb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ub=Object.assign,cb={};function xl(e,t,r){this.props=e,this.context=t,this.refs=cb,this.updater=r||lb}xl.prototype.isReactComponent={};xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function db(){}db.prototype=xl.prototype;function Ug(e,t,r){this.props=e,this.context=t,this.refs=cb,this.updater=r||lb}var $g=Ug.prototype=new db;$g.constructor=Ug;ub($g,xl.prototype);$g.isPureReactComponent=!0;var ny=Array.isArray,hb=Object.prototype.hasOwnProperty,Vg={current:null},fb={key:!0,ref:!0,__self:!0,__source:!0};function pb(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)hb.call(t,n)&&!fb.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];i.children=d}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:Ac,type:e,key:a,ref:s,props:i,_owner:Vg.current}}function TS(e,t){return{$$typeof:Ac,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ac}function NS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var iy=/\/+/g;function rp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NS(""+e.key):t.toString(36)}function Qd(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ac:case gS:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+rp(s,0):n,ny(i)?(r="",e!=null&&(r=e.replace(iy,"$&/")+"/"),Qd(i,t,r,"",function(h){return h})):i!=null&&(qg(i)&&(i=TS(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(iy,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",ny(e))for(var c=0;c<e.length;c++){a=e[c];var d=n+rp(a,c);s+=Qd(a,t,r,d,i)}else if(d=AS(e),typeof d=="function")for(e=d.call(e),c=0;!(a=e.next()).done;)a=a.value,d=n+rp(a,c++),s+=Qd(a,t,r,d,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function _d(e,t,r){if(e==null)return e;var n=[],i=0;return Qd(e,n,"","",function(a){return t.call(r,a,i++)}),n}function kS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qr={current:null},eh={transition:null},DS={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:eh,ReactCurrentOwner:Vg};function mb(){throw Error("act(...) is not supported in production builds of React.")}pt.Children={map:_d,forEach:function(e,t,r){_d(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _d(e,function(){t++}),t},toArray:function(e){return _d(e,function(t){return t})||[]},only:function(e){if(!qg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pt.Component=xl;pt.Fragment=vS;pt.Profiler=xS;pt.PureComponent=Ug;pt.StrictMode=yS;pt.Suspense=CS;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DS;pt.act=mb;pt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ub({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Vg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)hb.call(t,d)&&!fb.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];n.children=c}return{$$typeof:Ac,type:e.type,key:i,ref:a,props:n,_owner:s}};pt.createContext=function(e){return e={$$typeof:bS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_S,_context:e},e.Consumer=e};pt.createElement=pb;pt.createFactory=function(e){var t=pb.bind(null,e);return t.type=e,t};pt.createRef=function(){return{current:null}};pt.forwardRef=function(e){return{$$typeof:wS,render:e}};pt.isValidElement=qg;pt.lazy=function(e){return{$$typeof:SS,_payload:{_status:-1,_result:e},_init:kS}};pt.memo=function(e,t){return{$$typeof:ES,type:e,compare:t===void 0?null:t}};pt.startTransition=function(e){var t=eh.transition;eh.transition={};try{e()}finally{eh.transition=t}};pt.unstable_act=mb;pt.useCallback=function(e,t){return qr.current.useCallback(e,t)};pt.useContext=function(e){return qr.current.useContext(e)};pt.useDebugValue=function(){};pt.useDeferredValue=function(e){return qr.current.useDeferredValue(e)};pt.useEffect=function(e,t){return qr.current.useEffect(e,t)};pt.useId=function(){return qr.current.useId()};pt.useImperativeHandle=function(e,t,r){return qr.current.useImperativeHandle(e,t,r)};pt.useInsertionEffect=function(e,t){return qr.current.useInsertionEffect(e,t)};pt.useLayoutEffect=function(e,t){return qr.current.useLayoutEffect(e,t)};pt.useMemo=function(e,t){return qr.current.useMemo(e,t)};pt.useReducer=function(e,t,r){return qr.current.useReducer(e,t,r)};pt.useRef=function(e){return qr.current.useRef(e)};pt.useState=function(e){return qr.current.useState(e)};pt.useSyncExternalStore=function(e,t,r){return qr.current.useSyncExternalStore(e,t,r)};pt.useTransition=function(){return qr.current.useTransition()};pt.version="18.3.1";sb.exports=pt;var ve=sb.exports;const Do=Sc(ve),jS=mS({__proto__:null,default:Do},[ve]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OS=ve,RS=Symbol.for("react.element"),PS=Symbol.for("react.fragment"),LS=Object.prototype.hasOwnProperty,IS=OS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MS={key:!0,ref:!0,__self:!0,__source:!0};function gb(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)LS.call(t,n)&&!MS.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:RS,type:e,key:a,ref:s,props:i,_owner:IS.current}}Yh.Fragment=PS;Yh.jsx=gb;Yh.jsxs=gb;ob.exports=Yh;var l=ob.exports,vb={exports:{}},Sn={},yb={exports:{}},xb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(he,O){var ae=he.length;he.push(O);e:for(;0<ae;){var ee=ae-1>>>1,re=he[ee];if(0<i(re,O))he[ee]=O,he[ae]=re,ae=ee;else break e}}function r(he){return he.length===0?null:he[0]}function n(he){if(he.length===0)return null;var O=he[0],ae=he.pop();if(ae!==O){he[0]=ae;e:for(var ee=0,re=he.length,ke=re>>>1;ee<ke;){var _e=2*(ee+1)-1,xe=he[_e],Te=_e+1,U=he[Te];if(0>i(xe,ae))Te<re&&0>i(U,xe)?(he[ee]=U,he[Te]=ae,ee=Te):(he[ee]=xe,he[_e]=ae,ee=_e);else if(Te<re&&0>i(U,ae))he[ee]=U,he[Te]=ae,ee=Te;else break e}}return O}function i(he,O){var ae=he.sortIndex-O.sortIndex;return ae!==0?ae:he.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],h=[],f=1,g=null,v=3,_=!1,k=!1,E=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(he){for(var O=r(h);O!==null;){if(O.callback===null)n(h);else if(O.startTime<=he)n(h),O.sortIndex=O.expirationTime,t(d,O);else break;O=r(h)}}function S(he){if(E=!1,A(he),!k)if(r(d)!==null)k=!0,pe(T);else{var O=r(h);O!==null&&ce(S,O.startTime-he)}}function T(he,O){k=!1,E&&(E=!1,x(D),D=-1),_=!0;var ae=v;try{for(A(O),g=r(d);g!==null&&(!(g.expirationTime>O)||he&&!Y());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,v=g.priorityLevel;var re=ee(g.expirationTime<=O);O=e.unstable_now(),typeof re=="function"?g.callback=re:g===r(d)&&n(d),A(O)}else n(d);g=r(d)}if(g!==null)var ke=!0;else{var _e=r(h);_e!==null&&ce(S,_e.startTime-O),ke=!1}return ke}finally{g=null,v=ae,_=!1}}var F=!1,I=null,D=-1,C=5,G=-1;function Y(){return!(e.unstable_now()-G<C)}function z(){if(I!==null){var he=e.unstable_now();G=he;var O=!0;try{O=I(!0,he)}finally{O?ie():(F=!1,I=null)}}else F=!1}var ie;if(typeof w=="function")ie=function(){w(z)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ue=P.port2;P.port1.onmessage=z,ie=function(){ue.postMessage(null)}}else ie=function(){j(z,0)};function pe(he){I=he,F||(F=!0,ie())}function ce(he,O){D=j(function(){he(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(he){he.callback=null},e.unstable_continueExecution=function(){k||_||(k=!0,pe(T))},e.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<he?Math.floor(1e3/he):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(he){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var ae=v;v=O;try{return he()}finally{v=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(he,O){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var ae=v;v=he;try{return O()}finally{v=ae}},e.unstable_scheduleCallback=function(he,O,ae){var ee=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ee+ae:ee):ae=ee,he){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ae+re,he={id:f++,callback:O,priorityLevel:he,startTime:ae,expirationTime:re,sortIndex:-1},ae>ee?(he.sortIndex=ae,t(h,he),r(d)===null&&he===r(h)&&(E?(x(D),D=-1):E=!0,ce(S,ae-ee))):(he.sortIndex=re,t(d,he),k||_||(k=!0,pe(T))),he},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(he){var O=v;return function(){var ae=v;v=O;try{return he.apply(this,arguments)}finally{v=ae}}}})(xb);yb.exports=xb;var FS=yb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS=ve,bn=FS;function je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _b=new Set,Bu={};function zo(e,t){Qs(e,t),Qs(e+"Capture",t)}function Qs(e,t){for(Bu[e]=t,e=0;e<t.length;e++)_b.add(t[e])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hm=Object.prototype.hasOwnProperty,zS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ay={},oy={};function US(e){return hm.call(oy,e)?!0:hm.call(ay,e)?!1:zS.test(e)?oy[e]=!0:(ay[e]=!0,!1)}function $S(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VS(e,t,r,n){if(t===null||typeof t>"u"||$S(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gr(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cr[e]=new Gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Cr[t]=new Gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cr[e]=new Gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cr[e]=new Gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cr[e]=new Gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cr[e]=new Gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Cr[e]=new Gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Cr[e]=new Gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Cr[e]=new Gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gg=/[\-:]([a-z])/g;function Hg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gg,Hg);Cr[t]=new Gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gg,Hg);Cr[t]=new Gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gg,Hg);Cr[t]=new Gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Cr[e]=new Gr(e,1,!1,e.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new Gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Cr[e]=new Gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zg(e,t,r,n){var i=Cr.hasOwnProperty(t)?Cr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VS(t,r,i,n)&&(r=null),n||i===null?US(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ji=BS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bd=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),bb=Symbol.for("react.provider"),wb=Symbol.for("react.context"),Xg=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),mm=Symbol.for("react.suspense_list"),Jg=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),Cb=Symbol.for("react.offscreen"),sy=Symbol.iterator;function iu(e){return e===null||typeof e!="object"?null:(e=sy&&e[sy]||e["@@iterator"],typeof e=="function"?e:null)}var Xt=Object.assign,np;function xu(e){if(np===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);np=t&&t[1]||""}return`
`+np+e}var ip=!1;function ap(e,t){if(!e||ip)return"";ip=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,c=a.length-1;1<=s&&0<=c&&i[s]!==a[c];)c--;for(;1<=s&&0<=c;s--,c--)if(i[s]!==a[c]){if(s!==1||c!==1)do if(s--,c--,0>c||i[s]!==a[c]){var d=`
`+i[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=c);break}}}finally{ip=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xu(e):""}function qS(e){switch(e.tag){case 5:return xu(e.type);case 16:return xu("Lazy");case 13:return xu("Suspense");case 19:return xu("SuspenseList");case 0:case 2:case 15:return e=ap(e.type,!1),e;case 11:return e=ap(e.type.render,!1),e;case 1:return e=ap(e.type,!0),e;default:return""}}function gm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case js:return"Fragment";case Ds:return"Portal";case fm:return"Profiler";case Wg:return"StrictMode";case pm:return"Suspense";case mm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wb:return(e.displayName||"Context")+".Consumer";case bb:return(e._context.displayName||"Context")+".Provider";case Xg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jg:return t=e.displayName||null,t!==null?t:gm(e.type)||"Memo";case pa:t=e._payload,e=e._init;try{return gm(e(t))}catch{}}return null}function GS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gm(t);case 8:return t===Wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ma(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HS(e){var t=Eb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wd(e){e._valueTracker||(e._valueTracker=HS(e))}function Sb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Eb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vm(e,t){var r=t.checked;return Xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ly(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ma(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ab(e,t){t=t.checked,t!=null&&Zg(e,"checked",t,!1)}function ym(e,t){Ab(e,t);var r=Ma(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xm(e,t.type,r):t.hasOwnProperty("defaultValue")&&xm(e,t.type,Ma(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xm(e,t,r){(t!=="number"||hh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _u=Array.isArray;function Gs(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ma(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _m(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(je(91));return Xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(je(92));if(_u(r)){if(1<r.length)throw Error(je(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ma(r)}}function Tb(e,t){var r=Ma(t.value),n=Ma(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cd,kb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cd=Cd||document.createElement("div"),Cd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZS=["Webkit","ms","Moz","O"];Object.keys(Su).forEach(function(e){ZS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Su[t]=Su[e]})});function Db(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Su.hasOwnProperty(e)&&Su[e]?(""+t).trim():t+"px"}function jb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Db(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var WS=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wm(e,t){if(t){if(WS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(je(62))}}function Cm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=null;function Kg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sm=null,Hs=null,Zs=null;function hy(e){if(e=kc(e)){if(typeof Sm!="function")throw Error(je(280));var t=e.stateNode;t&&(t=nf(t),Sm(e.stateNode,e.type,t))}}function Ob(e){Hs?Zs?Zs.push(e):Zs=[e]:Hs=e}function Rb(){if(Hs){var e=Hs,t=Zs;if(Zs=Hs=null,hy(e),t)for(e=0;e<t.length;e++)hy(t[e])}}function Pb(e,t){return e(t)}function Lb(){}var op=!1;function Ib(e,t,r){if(op)return e(t,r);op=!0;try{return Pb(e,t,r)}finally{op=!1,(Hs!==null||Zs!==null)&&(Lb(),Rb())}}function Uu(e,t){var r=e.stateNode;if(r===null)return null;var n=nf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(je(231,t,typeof r));return r}var Am=!1;if(Gi)try{var au={};Object.defineProperty(au,"passive",{get:function(){Am=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{Am=!1}function XS(e,t,r,n,i,a,s,c,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(f){this.onError(f)}}var Au=!1,fh=null,ph=!1,Tm=null,JS={onError:function(e){Au=!0,fh=e}};function KS(e,t,r,n,i,a,s,c,d){Au=!1,fh=null,XS.apply(JS,arguments)}function YS(e,t,r,n,i,a,s,c,d){if(KS.apply(this,arguments),Au){if(Au){var h=fh;Au=!1,fh=null}else throw Error(je(198));ph||(ph=!0,Tm=h)}}function Uo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Mb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fy(e){if(Uo(e)!==e)throw Error(je(188))}function QS(e){var t=e.alternate;if(!t){if(t=Uo(e),t===null)throw Error(je(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return fy(i),e;if(a===n)return fy(i),t;a=a.sibling}throw Error(je(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,c=i.child;c;){if(c===r){s=!0,r=i,n=a;break}if(c===n){s=!0,n=i,r=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===r){s=!0,r=a,n=i;break}if(c===n){s=!0,n=a,r=i;break}c=c.sibling}if(!s)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?e:t}function Fb(e){return e=QS(e),e!==null?Bb(e):null}function Bb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bb(e);if(t!==null)return t;e=e.sibling}return null}var zb=bn.unstable_scheduleCallback,py=bn.unstable_cancelCallback,eA=bn.unstable_shouldYield,tA=bn.unstable_requestPaint,ir=bn.unstable_now,rA=bn.unstable_getCurrentPriorityLevel,Yg=bn.unstable_ImmediatePriority,Ub=bn.unstable_UserBlockingPriority,mh=bn.unstable_NormalPriority,nA=bn.unstable_LowPriority,$b=bn.unstable_IdlePriority,Qh=null,bi=null;function iA(e){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(Qh,e,void 0,(e.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:sA,aA=Math.log,oA=Math.LN2;function sA(e){return e>>>=0,e===0?32:31-(aA(e)/oA|0)|0}var Ed=64,Sd=4194304;function bu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var c=s&~i;c!==0?n=bu(c):(a&=s,a!==0&&(n=bu(a)))}else s=r&~i,s!==0?n=bu(s):a!==0&&(n=bu(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ri(t),i=1<<r,n|=e[r],t&=~i;return n}function lA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ri(a),c=1<<s,d=i[s];d===-1?(!(c&r)||c&n)&&(i[s]=lA(c,t)):d<=t&&(e.expiredLanes|=c),a&=~c}}function Nm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vb(){var e=Ed;return Ed<<=1,!(Ed&4194240)&&(Ed=64),e}function sp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Tc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ri(t),e[t]=r}function cA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ri(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Qg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ri(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ot=0;function qb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gb,ev,Hb,Zb,Wb,km=!1,Ad=[],Sa=null,Aa=null,Ta=null,$u=new Map,Vu=new Map,ya=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function my(e,t){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":$u.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(t.pointerId)}}function ou(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=kc(t),t!==null&&ev(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hA(e,t,r,n,i){switch(t){case"focusin":return Sa=ou(Sa,e,t,r,n,i),!0;case"dragenter":return Aa=ou(Aa,e,t,r,n,i),!0;case"mouseover":return Ta=ou(Ta,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return $u.set(a,ou($u.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Vu.set(a,ou(Vu.get(a)||null,e,t,r,n,i)),!0}return!1}function Xb(e){var t=Eo(e.target);if(t!==null){var r=Uo(t);if(r!==null){if(t=r.tag,t===13){if(t=Mb(r),t!==null){e.blockedOn=t,Wb(e.priority,function(){Hb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function th(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Em=n,r.target.dispatchEvent(n),Em=null}else return t=kc(r),t!==null&&ev(t),e.blockedOn=r,!1;t.shift()}return!0}function gy(e,t,r){th(e)&&r.delete(t)}function fA(){km=!1,Sa!==null&&th(Sa)&&(Sa=null),Aa!==null&&th(Aa)&&(Aa=null),Ta!==null&&th(Ta)&&(Ta=null),$u.forEach(gy),Vu.forEach(gy)}function su(e,t){e.blockedOn===t&&(e.blockedOn=null,km||(km=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,fA)))}function qu(e){function t(i){return su(i,e)}if(0<Ad.length){su(Ad[0],e);for(var r=1;r<Ad.length;r++){var n=Ad[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Sa!==null&&su(Sa,e),Aa!==null&&su(Aa,e),Ta!==null&&su(Ta,e),$u.forEach(t),Vu.forEach(t),r=0;r<ya.length;r++)n=ya[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ya.length&&(r=ya[0],r.blockedOn===null);)Xb(r),r.blockedOn===null&&ya.shift()}var Ws=Ji.ReactCurrentBatchConfig,vh=!0;function pA(e,t,r,n){var i=Ot,a=Ws.transition;Ws.transition=null;try{Ot=1,tv(e,t,r,n)}finally{Ot=i,Ws.transition=a}}function mA(e,t,r,n){var i=Ot,a=Ws.transition;Ws.transition=null;try{Ot=4,tv(e,t,r,n)}finally{Ot=i,Ws.transition=a}}function tv(e,t,r,n){if(vh){var i=Dm(e,t,r,n);if(i===null)vp(e,t,n,yh,r),my(e,n);else if(hA(i,e,t,r,n))n.stopPropagation();else if(my(e,n),t&4&&-1<dA.indexOf(e)){for(;i!==null;){var a=kc(i);if(a!==null&&Gb(a),a=Dm(e,t,r,n),a===null&&vp(e,t,n,yh,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else vp(e,t,n,null,r)}}var yh=null;function Dm(e,t,r,n){if(yh=null,e=Kg(n),e=Eo(e),e!==null)if(t=Uo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Mb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yh=e,null}function Jb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rA()){case Yg:return 1;case Ub:return 4;case mh:case nA:return 16;case $b:return 536870912;default:return 16}default:return 16}}var ba=null,rv=null,rh=null;function Kb(){if(rh)return rh;var e,t=rv,r=t.length,n,i="value"in ba?ba.value:ba.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return rh=i.slice(e,1<n?1-n:void 0)}function nh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Td(){return!0}function vy(){return!1}function An(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Td:vy,this.isPropagationStopped=vy,this}return Xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Td)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Td)},persist:function(){},isPersistent:Td}),t}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nv=An(_l),Nc=Xt({},_l,{view:0,detail:0}),gA=An(Nc),lp,up,lu,ef=Xt({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lu&&(lu&&e.type==="mousemove"?(lp=e.screenX-lu.screenX,up=e.screenY-lu.screenY):up=lp=0,lu=e),lp)},movementY:function(e){return"movementY"in e?e.movementY:up}}),yy=An(ef),vA=Xt({},ef,{dataTransfer:0}),yA=An(vA),xA=Xt({},Nc,{relatedTarget:0}),cp=An(xA),_A=Xt({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),bA=An(_A),wA=Xt({},_l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CA=An(wA),EA=Xt({},_l,{data:0}),xy=An(EA),SA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TA[e])?!!t[e]:!1}function iv(){return NA}var kA=Xt({},Nc,{key:function(e){if(e.key){var t=SA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iv,charCode:function(e){return e.type==="keypress"?nh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DA=An(kA),jA=Xt({},ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_y=An(jA),OA=Xt({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iv}),RA=An(OA),PA=Xt({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),LA=An(PA),IA=Xt({},ef,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MA=An(IA),FA=[9,13,27,32],av=Gi&&"CompositionEvent"in window,Tu=null;Gi&&"documentMode"in document&&(Tu=document.documentMode);var BA=Gi&&"TextEvent"in window&&!Tu,Yb=Gi&&(!av||Tu&&8<Tu&&11>=Tu),by=" ",wy=!1;function Qb(e,t){switch(e){case"keyup":return FA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ew(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Os=!1;function zA(e,t){switch(e){case"compositionend":return ew(t);case"keypress":return t.which!==32?null:(wy=!0,by);case"textInput":return e=t.data,e===by&&wy?null:e;default:return null}}function UA(e,t){if(Os)return e==="compositionend"||!av&&Qb(e,t)?(e=Kb(),rh=rv=ba=null,Os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yb&&t.locale!=="ko"?null:t.data;default:return null}}var $A={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$A[e.type]:t==="textarea"}function tw(e,t,r,n){Ob(n),t=xh(t,"onChange"),0<t.length&&(r=new nv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Nu=null,Gu=null;function VA(e){hw(e,0)}function tf(e){var t=Ls(e);if(Sb(t))return e}function qA(e,t){if(e==="change")return t}var rw=!1;if(Gi){var dp;if(Gi){var hp="oninput"in document;if(!hp){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),hp=typeof Ey.oninput=="function"}dp=hp}else dp=!1;rw=dp&&(!document.documentMode||9<document.documentMode)}function Sy(){Nu&&(Nu.detachEvent("onpropertychange",nw),Gu=Nu=null)}function nw(e){if(e.propertyName==="value"&&tf(Gu)){var t=[];tw(t,Gu,e,Kg(e)),Ib(VA,t)}}function GA(e,t,r){e==="focusin"?(Sy(),Nu=t,Gu=r,Nu.attachEvent("onpropertychange",nw)):e==="focusout"&&Sy()}function HA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tf(Gu)}function ZA(e,t){if(e==="click")return tf(t)}function WA(e,t){if(e==="input"||e==="change")return tf(t)}function XA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ai=typeof Object.is=="function"?Object.is:XA;function Hu(e,t){if(ai(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!hm.call(t,i)||!ai(e[i],t[i]))return!1}return!0}function Ay(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ty(e,t){var r=Ay(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ay(r)}}function iw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aw(){for(var e=window,t=hh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hh(e.document)}return t}function ov(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JA(e){var t=aw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&iw(r.ownerDocument.documentElement,r)){if(n!==null&&ov(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Ty(r,a);var s=Ty(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KA=Gi&&"documentMode"in document&&11>=document.documentMode,Rs=null,jm=null,ku=null,Om=!1;function Ny(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Om||Rs==null||Rs!==hh(n)||(n=Rs,"selectionStart"in n&&ov(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ku&&Hu(ku,n)||(ku=n,n=xh(jm,"onSelect"),0<n.length&&(t=new nv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Rs)))}function Nd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ps={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},fp={},ow={};Gi&&(ow=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function rf(e){if(fp[e])return fp[e];if(!Ps[e])return e;var t=Ps[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ow)return fp[e]=t[r];return e}var sw=rf("animationend"),lw=rf("animationiteration"),uw=rf("animationstart"),cw=rf("transitionend"),dw=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qa(e,t){dw.set(e,t),zo(t,[e])}for(var pp=0;pp<ky.length;pp++){var mp=ky[pp],YA=mp.toLowerCase(),QA=mp[0].toUpperCase()+mp.slice(1);qa(YA,"on"+QA)}qa(sw,"onAnimationEnd");qa(lw,"onAnimationIteration");qa(uw,"onAnimationStart");qa("dblclick","onDoubleClick");qa("focusin","onFocus");qa("focusout","onBlur");qa(cw,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("cancel close invalid load scroll toggle".split(" ").concat(wu));function Dy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,YS(n,t,void 0,e),e.currentTarget=null}function hw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var c=n[s],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==a&&i.isPropagationStopped())break e;Dy(i,c,h),a=d}else for(s=0;s<n.length;s++){if(c=n[s],d=c.instance,h=c.currentTarget,c=c.listener,d!==a&&i.isPropagationStopped())break e;Dy(i,c,h),a=d}}}if(ph)throw e=Tm,ph=!1,Tm=null,e}function zt(e,t){var r=t[Mm];r===void 0&&(r=t[Mm]=new Set);var n=e+"__bubble";r.has(n)||(fw(t,e,2,!1),r.add(n))}function gp(e,t,r){var n=0;t&&(n|=4),fw(r,e,n,t)}var kd="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[kd]){e[kd]=!0,_b.forEach(function(r){r!=="selectionchange"&&(eT.has(r)||gp(r,!1,e),gp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kd]||(t[kd]=!0,gp("selectionchange",!1,t))}}function fw(e,t,r,n){switch(Jb(t)){case 1:var i=pA;break;case 4:i=mA;break;default:i=tv}r=i.bind(null,t,r,e),i=void 0,!Am||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function vp(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;s=s.return}for(;c!==null;){if(s=Eo(c),s===null)return;if(d=s.tag,d===5||d===6){n=a=s;continue e}c=c.parentNode}}n=n.return}Ib(function(){var h=a,f=Kg(r),g=[];e:{var v=dw.get(e);if(v!==void 0){var _=nv,k=e;switch(e){case"keypress":if(nh(r)===0)break e;case"keydown":case"keyup":_=DA;break;case"focusin":k="focus",_=cp;break;case"focusout":k="blur",_=cp;break;case"beforeblur":case"afterblur":_=cp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=yA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=RA;break;case sw:case lw:case uw:_=bA;break;case cw:_=LA;break;case"scroll":_=gA;break;case"wheel":_=MA;break;case"copy":case"cut":case"paste":_=CA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=_y}var E=(t&4)!==0,j=!E&&e==="scroll",x=E?v!==null?v+"Capture":null:v;E=[];for(var w=h,A;w!==null;){A=w;var S=A.stateNode;if(A.tag===5&&S!==null&&(A=S,x!==null&&(S=Uu(w,x),S!=null&&E.push(Wu(w,S,A)))),j)break;w=w.return}0<E.length&&(v=new _(v,k,null,r,f),g.push({event:v,listeners:E}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",v&&r!==Em&&(k=r.relatedTarget||r.fromElement)&&(Eo(k)||k[Hi]))break e;if((_||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,_?(k=r.relatedTarget||r.toElement,_=h,k=k?Eo(k):null,k!==null&&(j=Uo(k),k!==j||k.tag!==5&&k.tag!==6)&&(k=null)):(_=null,k=h),_!==k)){if(E=yy,S="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(E=_y,S="onPointerLeave",x="onPointerEnter",w="pointer"),j=_==null?v:Ls(_),A=k==null?v:Ls(k),v=new E(S,w+"leave",_,r,f),v.target=j,v.relatedTarget=A,S=null,Eo(f)===h&&(E=new E(x,w+"enter",k,r,f),E.target=A,E.relatedTarget=j,S=E),j=S,_&&k)t:{for(E=_,x=k,w=0,A=E;A;A=ds(A))w++;for(A=0,S=x;S;S=ds(S))A++;for(;0<w-A;)E=ds(E),w--;for(;0<A-w;)x=ds(x),A--;for(;w--;){if(E===x||x!==null&&E===x.alternate)break t;E=ds(E),x=ds(x)}E=null}else E=null;_!==null&&jy(g,v,_,E,!1),k!==null&&j!==null&&jy(g,j,k,E,!0)}}e:{if(v=h?Ls(h):window,_=v.nodeName&&v.nodeName.toLowerCase(),_==="select"||_==="input"&&v.type==="file")var T=qA;else if(Cy(v))if(rw)T=WA;else{T=HA;var F=GA}else(_=v.nodeName)&&_.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(T=ZA);if(T&&(T=T(e,h))){tw(g,T,r,f);break e}F&&F(e,v,h),e==="focusout"&&(F=v._wrapperState)&&F.controlled&&v.type==="number"&&xm(v,"number",v.value)}switch(F=h?Ls(h):window,e){case"focusin":(Cy(F)||F.contentEditable==="true")&&(Rs=F,jm=h,ku=null);break;case"focusout":ku=jm=Rs=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,Ny(g,r,f);break;case"selectionchange":if(KA)break;case"keydown":case"keyup":Ny(g,r,f)}var I;if(av)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Os?Qb(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(Yb&&r.locale!=="ko"&&(Os||D!=="onCompositionStart"?D==="onCompositionEnd"&&Os&&(I=Kb()):(ba=f,rv="value"in ba?ba.value:ba.textContent,Os=!0)),F=xh(h,D),0<F.length&&(D=new xy(D,e,null,r,f),g.push({event:D,listeners:F}),I?D.data=I:(I=ew(r),I!==null&&(D.data=I)))),(I=BA?zA(e,r):UA(e,r))&&(h=xh(h,"onBeforeInput"),0<h.length&&(f=new xy("onBeforeInput","beforeinput",null,r,f),g.push({event:f,listeners:h}),f.data=I))}hw(g,t)})}function Wu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xh(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Uu(e,r),a!=null&&n.unshift(Wu(e,a,i)),a=Uu(e,t),a!=null&&n.push(Wu(e,a,i))),e=e.return}return n}function ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jy(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var c=r,d=c.alternate,h=c.stateNode;if(d!==null&&d===n)break;c.tag===5&&h!==null&&(c=h,i?(d=Uu(r,a),d!=null&&s.unshift(Wu(r,d,c))):i||(d=Uu(r,a),d!=null&&s.push(Wu(r,d,c)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var tT=/\r\n?/g,rT=/\u0000|\uFFFD/g;function Oy(e){return(typeof e=="string"?e:""+e).replace(tT,`
`).replace(rT,"")}function Dd(e,t,r){if(t=Oy(t),Oy(e)!==t&&r)throw Error(je(425))}function _h(){}var Rm=null,Pm=null;function Lm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,nT=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,iT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(e){return Ry.resolve(null).then(e).catch(aT)}:Im;function aT(e){setTimeout(function(){throw e})}function yp(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),qu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);qu(t)}function Na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Py(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bl=Math.random().toString(36).slice(2),xi="__reactFiber$"+bl,Xu="__reactProps$"+bl,Hi="__reactContainer$"+bl,Mm="__reactEvents$"+bl,oT="__reactListeners$"+bl,sT="__reactHandles$"+bl;function Eo(e){var t=e[xi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Hi]||r[xi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Py(e);e!==null;){if(r=e[xi])return r;e=Py(e)}return t}e=r,r=e.parentNode}return null}function kc(e){return e=e[xi]||e[Hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(je(33))}function nf(e){return e[Xu]||null}var Fm=[],Is=-1;function Ga(e){return{current:e}}function Ut(e){0>Is||(e.current=Fm[Is],Fm[Is]=null,Is--)}function Mt(e,t){Is++,Fm[Is]=e.current,e.current=t}var Fa={},jr=Ga(Fa),nn=Ga(!1),jo=Fa;function el(e,t){var r=e.type.contextTypes;if(!r)return Fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function an(e){return e=e.childContextTypes,e!=null}function bh(){Ut(nn),Ut(jr)}function Ly(e,t,r){if(jr.current!==Fa)throw Error(je(168));Mt(jr,t),Mt(nn,r)}function pw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(je(108,GS(e)||"Unknown",i));return Xt({},r,n)}function wh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fa,jo=jr.current,Mt(jr,e),Mt(nn,nn.current),!0}function Iy(e,t,r){var n=e.stateNode;if(!n)throw Error(je(169));r?(e=pw(e,t,jo),n.__reactInternalMemoizedMergedChildContext=e,Ut(nn),Ut(jr),Mt(jr,e)):Ut(nn),Mt(nn,r)}var zi=null,af=!1,xp=!1;function mw(e){zi===null?zi=[e]:zi.push(e)}function lT(e){af=!0,mw(e)}function Ha(){if(!xp&&zi!==null){xp=!0;var e=0,t=Ot;try{var r=zi;for(Ot=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zi=null,af=!1}catch(i){throw zi!==null&&(zi=zi.slice(e+1)),zb(Yg,Ha),i}finally{Ot=t,xp=!1}}return null}var Ms=[],Fs=0,Ch=null,Eh=0,jn=[],On=0,Oo=null,Ui=1,$i="";function yo(e,t){Ms[Fs++]=Eh,Ms[Fs++]=Ch,Ch=e,Eh=t}function gw(e,t,r){jn[On++]=Ui,jn[On++]=$i,jn[On++]=Oo,Oo=e;var n=Ui;e=$i;var i=32-ri(n)-1;n&=~(1<<i),r+=1;var a=32-ri(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Ui=1<<32-ri(t)+i|r<<i|n,$i=a+e}else Ui=1<<a|r<<i|n,$i=e}function sv(e){e.return!==null&&(yo(e,1),gw(e,1,0))}function lv(e){for(;e===Ch;)Ch=Ms[--Fs],Ms[Fs]=null,Eh=Ms[--Fs],Ms[Fs]=null;for(;e===Oo;)Oo=jn[--On],jn[On]=null,$i=jn[--On],jn[On]=null,Ui=jn[--On],jn[On]=null}var _n=null,xn=null,$t=!1,Qn=null;function vw(e,t){var r=Rn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function My(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_n=e,xn=Na(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_n=e,xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Oo!==null?{id:Ui,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Rn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,_n=e,xn=null,!0):!1;default:return!1}}function Bm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zm(e){if($t){var t=xn;if(t){var r=t;if(!My(e,t)){if(Bm(e))throw Error(je(418));t=Na(r.nextSibling);var n=_n;t&&My(e,t)?vw(n,r):(e.flags=e.flags&-4097|2,$t=!1,_n=e)}}else{if(Bm(e))throw Error(je(418));e.flags=e.flags&-4097|2,$t=!1,_n=e}}}function Fy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_n=e}function jd(e){if(e!==_n)return!1;if(!$t)return Fy(e),$t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lm(e.type,e.memoizedProps)),t&&(t=xn)){if(Bm(e))throw yw(),Error(je(418));for(;t;)vw(e,t),t=Na(t.nextSibling)}if(Fy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xn=Na(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xn=null}}else xn=_n?Na(e.stateNode.nextSibling):null;return!0}function yw(){for(var e=xn;e;)e=Na(e.nextSibling)}function tl(){xn=_n=null,$t=!1}function uv(e){Qn===null?Qn=[e]:Qn.push(e)}var uT=Ji.ReactCurrentBatchConfig;function uu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var c=i.refs;s===null?delete c[a]:c[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,e))}return e}function Od(e,t){throw e=Object.prototype.toString.call(t),Error(je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function By(e){var t=e._init;return t(e._payload)}function xw(e){function t(x,w){if(e){var A=x.deletions;A===null?(x.deletions=[w],x.flags|=16):A.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Oa(x,w),x.index=0,x.sibling=null,x}function a(x,w,A){return x.index=A,e?(A=x.alternate,A!==null?(A=A.index,A<w?(x.flags|=2,w):A):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,w,A,S){return w===null||w.tag!==6?(w=Ap(A,x.mode,S),w.return=x,w):(w=i(w,A),w.return=x,w)}function d(x,w,A,S){var T=A.type;return T===js?f(x,w,A.props.children,S,A.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===pa&&By(T)===w.type)?(S=i(w,A.props),S.ref=uu(x,w,A),S.return=x,S):(S=ch(A.type,A.key,A.props,null,x.mode,S),S.ref=uu(x,w,A),S.return=x,S)}function h(x,w,A,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=Tp(A,x.mode,S),w.return=x,w):(w=i(w,A.children||[]),w.return=x,w)}function f(x,w,A,S,T){return w===null||w.tag!==7?(w=No(A,x.mode,S,T),w.return=x,w):(w=i(w,A),w.return=x,w)}function g(x,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ap(""+w,x.mode,A),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bd:return A=ch(w.type,w.key,w.props,null,x.mode,A),A.ref=uu(x,null,w),A.return=x,A;case Ds:return w=Tp(w,x.mode,A),w.return=x,w;case pa:var S=w._init;return g(x,S(w._payload),A)}if(_u(w)||iu(w))return w=No(w,x.mode,A,null),w.return=x,w;Od(x,w)}return null}function v(x,w,A,S){var T=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return T!==null?null:c(x,w,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case bd:return A.key===T?d(x,w,A,S):null;case Ds:return A.key===T?h(x,w,A,S):null;case pa:return T=A._init,v(x,w,T(A._payload),S)}if(_u(A)||iu(A))return T!==null?null:f(x,w,A,S,null);Od(x,A)}return null}function _(x,w,A,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(A)||null,c(w,x,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bd:return x=x.get(S.key===null?A:S.key)||null,d(w,x,S,T);case Ds:return x=x.get(S.key===null?A:S.key)||null,h(w,x,S,T);case pa:var F=S._init;return _(x,w,A,F(S._payload),T)}if(_u(S)||iu(S))return x=x.get(A)||null,f(w,x,S,T,null);Od(w,S)}return null}function k(x,w,A,S){for(var T=null,F=null,I=w,D=w=0,C=null;I!==null&&D<A.length;D++){I.index>D?(C=I,I=null):C=I.sibling;var G=v(x,I,A[D],S);if(G===null){I===null&&(I=C);break}e&&I&&G.alternate===null&&t(x,I),w=a(G,w,D),F===null?T=G:F.sibling=G,F=G,I=C}if(D===A.length)return r(x,I),$t&&yo(x,D),T;if(I===null){for(;D<A.length;D++)I=g(x,A[D],S),I!==null&&(w=a(I,w,D),F===null?T=I:F.sibling=I,F=I);return $t&&yo(x,D),T}for(I=n(x,I);D<A.length;D++)C=_(I,x,D,A[D],S),C!==null&&(e&&C.alternate!==null&&I.delete(C.key===null?D:C.key),w=a(C,w,D),F===null?T=C:F.sibling=C,F=C);return e&&I.forEach(function(Y){return t(x,Y)}),$t&&yo(x,D),T}function E(x,w,A,S){var T=iu(A);if(typeof T!="function")throw Error(je(150));if(A=T.call(A),A==null)throw Error(je(151));for(var F=T=null,I=w,D=w=0,C=null,G=A.next();I!==null&&!G.done;D++,G=A.next()){I.index>D?(C=I,I=null):C=I.sibling;var Y=v(x,I,G.value,S);if(Y===null){I===null&&(I=C);break}e&&I&&Y.alternate===null&&t(x,I),w=a(Y,w,D),F===null?T=Y:F.sibling=Y,F=Y,I=C}if(G.done)return r(x,I),$t&&yo(x,D),T;if(I===null){for(;!G.done;D++,G=A.next())G=g(x,G.value,S),G!==null&&(w=a(G,w,D),F===null?T=G:F.sibling=G,F=G);return $t&&yo(x,D),T}for(I=n(x,I);!G.done;D++,G=A.next())G=_(I,x,D,G.value,S),G!==null&&(e&&G.alternate!==null&&I.delete(G.key===null?D:G.key),w=a(G,w,D),F===null?T=G:F.sibling=G,F=G);return e&&I.forEach(function(z){return t(x,z)}),$t&&yo(x,D),T}function j(x,w,A,S){if(typeof A=="object"&&A!==null&&A.type===js&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case bd:e:{for(var T=A.key,F=w;F!==null;){if(F.key===T){if(T=A.type,T===js){if(F.tag===7){r(x,F.sibling),w=i(F,A.props.children),w.return=x,x=w;break e}}else if(F.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===pa&&By(T)===F.type){r(x,F.sibling),w=i(F,A.props),w.ref=uu(x,F,A),w.return=x,x=w;break e}r(x,F);break}else t(x,F);F=F.sibling}A.type===js?(w=No(A.props.children,x.mode,S,A.key),w.return=x,x=w):(S=ch(A.type,A.key,A.props,null,x.mode,S),S.ref=uu(x,w,A),S.return=x,x=S)}return s(x);case Ds:e:{for(F=A.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){r(x,w.sibling),w=i(w,A.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else t(x,w);w=w.sibling}w=Tp(A,x.mode,S),w.return=x,x=w}return s(x);case pa:return F=A._init,j(x,w,F(A._payload),S)}if(_u(A))return k(x,w,A,S);if(iu(A))return E(x,w,A,S);Od(x,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(r(x,w.sibling),w=i(w,A),w.return=x,x=w):(r(x,w),w=Ap(A,x.mode,S),w.return=x,x=w),s(x)):r(x,w)}return j}var rl=xw(!0),_w=xw(!1),Sh=Ga(null),Ah=null,Bs=null,cv=null;function dv(){cv=Bs=Ah=null}function hv(e){var t=Sh.current;Ut(Sh),e._currentValue=t}function Um(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xs(e,t){Ah=e,cv=Bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tn=!0),e.firstContext=null)}function In(e){var t=e._currentValue;if(cv!==e)if(e={context:e,memoizedValue:t,next:null},Bs===null){if(Ah===null)throw Error(je(308));Bs=e,Ah.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var So=null;function fv(e){So===null?So=[e]:So.push(e)}function bw(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,fv(t)):(r.next=i.next,i.next=r),t.interleaved=r,Zi(e,n)}function Zi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ma=!1;function pv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ww(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ka(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ct&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Zi(e,r)}return i=n.interleaved,i===null?(t.next=t,fv(n)):(t.next=i.next,i.next=t),n.interleaved=t,Zi(e,r)}function ih(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qg(e,r)}}function zy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Th(e,t,r,n){var i=e.updateQueue;ma=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,h=d.next;d.next=null,s===null?a=h:s.next=h,s=d;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==s&&(c===null?f.firstBaseUpdate=h:c.next=h,f.lastBaseUpdate=d))}if(a!==null){var g=i.baseState;s=0,f=h=d=null,c=a;do{var v=c.lane,_=c.eventTime;if((n&v)===v){f!==null&&(f=f.next={eventTime:_,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var k=e,E=c;switch(v=t,_=r,E.tag){case 1:if(k=E.payload,typeof k=="function"){g=k.call(_,g,v);break e}g=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=E.payload,v=typeof k=="function"?k.call(_,g,v):k,v==null)break e;g=Xt({},g,v);break e;case 2:ma=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[c]:v.push(c))}else _={eventTime:_,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(h=f=_,d=g):f=f.next=_,s|=v;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;v=c,c=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(d=g),i.baseState=d,i.firstBaseUpdate=h,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Po|=s,e.lanes=s,e.memoizedState=g}}function Uy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(je(191,i));i.call(n)}}}var Dc={},wi=Ga(Dc),Ju=Ga(Dc),Ku=Ga(Dc);function Ao(e){if(e===Dc)throw Error(je(174));return e}function mv(e,t){switch(Mt(Ku,t),Mt(Ju,e),Mt(wi,Dc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bm(t,e)}Ut(wi),Mt(wi,t)}function nl(){Ut(wi),Ut(Ju),Ut(Ku)}function Cw(e){Ao(Ku.current);var t=Ao(wi.current),r=bm(t,e.type);t!==r&&(Mt(Ju,e),Mt(wi,r))}function gv(e){Ju.current===e&&(Ut(wi),Ut(Ju))}var Ht=Ga(0);function Nh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _p=[];function vv(){for(var e=0;e<_p.length;e++)_p[e]._workInProgressVersionPrimary=null;_p.length=0}var ah=Ji.ReactCurrentDispatcher,bp=Ji.ReactCurrentBatchConfig,Ro=0,Wt=null,hr=null,yr=null,kh=!1,Du=!1,Yu=0,cT=0;function Ar(){throw Error(je(321))}function yv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ai(e[r],t[r]))return!1;return!0}function xv(e,t,r,n,i,a){if(Ro=a,Wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ah.current=e===null||e.memoizedState===null?pT:mT,e=r(n,i),Du){a=0;do{if(Du=!1,Yu=0,25<=a)throw Error(je(301));a+=1,yr=hr=null,t.updateQueue=null,ah.current=gT,e=r(n,i)}while(Du)}if(ah.current=Dh,t=hr!==null&&hr.next!==null,Ro=0,yr=hr=Wt=null,kh=!1,t)throw Error(je(300));return e}function _v(){var e=Yu!==0;return Yu=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Wt.memoizedState=yr=e:yr=yr.next=e,yr}function Mn(){if(hr===null){var e=Wt.alternate;e=e!==null?e.memoizedState:null}else e=hr.next;var t=yr===null?Wt.memoizedState:yr.next;if(t!==null)yr=t,hr=e;else{if(e===null)throw Error(je(310));hr=e,e={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},yr===null?Wt.memoizedState=yr=e:yr=yr.next=e}return yr}function Qu(e,t){return typeof t=="function"?t(e):t}function wp(e){var t=Mn(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=hr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var c=s=null,d=null,h=a;do{var f=h.lane;if((Ro&f)===f)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var g={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=g,s=n):d=d.next=g,Wt.lanes|=f,Po|=f}h=h.next}while(h!==null&&h!==a);d===null?s=n:d.next=c,ai(n,t.memoizedState)||(tn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Wt.lanes|=a,Po|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cp(e){var t=Mn(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ai(a,t.memoizedState)||(tn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Ew(){}function Sw(e,t){var r=Wt,n=Mn(),i=t(),a=!ai(n.memoizedState,i);if(a&&(n.memoizedState=i,tn=!0),n=n.queue,bv(Nw.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||yr!==null&&yr.memoizedState.tag&1){if(r.flags|=2048,ec(9,Tw.bind(null,r,n,i,t),void 0,null),xr===null)throw Error(je(349));Ro&30||Aw(r,t,i)}return i}function Aw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Tw(e,t,r,n){t.value=r,t.getSnapshot=n,kw(t)&&Dw(e)}function Nw(e,t,r){return r(function(){kw(t)&&Dw(e)})}function kw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ai(e,r)}catch{return!0}}function Dw(e){var t=Zi(e,1);t!==null&&ni(t,e,1,-1)}function $y(e){var t=vi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:e},t.queue=e,e=e.dispatch=fT.bind(null,Wt,e),[t.memoizedState,e]}function ec(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function jw(){return Mn().memoizedState}function oh(e,t,r,n){var i=vi();Wt.flags|=e,i.memoizedState=ec(1|t,r,void 0,n===void 0?null:n)}function of(e,t,r,n){var i=Mn();n=n===void 0?null:n;var a=void 0;if(hr!==null){var s=hr.memoizedState;if(a=s.destroy,n!==null&&yv(n,s.deps)){i.memoizedState=ec(t,r,a,n);return}}Wt.flags|=e,i.memoizedState=ec(1|t,r,a,n)}function Vy(e,t){return oh(8390656,8,e,t)}function bv(e,t){return of(2048,8,e,t)}function Ow(e,t){return of(4,2,e,t)}function Rw(e,t){return of(4,4,e,t)}function Pw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lw(e,t,r){return r=r!=null?r.concat([e]):null,of(4,4,Pw.bind(null,t,e),r)}function wv(){}function Iw(e,t){var r=Mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Mw(e,t){var r=Mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Fw(e,t,r){return Ro&21?(ai(r,t)||(r=Vb(),Wt.lanes|=r,Po|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=r)}function dT(e,t){var r=Ot;Ot=r!==0&&4>r?r:4,e(!0);var n=bp.transition;bp.transition={};try{e(!1),t()}finally{Ot=r,bp.transition=n}}function Bw(){return Mn().memoizedState}function hT(e,t,r){var n=ja(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zw(e))Uw(t,r);else if(r=bw(e,t,r,n),r!==null){var i=Vr();ni(r,e,n,i),$w(r,t,n)}}function fT(e,t,r){var n=ja(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zw(e))Uw(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,c=a(s,r);if(i.hasEagerState=!0,i.eagerState=c,ai(c,s)){var d=t.interleaved;d===null?(i.next=i,fv(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}r=bw(e,t,i,n),r!==null&&(i=Vr(),ni(r,e,n,i),$w(r,t,n))}}function zw(e){var t=e.alternate;return e===Wt||t!==null&&t===Wt}function Uw(e,t){Du=kh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $w(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qg(e,r)}}var Dh={readContext:In,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},pT={readContext:In,useCallback:function(e,t){return vi().memoizedState=[e,t===void 0?null:t],e},useContext:In,useEffect:Vy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,oh(4194308,4,Pw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return oh(4194308,4,e,t)},useInsertionEffect:function(e,t){return oh(4,2,e,t)},useMemo:function(e,t){var r=vi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=hT.bind(null,Wt,e),[n.memoizedState,e]},useRef:function(e){var t=vi();return e={current:e},t.memoizedState=e},useState:$y,useDebugValue:wv,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=$y(!1),t=e[0];return e=dT.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Wt,i=vi();if($t){if(r===void 0)throw Error(je(407));r=r()}else{if(r=t(),xr===null)throw Error(je(349));Ro&30||Aw(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Vy(Nw.bind(null,n,a,e),[e]),n.flags|=2048,ec(9,Tw.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=vi(),t=xr.identifierPrefix;if($t){var r=$i,n=Ui;r=(n&~(1<<32-ri(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mT={readContext:In,useCallback:Iw,useContext:In,useEffect:bv,useImperativeHandle:Lw,useInsertionEffect:Ow,useLayoutEffect:Rw,useMemo:Mw,useReducer:wp,useRef:jw,useState:function(){return wp(Qu)},useDebugValue:wv,useDeferredValue:function(e){var t=Mn();return Fw(t,hr.memoizedState,e)},useTransition:function(){var e=wp(Qu)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:Ew,useSyncExternalStore:Sw,useId:Bw,unstable_isNewReconciler:!1},gT={readContext:In,useCallback:Iw,useContext:In,useEffect:bv,useImperativeHandle:Lw,useInsertionEffect:Ow,useLayoutEffect:Rw,useMemo:Mw,useReducer:Cp,useRef:jw,useState:function(){return Cp(Qu)},useDebugValue:wv,useDeferredValue:function(e){var t=Mn();return hr===null?t.memoizedState=e:Fw(t,hr.memoizedState,e)},useTransition:function(){var e=Cp(Qu)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:Ew,useSyncExternalStore:Sw,useId:Bw,unstable_isNewReconciler:!1};function Wn(e,t){if(e&&e.defaultProps){t=Xt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $m(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Xt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sf={isMounted:function(e){return(e=e._reactInternals)?Uo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Vr(),i=ja(e),a=Vi(n,i);a.payload=t,r!=null&&(a.callback=r),t=ka(e,a,i),t!==null&&(ni(t,e,i,n),ih(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Vr(),i=ja(e),a=Vi(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ka(e,a,i),t!==null&&(ni(t,e,i,n),ih(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Vr(),n=ja(e),i=Vi(r,n);i.tag=2,t!=null&&(i.callback=t),t=ka(e,i,n),t!==null&&(ni(t,e,n,r),ih(t,e,n))}};function qy(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Hu(r,n)||!Hu(i,a):!0}function Vw(e,t,r){var n=!1,i=Fa,a=t.contextType;return typeof a=="object"&&a!==null?a=In(a):(i=an(t)?jo:jr.current,n=t.contextTypes,a=(n=n!=null)?el(e,i):Fa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Gy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&sf.enqueueReplaceState(t,t.state,null)}function Vm(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},pv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=In(a):(a=an(t)?jo:jr.current,i.context=el(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($m(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&sf.enqueueReplaceState(i,i.state,null),Th(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function il(e,t){try{var r="",n=t;do r+=qS(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Ep(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vT=typeof WeakMap=="function"?WeakMap:Map;function qw(e,t,r){r=Vi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Oh||(Oh=!0,eg=n),qm(e,t)},r}function Gw(e,t,r){r=Vi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){qm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){qm(e,t),typeof n!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Hy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vT;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=jT.bind(null,e,t,r),t.then(e,e))}function Zy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wy(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vi(-1,1),t.tag=2,ka(r,t,1))),r.lanes|=1),e)}var yT=Ji.ReactCurrentOwner,tn=!1;function $r(e,t,r,n){t.child=e===null?_w(t,null,r,n):rl(t,e.child,r,n)}function Xy(e,t,r,n,i){r=r.render;var a=t.ref;return Xs(t,i),n=xv(e,t,r,n,a,i),r=_v(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wi(e,t,i)):($t&&r&&sv(t),t.flags|=1,$r(e,t,n,i),t.child)}function Jy(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Dv(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Hw(e,t,a,n,i)):(e=ch(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Hu,r(s,n)&&e.ref===t.ref)return Wi(e,t,i)}return t.flags|=1,e=Oa(a,n),e.ref=t.ref,e.return=t,t.child=e}function Hw(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Hu(a,n)&&e.ref===t.ref)if(tn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(tn=!0);else return t.lanes=e.lanes,Wi(e,t,i)}return Gm(e,t,r,n,i)}function Zw(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(Us,yn),yn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mt(Us,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Mt(Us,yn),yn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Mt(Us,yn),yn|=n;return $r(e,t,i,r),t.child}function Ww(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gm(e,t,r,n,i){var a=an(r)?jo:jr.current;return a=el(t,a),Xs(t,i),r=xv(e,t,r,n,a,i),n=_v(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wi(e,t,i)):($t&&n&&sv(t),t.flags|=1,$r(e,t,r,i),t.child)}function Ky(e,t,r,n,i){if(an(r)){var a=!0;wh(t)}else a=!1;if(Xs(t,i),t.stateNode===null)sh(e,t),Vw(t,r,n),Vm(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var d=s.context,h=r.contextType;typeof h=="object"&&h!==null?h=In(h):(h=an(r)?jo:jr.current,h=el(t,h));var f=r.getDerivedStateFromProps,g=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==n||d!==h)&&Gy(t,s,n,h),ma=!1;var v=t.memoizedState;s.state=v,Th(t,n,s,i),d=t.memoizedState,c!==n||v!==d||nn.current||ma?(typeof f=="function"&&($m(t,r,f,n),d=t.memoizedState),(c=ma||qy(t,r,c,n,v,d,h))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),s.props=n,s.state=d,s.context=h,n=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,ww(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:Wn(t.type,c),s.props=h,g=t.pendingProps,v=s.context,d=r.contextType,typeof d=="object"&&d!==null?d=In(d):(d=an(r)?jo:jr.current,d=el(t,d));var _=r.getDerivedStateFromProps;(f=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==g||v!==d)&&Gy(t,s,n,d),ma=!1,v=t.memoizedState,s.state=v,Th(t,n,s,i);var k=t.memoizedState;c!==g||v!==k||nn.current||ma?(typeof _=="function"&&($m(t,r,_,n),k=t.memoizedState),(h=ma||qy(t,r,h,n,v,k,d)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,k,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,k,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=k),s.props=n,s.state=k,s.context=d,n=h):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return Hm(e,t,r,n,a,i)}function Hm(e,t,r,n,i,a){Ww(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Iy(t,r,!1),Wi(e,t,a);n=t.stateNode,yT.current=t;var c=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=rl(t,e.child,null,a),t.child=rl(t,null,c,a)):$r(e,t,c,a),t.memoizedState=n.state,i&&Iy(t,r,!0),t.child}function Xw(e){var t=e.stateNode;t.pendingContext?Ly(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ly(e,t.context,!1),mv(e,t.containerInfo)}function Yy(e,t,r,n,i){return tl(),uv(i),t.flags|=256,$r(e,t,r,n),t.child}var Zm={dehydrated:null,treeContext:null,retryLane:0};function Wm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jw(e,t,r){var n=t.pendingProps,i=Ht.current,a=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Mt(Ht,i&1),e===null)return zm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=cf(s,n,0,null),e=No(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Wm(r),t.memoizedState=Zm,e):Cv(t,s));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return xT(e,t,s,n,c,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,c=i.sibling;var d={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=Oa(i,d),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=Oa(c,a):(a=No(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Wm(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=Zm,n}return a=e.child,e=a.sibling,n=Oa(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Cv(e,t){return t=cf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rd(e,t,r,n){return n!==null&&uv(n),rl(t,e.child,null,r),e=Cv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xT(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Ep(Error(je(422))),Rd(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=cf({mode:"visible",children:n.children},i,0,null),a=No(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&rl(t,e.child,null,s),t.child.memoizedState=Wm(s),t.memoizedState=Zm,a);if(!(t.mode&1))return Rd(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(je(419)),n=Ep(a,n,void 0),Rd(e,t,s,n)}if(c=(s&e.childLanes)!==0,tn||c){if(n=xr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Zi(e,i),ni(n,e,i,-1))}return kv(),n=Ep(Error(je(421))),Rd(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=OT.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,xn=Na(i.nextSibling),_n=t,$t=!0,Qn=null,e!==null&&(jn[On++]=Ui,jn[On++]=$i,jn[On++]=Oo,Ui=e.id,$i=e.overflow,Oo=t),t=Cv(t,n.children),t.flags|=4096,t)}function Qy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Um(e.return,t,r)}function Sp(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Kw(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if($r(e,t,n.children,r),n=Ht.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qy(e,r,t);else if(e.tag===19)Qy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Mt(Ht,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Nh(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Sp(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Nh(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Sp(t,!0,r,null,a);break;case"together":Sp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Po|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(je(153));if(t.child!==null){for(e=t.child,r=Oa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Oa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _T(e,t,r){switch(t.tag){case 3:Xw(t),tl();break;case 5:Cw(t);break;case 1:an(t.type)&&wh(t);break;case 4:mv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Mt(Sh,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Mt(Ht,Ht.current&1),t.flags|=128,null):r&t.child.childLanes?Jw(e,t,r):(Mt(Ht,Ht.current&1),e=Wi(e,t,r),e!==null?e.sibling:null);Mt(Ht,Ht.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Kw(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mt(Ht,Ht.current),n)break;return null;case 22:case 23:return t.lanes=0,Zw(e,t,r)}return Wi(e,t,r)}var Yw,Xm,Qw,e2;Yw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xm=function(){};Qw=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ao(wi.current);var a=null;switch(r){case"input":i=vm(e,i),n=vm(e,n),a=[];break;case"select":i=Xt({},i,{value:void 0}),n=Xt({},n,{value:void 0}),a=[];break;case"textarea":i=_m(e,i),n=_m(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_h)}wm(r,n);var s;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(s in c)c.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Bu.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in n){var d=n[h];if(c=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(s in c)!c.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in d)d.hasOwnProperty(s)&&c[s]!==d[s]&&(r||(r={}),r[s]=d[s])}else r||(a||(a=[]),a.push(h,r)),r=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&zt("scroll",e),a||c===d||(a=[])):(a=a||[]).push(h,d))}r&&(a=a||[]).push("style",r);var h=a;(t.updateQueue=h)&&(t.flags|=4)}};e2=function(e,t,r,n){r!==n&&(t.flags|=4)};function cu(e,t){if(!$t)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function bT(e,t,r){var n=t.pendingProps;switch(lv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(t),null;case 1:return an(t.type)&&bh(),Tr(t),null;case 3:return n=t.stateNode,nl(),Ut(nn),Ut(jr),vv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qn!==null&&(ng(Qn),Qn=null))),Xm(e,t),Tr(t),null;case 5:gv(t);var i=Ao(Ku.current);if(r=t.type,e!==null&&t.stateNode!=null)Qw(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(je(166));return Tr(t),null}if(e=Ao(wi.current),jd(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[xi]=t,n[Xu]=a,e=(t.mode&1)!==0,r){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(i=0;i<wu.length;i++)zt(wu[i],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":ly(n,a),zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},zt("invalid",n);break;case"textarea":cy(n,a),zt("invalid",n)}wm(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&Dd(n.textContent,c,e),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Dd(n.textContent,c,e),i=["children",""+c]):Bu.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&zt("scroll",n)}switch(r){case"input":wd(n),uy(n,a,!0);break;case"textarea":wd(n),dy(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=_h)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[xi]=t,e[Xu]=n,Yw(e,t,!1,!1),t.stateNode=e;e:{switch(s=Cm(r,n),r){case"dialog":zt("cancel",e),zt("close",e),i=n;break;case"iframe":case"object":case"embed":zt("load",e),i=n;break;case"video":case"audio":for(i=0;i<wu.length;i++)zt(wu[i],e);i=n;break;case"source":zt("error",e),i=n;break;case"img":case"image":case"link":zt("error",e),zt("load",e),i=n;break;case"details":zt("toggle",e),i=n;break;case"input":ly(e,n),i=vm(e,n),zt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Xt({},n,{value:void 0}),zt("invalid",e);break;case"textarea":cy(e,n),i=_m(e,n),zt("invalid",e);break;default:i=n}wm(r,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?jb(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&kb(e,d)):a==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&zu(e,d):typeof d=="number"&&zu(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bu.hasOwnProperty(a)?d!=null&&a==="onScroll"&&zt("scroll",e):d!=null&&Zg(e,a,d,s))}switch(r){case"input":wd(e),uy(e,n,!1);break;case"textarea":wd(e),dy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ma(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Gs(e,!!n.multiple,a,!1):n.defaultValue!=null&&Gs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_h)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tr(t),null;case 6:if(e&&t.stateNode!=null)e2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(je(166));if(r=Ao(Ku.current),Ao(wi.current),jd(t)){if(n=t.stateNode,r=t.memoizedProps,n[xi]=t,(a=n.nodeValue!==r)&&(e=_n,e!==null))switch(e.tag){case 3:Dd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dd(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xi]=t,t.stateNode=n}return Tr(t),null;case 13:if(Ut(Ht),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($t&&xn!==null&&t.mode&1&&!(t.flags&128))yw(),tl(),t.flags|=98560,a=!1;else if(a=jd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(je(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(je(317));a[xi]=t}else tl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tr(t),a=!1}else Qn!==null&&(ng(Qn),Qn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ht.current&1?fr===0&&(fr=3):kv())),t.updateQueue!==null&&(t.flags|=4),Tr(t),null);case 4:return nl(),Xm(e,t),e===null&&Zu(t.stateNode.containerInfo),Tr(t),null;case 10:return hv(t.type._context),Tr(t),null;case 17:return an(t.type)&&bh(),Tr(t),null;case 19:if(Ut(Ht),a=t.memoizedState,a===null)return Tr(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)cu(a,!1);else{if(fr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Nh(e),s!==null){for(t.flags|=128,cu(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Mt(Ht,Ht.current&1|2),t.child}e=e.sibling}a.tail!==null&&ir()>al&&(t.flags|=128,n=!0,cu(a,!1),t.lanes=4194304)}else{if(!n)if(e=Nh(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),cu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!$t)return Tr(t),null}else 2*ir()-a.renderingStartTime>al&&r!==1073741824&&(t.flags|=128,n=!0,cu(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ir(),t.sibling=null,r=Ht.current,Mt(Ht,n?r&1|2:r&1),t):(Tr(t),null);case 22:case 23:return Nv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yn&1073741824&&(Tr(t),t.subtreeFlags&6&&(t.flags|=8192)):Tr(t),null;case 24:return null;case 25:return null}throw Error(je(156,t.tag))}function wT(e,t){switch(lv(t),t.tag){case 1:return an(t.type)&&bh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nl(),Ut(nn),Ut(jr),vv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gv(t),null;case 13:if(Ut(Ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(je(340));tl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ut(Ht),null;case 4:return nl(),null;case 10:return hv(t.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var Pd=!1,kr=!1,CT=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function zs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yt(e,t,n)}else r.current=null}function Jm(e,t,r){try{r()}catch(n){Yt(e,t,n)}}var ex=!1;function ET(e,t){if(Rm=vh,e=aw(),ov(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,c=-1,d=-1,h=0,f=0,g=e,v=null;t:for(;;){for(var _;g!==r||i!==0&&g.nodeType!==3||(c=s+i),g!==a||n!==0&&g.nodeType!==3||(d=s+n),g.nodeType===3&&(s+=g.nodeValue.length),(_=g.firstChild)!==null;)v=g,g=_;for(;;){if(g===e)break t;if(v===r&&++h===i&&(c=s),v===a&&++f===n&&(d=s),(_=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=_}r=c===-1||d===-1?null:{start:c,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pm={focusedElem:e,selectionRange:r},vh=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var E=k.memoizedProps,j=k.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?E:Wn(t.type,E),j);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(S){Yt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return k=ex,ex=!1,k}function ju(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Jm(t,r,a)}i=i.next}while(i!==n)}}function lf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Km(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function t2(e){var t=e.alternate;t!==null&&(e.alternate=null,t2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xi],delete t[Xu],delete t[Mm],delete t[oT],delete t[sT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function r2(e){return e.tag===5||e.tag===3||e.tag===4}function tx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ym(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_h));else if(n!==4&&(e=e.child,e!==null))for(Ym(e,t,r),e=e.sibling;e!==null;)Ym(e,t,r),e=e.sibling}function Qm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Qm(e,t,r),e=e.sibling;e!==null;)Qm(e,t,r),e=e.sibling}var br=null,Xn=!1;function oa(e,t,r){for(r=r.child;r!==null;)n2(e,t,r),r=r.sibling}function n2(e,t,r){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(Qh,r)}catch{}switch(r.tag){case 5:kr||zs(r,t);case 6:var n=br,i=Xn;br=null,oa(e,t,r),br=n,Xn=i,br!==null&&(Xn?(e=br,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):br.removeChild(r.stateNode));break;case 18:br!==null&&(Xn?(e=br,r=r.stateNode,e.nodeType===8?yp(e.parentNode,r):e.nodeType===1&&yp(e,r),qu(e)):yp(br,r.stateNode));break;case 4:n=br,i=Xn,br=r.stateNode.containerInfo,Xn=!0,oa(e,t,r),br=n,Xn=i;break;case 0:case 11:case 14:case 15:if(!kr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Jm(r,t,s),i=i.next}while(i!==n)}oa(e,t,r);break;case 1:if(!kr&&(zs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Yt(r,t,c)}oa(e,t,r);break;case 21:oa(e,t,r);break;case 22:r.mode&1?(kr=(n=kr)||r.memoizedState!==null,oa(e,t,r),kr=n):oa(e,t,r);break;default:oa(e,t,r)}}function rx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new CT),t.forEach(function(n){var i=RT.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Gn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,c=s;e:for(;c!==null;){switch(c.tag){case 5:br=c.stateNode,Xn=!1;break e;case 3:br=c.stateNode.containerInfo,Xn=!0;break e;case 4:br=c.stateNode.containerInfo,Xn=!0;break e}c=c.return}if(br===null)throw Error(je(160));n2(a,s,i),br=null,Xn=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(h){Yt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)i2(t,e),t=t.sibling}function i2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),mi(e),n&4){try{ju(3,e,e.return),lf(3,e)}catch(E){Yt(e,e.return,E)}try{ju(5,e,e.return)}catch(E){Yt(e,e.return,E)}}break;case 1:Gn(t,e),mi(e),n&512&&r!==null&&zs(r,r.return);break;case 5:if(Gn(t,e),mi(e),n&512&&r!==null&&zs(r,r.return),e.flags&32){var i=e.stateNode;try{zu(i,"")}catch(E){Yt(e,e.return,E)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Ab(i,a),Cm(c,s);var h=Cm(c,a);for(s=0;s<d.length;s+=2){var f=d[s],g=d[s+1];f==="style"?jb(i,g):f==="dangerouslySetInnerHTML"?kb(i,g):f==="children"?zu(i,g):Zg(i,f,g,h)}switch(c){case"input":ym(i,a);break;case"textarea":Tb(i,a);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var _=a.value;_!=null?Gs(i,!!a.multiple,_,!1):v!==!!a.multiple&&(a.defaultValue!=null?Gs(i,!!a.multiple,a.defaultValue,!0):Gs(i,!!a.multiple,a.multiple?[]:"",!1))}i[Xu]=a}catch(E){Yt(e,e.return,E)}}break;case 6:if(Gn(t,e),mi(e),n&4){if(e.stateNode===null)throw Error(je(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(E){Yt(e,e.return,E)}}break;case 3:if(Gn(t,e),mi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qu(t.containerInfo)}catch(E){Yt(e,e.return,E)}break;case 4:Gn(t,e),mi(e);break;case 13:Gn(t,e),mi(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Av=ir())),n&4&&rx(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(kr=(h=kr)||f,Gn(t,e),kr=h):Gn(t,e),mi(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!f&&e.mode&1)for(Ue=e,f=e.child;f!==null;){for(g=Ue=f;Ue!==null;){switch(v=Ue,_=v.child,v.tag){case 0:case 11:case 14:case 15:ju(4,v,v.return);break;case 1:zs(v,v.return);var k=v.stateNode;if(typeof k.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(E){Yt(n,r,E)}}break;case 5:zs(v,v.return);break;case 22:if(v.memoizedState!==null){ix(g);continue}}_!==null?(_.return=v,Ue=_):ix(g)}f=f.sibling}e:for(f=null,g=e;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,h?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=g.stateNode,d=g.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Db("display",s))}catch(E){Yt(e,e.return,E)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(E){Yt(e,e.return,E)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Gn(t,e),mi(e),n&4&&rx(e);break;case 21:break;default:Gn(t,e),mi(e)}}function mi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(r2(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zu(i,""),n.flags&=-33);var a=tx(e);Qm(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,c=tx(e);Ym(e,c,s);break;default:throw Error(je(161))}}catch(d){Yt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ST(e,t,r){Ue=e,a2(e)}function a2(e,t,r){for(var n=(e.mode&1)!==0;Ue!==null;){var i=Ue,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Pd;if(!s){var c=i.alternate,d=c!==null&&c.memoizedState!==null||kr;c=Pd;var h=kr;if(Pd=s,(kr=d)&&!h)for(Ue=i;Ue!==null;)s=Ue,d=s.child,s.tag===22&&s.memoizedState!==null?ax(i):d!==null?(d.return=s,Ue=d):ax(i);for(;a!==null;)Ue=a,a2(a),a=a.sibling;Ue=i,Pd=c,kr=h}nx(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ue=a):nx(e)}}function nx(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kr||lf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!kr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Wn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Uy(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Uy(t,s,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&qu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}kr||t.flags&512&&Km(t)}catch(v){Yt(t,t.return,v)}}if(t===e){Ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ue=r;break}Ue=t.return}}function ix(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ue=r;break}Ue=t.return}}function ax(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{lf(4,t)}catch(d){Yt(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(d){Yt(t,i,d)}}var a=t.return;try{Km(t)}catch(d){Yt(t,a,d)}break;case 5:var s=t.return;try{Km(t)}catch(d){Yt(t,s,d)}}}catch(d){Yt(t,t.return,d)}if(t===e){Ue=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Ue=c;break}Ue=t.return}}var AT=Math.ceil,jh=Ji.ReactCurrentDispatcher,Ev=Ji.ReactCurrentOwner,Pn=Ji.ReactCurrentBatchConfig,Ct=0,xr=null,ur=null,wr=0,yn=0,Us=Ga(0),fr=0,tc=null,Po=0,uf=0,Sv=0,Ou=null,Yr=null,Av=0,al=1/0,Fi=null,Oh=!1,eg=null,Da=null,Ld=!1,wa=null,Rh=0,Ru=0,tg=null,lh=-1,uh=0;function Vr(){return Ct&6?ir():lh!==-1?lh:lh=ir()}function ja(e){return e.mode&1?Ct&2&&wr!==0?wr&-wr:uT.transition!==null?(uh===0&&(uh=Vb()),uh):(e=Ot,e!==0||(e=window.event,e=e===void 0?16:Jb(e.type)),e):1}function ni(e,t,r,n){if(50<Ru)throw Ru=0,tg=null,Error(je(185));Tc(e,r,n),(!(Ct&2)||e!==xr)&&(e===xr&&(!(Ct&2)&&(uf|=r),fr===4&&xa(e,wr)),on(e,n),r===1&&Ct===0&&!(t.mode&1)&&(al=ir()+500,af&&Ha()))}function on(e,t){var r=e.callbackNode;uA(e,t);var n=gh(e,e===xr?wr:0);if(n===0)r!==null&&py(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&py(r),t===1)e.tag===0?lT(ox.bind(null,e)):mw(ox.bind(null,e)),iT(function(){!(Ct&6)&&Ha()}),r=null;else{switch(qb(n)){case 1:r=Yg;break;case 4:r=Ub;break;case 16:r=mh;break;case 536870912:r=$b;break;default:r=mh}r=f2(r,o2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function o2(e,t){if(lh=-1,uh=0,Ct&6)throw Error(je(327));var r=e.callbackNode;if(Js()&&e.callbackNode!==r)return null;var n=gh(e,e===xr?wr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ph(e,n);else{t=n;var i=Ct;Ct|=2;var a=l2();(xr!==e||wr!==t)&&(Fi=null,al=ir()+500,To(e,t));do try{kT();break}catch(c){s2(e,c)}while(!0);dv(),jh.current=a,Ct=i,ur!==null?t=0:(xr=null,wr=0,t=fr)}if(t!==0){if(t===2&&(i=Nm(e),i!==0&&(n=i,t=rg(e,i))),t===1)throw r=tc,To(e,0),xa(e,n),on(e,ir()),r;if(t===6)xa(e,n);else{if(i=e.current.alternate,!(n&30)&&!TT(i)&&(t=Ph(e,n),t===2&&(a=Nm(e),a!==0&&(n=a,t=rg(e,a))),t===1))throw r=tc,To(e,0),xa(e,n),on(e,ir()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(je(345));case 2:xo(e,Yr,Fi);break;case 3:if(xa(e,n),(n&130023424)===n&&(t=Av+500-ir(),10<t)){if(gh(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Vr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Im(xo.bind(null,e,Yr,Fi),t);break}xo(e,Yr,Fi);break;case 4:if(xa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-ri(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=ir()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AT(n/1960))-n,10<n){e.timeoutHandle=Im(xo.bind(null,e,Yr,Fi),n);break}xo(e,Yr,Fi);break;case 5:xo(e,Yr,Fi);break;default:throw Error(je(329))}}}return on(e,ir()),e.callbackNode===r?o2.bind(null,e):null}function rg(e,t){var r=Ou;return e.current.memoizedState.isDehydrated&&(To(e,t).flags|=256),e=Ph(e,t),e!==2&&(t=Yr,Yr=r,t!==null&&ng(t)),e}function ng(e){Yr===null?Yr=e:Yr.push.apply(Yr,e)}function TT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ai(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xa(e,t){for(t&=~Sv,t&=~uf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ri(t),n=1<<r;e[r]=-1,t&=~n}}function ox(e){if(Ct&6)throw Error(je(327));Js();var t=gh(e,0);if(!(t&1))return on(e,ir()),null;var r=Ph(e,t);if(e.tag!==0&&r===2){var n=Nm(e);n!==0&&(t=n,r=rg(e,n))}if(r===1)throw r=tc,To(e,0),xa(e,t),on(e,ir()),r;if(r===6)throw Error(je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xo(e,Yr,Fi),on(e,ir()),null}function Tv(e,t){var r=Ct;Ct|=1;try{return e(t)}finally{Ct=r,Ct===0&&(al=ir()+500,af&&Ha())}}function Lo(e){wa!==null&&wa.tag===0&&!(Ct&6)&&Js();var t=Ct;Ct|=1;var r=Pn.transition,n=Ot;try{if(Pn.transition=null,Ot=1,e)return e()}finally{Ot=n,Pn.transition=r,Ct=t,!(Ct&6)&&Ha()}}function Nv(){yn=Us.current,Ut(Us)}function To(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nT(r)),ur!==null)for(r=ur.return;r!==null;){var n=r;switch(lv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bh();break;case 3:nl(),Ut(nn),Ut(jr),vv();break;case 5:gv(n);break;case 4:nl();break;case 13:Ut(Ht);break;case 19:Ut(Ht);break;case 10:hv(n.type._context);break;case 22:case 23:Nv()}r=r.return}if(xr=e,ur=e=Oa(e.current,null),wr=yn=t,fr=0,tc=null,Sv=uf=Po=0,Yr=Ou=null,So!==null){for(t=0;t<So.length;t++)if(r=So[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}So=null}return e}function s2(e,t){do{var r=ur;try{if(dv(),ah.current=Dh,kh){for(var n=Wt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kh=!1}if(Ro=0,yr=hr=Wt=null,Du=!1,Yu=0,Ev.current=null,r===null||r.return===null){fr=1,tc=t,ur=null;break}e:{var a=e,s=r.return,c=r,d=t;if(t=wr,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,f=c,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=Zy(s);if(_!==null){_.flags&=-257,Wy(_,s,c,a,t),_.mode&1&&Hy(a,h,t),t=_,d=h;var k=t.updateQueue;if(k===null){var E=new Set;E.add(d),t.updateQueue=E}else k.add(d);break e}else{if(!(t&1)){Hy(a,h,t),kv();break e}d=Error(je(426))}}else if($t&&c.mode&1){var j=Zy(s);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Wy(j,s,c,a,t),uv(il(d,c));break e}}a=d=il(d,c),fr!==4&&(fr=2),Ou===null?Ou=[a]:Ou.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=qw(a,d,t);zy(a,x);break e;case 1:c=d;var w=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Da===null||!Da.has(A)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=Gw(a,c,t);zy(a,S);break e}}a=a.return}while(a!==null)}c2(r)}catch(T){t=T,ur===r&&r!==null&&(ur=r=r.return);continue}break}while(!0)}function l2(){var e=jh.current;return jh.current=Dh,e===null?Dh:e}function kv(){(fr===0||fr===3||fr===2)&&(fr=4),xr===null||!(Po&268435455)&&!(uf&268435455)||xa(xr,wr)}function Ph(e,t){var r=Ct;Ct|=2;var n=l2();(xr!==e||wr!==t)&&(Fi=null,To(e,t));do try{NT();break}catch(i){s2(e,i)}while(!0);if(dv(),Ct=r,jh.current=n,ur!==null)throw Error(je(261));return xr=null,wr=0,fr}function NT(){for(;ur!==null;)u2(ur)}function kT(){for(;ur!==null&&!eA();)u2(ur)}function u2(e){var t=h2(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?c2(e):ur=t,Ev.current=null}function c2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wT(r,t),r!==null){r.flags&=32767,ur=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fr=6,ur=null;return}}else if(r=bT(r,t,yn),r!==null){ur=r;return}if(t=t.sibling,t!==null){ur=t;return}ur=t=e}while(t!==null);fr===0&&(fr=5)}function xo(e,t,r){var n=Ot,i=Pn.transition;try{Pn.transition=null,Ot=1,DT(e,t,r,n)}finally{Pn.transition=i,Ot=n}return null}function DT(e,t,r,n){do Js();while(wa!==null);if(Ct&6)throw Error(je(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(je(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(cA(e,a),e===xr&&(ur=xr=null,wr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ld||(Ld=!0,f2(mh,function(){return Js(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Pn.transition,Pn.transition=null;var s=Ot;Ot=1;var c=Ct;Ct|=4,Ev.current=null,ET(e,r),i2(r,e),JA(Pm),vh=!!Rm,Pm=Rm=null,e.current=r,ST(r),tA(),Ct=c,Ot=s,Pn.transition=a}else e.current=r;if(Ld&&(Ld=!1,wa=e,Rh=i),a=e.pendingLanes,a===0&&(Da=null),iA(r.stateNode),on(e,ir()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Oh)throw Oh=!1,e=eg,eg=null,e;return Rh&1&&e.tag!==0&&Js(),a=e.pendingLanes,a&1?e===tg?Ru++:(Ru=0,tg=e):Ru=0,Ha(),null}function Js(){if(wa!==null){var e=qb(Rh),t=Pn.transition,r=Ot;try{if(Pn.transition=null,Ot=16>e?16:e,wa===null)var n=!1;else{if(e=wa,wa=null,Rh=0,Ct&6)throw Error(je(331));var i=Ct;for(Ct|=4,Ue=e.current;Ue!==null;){var a=Ue,s=a.child;if(Ue.flags&16){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(Ue=h;Ue!==null;){var f=Ue;switch(f.tag){case 0:case 11:case 15:ju(8,f,a)}var g=f.child;if(g!==null)g.return=f,Ue=g;else for(;Ue!==null;){f=Ue;var v=f.sibling,_=f.return;if(t2(f),f===h){Ue=null;break}if(v!==null){v.return=_,Ue=v;break}Ue=_}}}var k=a.alternate;if(k!==null){var E=k.child;if(E!==null){k.child=null;do{var j=E.sibling;E.sibling=null,E=j}while(E!==null)}}Ue=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ue=s;else e:for(;Ue!==null;){if(a=Ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ju(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Ue=x;break e}Ue=a.return}}var w=e.current;for(Ue=w;Ue!==null;){s=Ue;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Ue=A;else e:for(s=w;Ue!==null;){if(c=Ue,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:lf(9,c)}}catch(T){Yt(c,c.return,T)}if(c===s){Ue=null;break e}var S=c.sibling;if(S!==null){S.return=c.return,Ue=S;break e}Ue=c.return}}if(Ct=i,Ha(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(Qh,e)}catch{}n=!0}return n}finally{Ot=r,Pn.transition=t}}return!1}function sx(e,t,r){t=il(r,t),t=qw(e,t,1),e=ka(e,t,1),t=Vr(),e!==null&&(Tc(e,1,t),on(e,t))}function Yt(e,t,r){if(e.tag===3)sx(e,e,r);else for(;t!==null;){if(t.tag===3){sx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Da===null||!Da.has(n))){e=il(r,e),e=Gw(t,e,1),t=ka(t,e,1),e=Vr(),t!==null&&(Tc(t,1,e),on(t,e));break}}t=t.return}}function jT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Vr(),e.pingedLanes|=e.suspendedLanes&r,xr===e&&(wr&r)===r&&(fr===4||fr===3&&(wr&130023424)===wr&&500>ir()-Av?To(e,0):Sv|=r),on(e,t)}function d2(e,t){t===0&&(e.mode&1?(t=Sd,Sd<<=1,!(Sd&130023424)&&(Sd=4194304)):t=1);var r=Vr();e=Zi(e,t),e!==null&&(Tc(e,t,r),on(e,r))}function OT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),d2(e,r)}function RT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(t),d2(e,r)}var h2;h2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||nn.current)tn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return tn=!1,_T(e,t,r);tn=!!(e.flags&131072)}else tn=!1,$t&&t.flags&1048576&&gw(t,Eh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;sh(e,t),e=t.pendingProps;var i=el(t,jr.current);Xs(t,r),i=xv(null,t,n,e,i,r);var a=_v();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,an(n)?(a=!0,wh(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pv(t),i.updater=sf,t.stateNode=i,i._reactInternals=t,Vm(t,n,e,r),t=Hm(null,t,n,!0,a,r)):(t.tag=0,$t&&a&&sv(t),$r(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(sh(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=LT(n),e=Wn(n,e),i){case 0:t=Gm(null,t,n,e,r);break e;case 1:t=Ky(null,t,n,e,r);break e;case 11:t=Xy(null,t,n,e,r);break e;case 14:t=Jy(null,t,n,Wn(n.type,e),r);break e}throw Error(je(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),Gm(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),Ky(e,t,n,i,r);case 3:e:{if(Xw(t),e===null)throw Error(je(387));n=t.pendingProps,a=t.memoizedState,i=a.element,ww(e,t),Th(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=il(Error(je(423)),t),t=Yy(e,t,n,r,i);break e}else if(n!==i){i=il(Error(je(424)),t),t=Yy(e,t,n,r,i);break e}else for(xn=Na(t.stateNode.containerInfo.firstChild),_n=t,$t=!0,Qn=null,r=_w(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tl(),n===i){t=Wi(e,t,r);break e}$r(e,t,n,r)}t=t.child}return t;case 5:return Cw(t),e===null&&zm(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Lm(n,i)?s=null:a!==null&&Lm(n,a)&&(t.flags|=32),Ww(e,t),$r(e,t,s,r),t.child;case 6:return e===null&&zm(t),null;case 13:return Jw(e,t,r);case 4:return mv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rl(t,null,n,r):$r(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),Xy(e,t,n,i,r);case 7:return $r(e,t,t.pendingProps,r),t.child;case 8:return $r(e,t,t.pendingProps.children,r),t.child;case 12:return $r(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Mt(Sh,n._currentValue),n._currentValue=s,a!==null)if(ai(a.value,s)){if(a.children===i.children&&!nn.current){t=Wi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){s=a.child;for(var d=c.firstContext;d!==null;){if(d.context===n){if(a.tag===1){d=Vi(-1,r&-r),d.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?d.next=d:(d.next=f.next,f.next=d),h.pending=d}}a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),Um(a.return,r,t),c.lanes|=r;break}d=d.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(je(341));s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Um(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}$r(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Xs(t,r),i=In(i),n=n(i),t.flags|=1,$r(e,t,n,r),t.child;case 14:return n=t.type,i=Wn(n,t.pendingProps),i=Wn(n.type,i),Jy(e,t,n,i,r);case 15:return Hw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),sh(e,t),t.tag=1,an(n)?(e=!0,wh(t)):e=!1,Xs(t,r),Vw(t,n,i),Vm(t,n,i,r),Hm(null,t,n,!0,e,r);case 19:return Kw(e,t,r);case 22:return Zw(e,t,r)}throw Error(je(156,t.tag))};function f2(e,t){return zb(e,t)}function PT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,r,n){return new PT(e,t,r,n)}function Dv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LT(e){if(typeof e=="function")return Dv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xg)return 11;if(e===Jg)return 14}return 2}function Oa(e,t){var r=e.alternate;return r===null?(r=Rn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ch(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")Dv(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case js:return No(r.children,i,a,t);case Wg:s=8,i|=8;break;case fm:return e=Rn(12,r,t,i|2),e.elementType=fm,e.lanes=a,e;case pm:return e=Rn(13,r,t,i),e.elementType=pm,e.lanes=a,e;case mm:return e=Rn(19,r,t,i),e.elementType=mm,e.lanes=a,e;case Cb:return cf(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bb:s=10;break e;case wb:s=9;break e;case Xg:s=11;break e;case Jg:s=14;break e;case pa:s=16,n=null;break e}throw Error(je(130,e==null?e:typeof e,""))}return t=Rn(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function No(e,t,r,n){return e=Rn(7,e,n,t),e.lanes=r,e}function cf(e,t,r,n){return e=Rn(22,e,n,t),e.elementType=Cb,e.lanes=r,e.stateNode={isHidden:!1},e}function Ap(e,t,r){return e=Rn(6,e,null,t),e.lanes=r,e}function Tp(e,t,r){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IT(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jv(e,t,r,n,i,a,s,c,d){return e=new IT(e,t,r,c,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Rn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pv(a),e}function MT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function p2(e){if(!e)return Fa;e=e._reactInternals;e:{if(Uo(e)!==e||e.tag!==1)throw Error(je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(an(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(je(171))}if(e.tag===1){var r=e.type;if(an(r))return pw(e,r,t)}return t}function m2(e,t,r,n,i,a,s,c,d){return e=jv(r,n,!0,e,i,a,s,c,d),e.context=p2(null),r=e.current,n=Vr(),i=ja(r),a=Vi(n,i),a.callback=t??null,ka(r,a,i),e.current.lanes=i,Tc(e,i,n),on(e,n),e}function df(e,t,r,n){var i=t.current,a=Vr(),s=ja(i);return r=p2(r),t.context===null?t.context=r:t.pendingContext=r,t=Vi(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ka(i,t,s),e!==null&&(ni(e,i,s,a),ih(e,i,s)),s}function Lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ov(e,t){lx(e,t),(e=e.alternate)&&lx(e,t)}function FT(){return null}var g2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rv(e){this._internalRoot=e}hf.prototype.render=Rv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(je(409));df(e,t,null,null)};hf.prototype.unmount=Rv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lo(function(){df(null,e,null,null)}),t[Hi]=null}};function hf(e){this._internalRoot=e}hf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ya.length&&t!==0&&t<ya[r].priority;r++);ya.splice(r,0,e),r===0&&Xb(e)}};function Pv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ux(){}function BT(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var h=Lh(s);a.call(h)}}var s=m2(t,n,e,0,null,!1,!1,"",ux);return e._reactRootContainer=s,e[Hi]=s.current,Zu(e.nodeType===8?e.parentNode:e),Lo(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var h=Lh(d);c.call(h)}}var d=jv(e,0,!1,null,null,!1,!1,"",ux);return e._reactRootContainer=d,e[Hi]=d.current,Zu(e.nodeType===8?e.parentNode:e),Lo(function(){df(t,d,r,n)}),d}function pf(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var c=i;i=function(){var d=Lh(s);c.call(d)}}df(t,s,e,i)}else s=BT(r,t,e,i,n);return Lh(s)}Gb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bu(t.pendingLanes);r!==0&&(Qg(t,r|1),on(t,ir()),!(Ct&6)&&(al=ir()+500,Ha()))}break;case 13:Lo(function(){var n=Zi(e,1);if(n!==null){var i=Vr();ni(n,e,1,i)}}),Ov(e,1)}};ev=function(e){if(e.tag===13){var t=Zi(e,134217728);if(t!==null){var r=Vr();ni(t,e,134217728,r)}Ov(e,134217728)}};Hb=function(e){if(e.tag===13){var t=ja(e),r=Zi(e,t);if(r!==null){var n=Vr();ni(r,e,t,n)}Ov(e,t)}};Zb=function(){return Ot};Wb=function(e,t){var r=Ot;try{return Ot=e,t()}finally{Ot=r}};Sm=function(e,t,r){switch(t){case"input":if(ym(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=nf(n);if(!i)throw Error(je(90));Sb(n),ym(n,i)}}}break;case"textarea":Tb(e,r);break;case"select":t=r.value,t!=null&&Gs(e,!!r.multiple,t,!1)}};Pb=Tv;Lb=Lo;var zT={usingClientEntryPoint:!1,Events:[kc,Ls,nf,Ob,Rb,Tv]},du={findFiberByHostInstance:Eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UT={bundleType:du.bundleType,version:du.version,rendererPackageName:du.rendererPackageName,rendererConfig:du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fb(e),e===null?null:e.stateNode},findFiberByHostInstance:du.findFiberByHostInstance||FT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{Qh=Id.inject(UT),bi=Id}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zT;Sn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pv(t))throw Error(je(200));return MT(e,t,null,r)};Sn.createRoot=function(e,t){if(!Pv(e))throw Error(je(299));var r=!1,n="",i=g2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=jv(e,1,!1,null,null,r,!1,n,i),e[Hi]=t.current,Zu(e.nodeType===8?e.parentNode:e),new Rv(t)};Sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(je(188)):(e=Object.keys(e).join(","),Error(je(268,e)));return e=Fb(t),e=e===null?null:e.stateNode,e};Sn.flushSync=function(e){return Lo(e)};Sn.hydrate=function(e,t,r){if(!ff(t))throw Error(je(200));return pf(null,e,t,!0,r)};Sn.hydrateRoot=function(e,t,r){if(!Pv(e))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=g2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=m2(t,null,e,1,r??null,i,!1,a,s),e[Hi]=t.current,Zu(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new hf(t)};Sn.render=function(e,t,r){if(!ff(t))throw Error(je(200));return pf(null,e,t,!1,r)};Sn.unmountComponentAtNode=function(e){if(!ff(e))throw Error(je(40));return e._reactRootContainer?(Lo(function(){pf(null,null,e,!1,function(){e._reactRootContainer=null,e[Hi]=null})}),!0):!1};Sn.unstable_batchedUpdates=Tv;Sn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ff(r))throw Error(je(200));if(e==null||e._reactInternals===void 0)throw Error(je(38));return pf(e,t,r,!1,n)};Sn.version="18.3.1-next-f1338f8080-20240426";function v2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v2)}catch(e){console.error(e)}}v2(),vb.exports=Sn;var $T=vb.exports,y2,cx=$T;y2=cx.createRoot,cx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}var Ca;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ca||(Ca={}));const dx="popstate";function VT(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:c}=n.location;return ig("",{pathname:a,search:s,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ih(i)}return GT(t,r,null,e)}function ar(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function x2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qT(){return Math.random().toString(36).substr(2,8)}function hx(e,t){return{usr:e.state,key:e.key,idx:t}}function ig(e,t,r,n){return r===void 0&&(r=null),rc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wl(t):t,{state:r,key:t&&t.key||n||qT()})}function Ih(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function GT(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,c=Ca.Pop,d=null,h=f();h==null&&(h=0,s.replaceState(rc({},s.state,{idx:h}),""));function f(){return(s.state||{idx:null}).idx}function g(){c=Ca.Pop;let j=f(),x=j==null?null:j-h;h=j,d&&d({action:c,location:E.location,delta:x})}function v(j,x){c=Ca.Push;let w=ig(E.location,j,x);h=f()+1;let A=hx(w,h),S=E.createHref(w);try{s.pushState(A,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}a&&d&&d({action:c,location:E.location,delta:1})}function _(j,x){c=Ca.Replace;let w=ig(E.location,j,x);h=f();let A=hx(w,h),S=E.createHref(w);s.replaceState(A,"",S),a&&d&&d({action:c,location:E.location,delta:0})}function k(j){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof j=="string"?j:Ih(j);return w=w.replace(/ $/,"%20"),ar(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let E={get action(){return c},get location(){return e(i,s)},listen(j){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(dx,g),d=j,()=>{i.removeEventListener(dx,g),d=null}},createHref(j){return t(i,j)},createURL:k,encodeLocation(j){let x=k(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:v,replace:_,go(j){return s.go(j)}};return E}var fx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fx||(fx={}));function HT(e,t,r){return r===void 0&&(r="/"),ZT(e,t,r)}function ZT(e,t,r,n){let i=typeof t=="string"?wl(t):t,a=Lv(i.pathname||"/",r);if(a==null)return null;let s=_2(e);WT(s);let c=null;for(let d=0;c==null&&d<s.length;++d){let h=oN(a);c=nN(s[d],h)}return c}function _2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};d.relativePath.startsWith("/")&&(ar(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=Ra([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(ar(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),_2(a.children,t,f,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:tN(h,a.index),routesMeta:f})};return e.forEach((a,s)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,s);else for(let d of b2(a.path))i(a,s,d)}),t}function b2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=b2(n.join("/")),c=[];return c.push(...s.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...s),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function WT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rN(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const XT=/^:[\w-]+$/,JT=3,KT=2,YT=1,QT=10,eN=-2,px=e=>e==="*";function tN(e,t){let r=e.split("/"),n=r.length;return r.some(px)&&(n+=eN),t&&(n+=KT),r.filter(i=>!px(i)).reduce((i,a)=>i+(XT.test(a)?JT:a===""?YT:QT),n)}function rN(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function nN(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",g=iN({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),v=d.route;if(!g)return null;Object.assign(i,g.params),s.push({params:i,pathname:Ra([a,g.pathname]),pathnameBase:cN(Ra([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=Ra([a,g.pathnameBase]))}return s}function iN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=aN(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,f,g)=>{let{paramName:v,isOptional:_}=f;if(v==="*"){let E=c[g]||"";s=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const k=c[g];return _&&!k?h[v]=void 0:h[v]=(k||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:s,pattern:e}}function aN(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),x2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function oN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return x2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function sN(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?wl(e):e;return{pathname:r?r.startsWith("/")?r:lN(r,t):t,search:dN(n),hash:hN(i)}}function lN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Np(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Iv(e,t){let r=uN(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Mv(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=wl(e):(i=rc({},e),ar(!i.pathname||!i.pathname.includes("?"),Np("?","pathname","search",i)),ar(!i.pathname||!i.pathname.includes("#"),Np("#","pathname","hash",i)),ar(!i.search||!i.search.includes("#"),Np("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,c;if(s==null)c=r;else{let g=t.length-1;if(!n&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}c=g>=0?t[g]:"/"}let d=sN(i,c),h=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}const Ra=e=>e.join("/").replace(/\/\/+/g,"/"),cN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w2=["post","put","patch","delete"];new Set(w2);const pN=["get",...w2];new Set(pN);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}const Fv=ve.createContext(null),mN=ve.createContext(null),Za=ve.createContext(null),mf=ve.createContext(null),Wa=ve.createContext({outlet:null,matches:[],isDataRoute:!1}),C2=ve.createContext(null);function gN(e,t){let{relative:r}=t===void 0?{}:t;Cl()||ar(!1);let{basename:n,navigator:i}=ve.useContext(Za),{hash:a,pathname:s,search:c}=S2(e,{relative:r}),d=s;return n!=="/"&&(d=s==="/"?n:Ra([n,s])),i.createHref({pathname:d,search:c,hash:a})}function Cl(){return ve.useContext(mf)!=null}function $o(){return Cl()||ar(!1),ve.useContext(mf).location}function E2(e){ve.useContext(Za).static||ve.useLayoutEffect(e)}function El(){let{isDataRoute:e}=ve.useContext(Wa);return e?kN():vN()}function vN(){Cl()||ar(!1);let e=ve.useContext(Fv),{basename:t,future:r,navigator:n}=ve.useContext(Za),{matches:i}=ve.useContext(Wa),{pathname:a}=$o(),s=JSON.stringify(Iv(i,r.v7_relativeSplatPath)),c=ve.useRef(!1);return E2(()=>{c.current=!0}),ve.useCallback(function(h,f){if(f===void 0&&(f={}),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=Mv(h,JSON.parse(s),a,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ra([t,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[t,n,s,a,e])}function S2(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=ve.useContext(Za),{matches:i}=ve.useContext(Wa),{pathname:a}=$o(),s=JSON.stringify(Iv(i,n.v7_relativeSplatPath));return ve.useMemo(()=>Mv(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function yN(e,t){return xN(e,t)}function xN(e,t,r,n){Cl()||ar(!1);let{navigator:i,static:a}=ve.useContext(Za),{matches:s}=ve.useContext(Wa),c=s[s.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let f=$o(),g;if(t){var v;let x=typeof t=="string"?wl(t):t;h==="/"||(v=x.pathname)!=null&&v.startsWith(h)||ar(!1),g=x}else g=f;let _=g.pathname||"/",k=_;if(h!=="/"){let x=h.replace(/^\//,"").split("/");k="/"+_.replace(/^\//,"").split("/").slice(x.length).join("/")}let E=HT(e,{pathname:k}),j=EN(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},d,x.params),pathname:Ra([h,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?h:Ra([h,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return t&&j?ve.createElement(mf.Provider,{value:{location:nc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ca.Pop}},j):j}function _N(){let e=NN(),t=fN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ve.createElement(ve.Fragment,null,ve.createElement("h2",null,"Unexpected Application Error!"),ve.createElement("h3",{style:{fontStyle:"italic"}},t),r?ve.createElement("pre",{style:i},r):null,null)}const bN=ve.createElement(_N,null);class wN extends ve.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?ve.createElement(Wa.Provider,{value:this.props.routeContext},ve.createElement(C2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CN(e){let{routeContext:t,match:r,children:n}=e,i=ve.useContext(Fv);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ve.createElement(Wa.Provider,{value:t},n)}function EN(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,c=(i=r)==null?void 0:i.errors;if(c!=null){let f=s.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);f>=0||ar(!1),s=s.slice(0,Math.min(s.length,f+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<s.length;f++){let g=s[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:v,errors:_}=r,k=g.route.loader&&v[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||k){d=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,g,v)=>{let _,k=!1,E=null,j=null;r&&(_=c&&g.route.id?c[g.route.id]:void 0,E=g.route.errorElement||bN,d&&(h<0&&v===0?(DN("route-fallback"),k=!0,j=null):h===v&&(k=!0,j=g.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,v+1)),w=()=>{let A;return _?A=E:k?A=j:g.route.Component?A=ve.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=f,ve.createElement(CN,{match:g,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:A})};return r&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?ve.createElement(wN,{location:r.location,revalidation:r.revalidation,component:E,error:_,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var A2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(A2||{}),T2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(T2||{});function SN(e){let t=ve.useContext(Fv);return t||ar(!1),t}function AN(e){let t=ve.useContext(mN);return t||ar(!1),t}function TN(e){let t=ve.useContext(Wa);return t||ar(!1),t}function N2(e){let t=TN(),r=t.matches[t.matches.length-1];return r.route.id||ar(!1),r.route.id}function NN(){var e;let t=ve.useContext(C2),r=AN(),n=N2();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function kN(){let{router:e}=SN(A2.UseNavigateStable),t=N2(T2.UseNavigateStable),r=ve.useRef(!1);return E2(()=>{r.current=!0}),ve.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,nc({fromRouteId:t},a)))},[e,t])}const mx={};function DN(e,t,r){mx[e]||(mx[e]=!0)}function jN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function k2(e){let{to:t,replace:r,state:n,relative:i}=e;Cl()||ar(!1);let{future:a,static:s}=ve.useContext(Za),{matches:c}=ve.useContext(Wa),{pathname:d}=$o(),h=El(),f=Mv(t,Iv(c,a.v7_relativeSplatPath),d,i==="path"),g=JSON.stringify(f);return ve.useEffect(()=>h(JSON.parse(g),{replace:r,state:n,relative:i}),[h,g,i,r,n]),null}function _o(e){ar(!1)}function ON(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Ca.Pop,navigator:a,static:s=!1,future:c}=e;Cl()&&ar(!1);let d=t.replace(/^\/*/,"/"),h=ve.useMemo(()=>({basename:d,navigator:a,static:s,future:nc({v7_relativeSplatPath:!1},c)}),[d,c,a,s]);typeof n=="string"&&(n=wl(n));let{pathname:f="/",search:g="",hash:v="",state:_=null,key:k="default"}=n,E=ve.useMemo(()=>{let j=Lv(f,d);return j==null?null:{location:{pathname:j,search:g,hash:v,state:_,key:k},navigationType:i}},[d,f,g,v,_,k,i]);return E==null?null:ve.createElement(Za.Provider,{value:h},ve.createElement(mf.Provider,{children:r,value:E}))}function RN(e){let{children:t,location:r}=e;return yN(ag(t),r)}new Promise(()=>{});function ag(e,t){t===void 0&&(t=[]);let r=[];return ve.Children.forEach(e,(n,i)=>{if(!ve.isValidElement(n))return;let a=[...t,i];if(n.type===ve.Fragment){r.push.apply(r,ag(n.props.children,a));return}n.type!==_o&&ar(!1),!n.props.index||!n.props.children||ar(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=ag(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(this,arguments)}function PN(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function LN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IN(e,t){return e.button===0&&(!t||t==="_self")&&!LN(e)}const MN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FN="6";try{window.__reactRouterVersion=FN}catch{}const BN="startTransition",gx=jS[BN];function zN(e){let{basename:t,children:r,future:n,window:i}=e,a=ve.useRef();a.current==null&&(a.current=VT({window:i,v5Compat:!0}));let s=a.current,[c,d]=ve.useState({action:s.action,location:s.location}),{v7_startTransition:h}=n||{},f=ve.useCallback(g=>{h&&gx?gx(()=>d(g)):d(g)},[d,h]);return ve.useLayoutEffect(()=>s.listen(f),[s,f]),ve.useEffect(()=>jN(n),[n]),ve.createElement(ON,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:s,future:n})}const UN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$N=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sg=ve.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:c,target:d,to:h,preventScrollReset:f,viewTransition:g}=t,v=PN(t,MN),{basename:_}=ve.useContext(Za),k,E=!1;if(typeof h=="string"&&$N.test(h)&&(k=h,UN))try{let A=new URL(window.location.href),S=h.startsWith("//")?new URL(A.protocol+h):new URL(h),T=Lv(S.pathname,_);S.origin===A.origin&&T!=null?h=T+S.search+S.hash:E=!0}catch{}let j=gN(h,{relative:i}),x=VN(h,{replace:s,state:c,target:d,preventScrollReset:f,relative:i,viewTransition:g});function w(A){n&&n(A),A.defaultPrevented||x(A)}return ve.createElement("a",og({},v,{href:k||j,onClick:E||a?n:w,ref:r,target:d}))});var vx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vx||(vx={}));var yx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yx||(yx={}));function VN(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:c}=t===void 0?{}:t,d=El(),h=$o(),f=S2(e,{relative:s});return ve.useCallback(g=>{if(IN(g,r)){g.preventDefault();let v=n!==void 0?n:Ih(h)===Ih(f);d(e,{replace:v,state:i,preventScrollReset:a,relative:s,viewTransition:c})}},[h,d,f,n,i,r,e,a,s,c])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ln=(e,t)=>{const r=ve.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:c="",children:d,...h},f)=>ve.createElement("svg",{ref:f,...qN,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${GN(e)}`,c].join(" "),...h},[...t.map(([g,v])=>ve.createElement(g,v)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=ln("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=ln("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=ln("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ln("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ln("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ln("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=ln("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=ln("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ln("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=ln("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=ln("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=ln("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=ln("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=ln("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function QN({isOpen:e,onClose:t,onSubmit:r}){const[n,i]=ve.useState("");if(!e)return null;const a=s=>{s.preventDefault(),n.trim()&&(r(n.trim()),i(""),t())};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Nouvelle étude SORA"}),l.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:l.jsx(Bv,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:a,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'étude"}),l.jsx("input",{type:"text",value:n,onChange:s=>i(s.target.value),className:"w-full p-2 border rounded-md",placeholder:"Entrez le nom de l'étude",autoFocus:!0,required:!0})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Annuler"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Créer"})]})]})]})})}function ek({isOpen:e,studyName:t,onClose:r,onConfirm:n}){return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-red-600",children:"Supprimer l'évaluation"}),l.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:l.jsx(Bv,{className:"w-5 h-5"})})]}),l.jsxs("p",{className:"mb-6 text-gray-600",children:[`Êtes-vous sûr de vouloir supprimer l'évaluation "`,t,'" ? Cette action est irréversible.']}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Annuler"}),l.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Supprimer"})]})]})}):null}const tk=[{id:"M1",name:"Définition d'une zone tampon",description:"Établissement d'une zone tampon pour réduire le risque au sol",implemented:!1,robustnessLevel:"Low"},{id:"M2",name:"Réduction de la zone d'impact au sol",description:"Mesures techniques pour réduire la zone d'impact en cas de défaillance",implemented:!1,robustnessLevel:"Faible"}],rk=[{id:"OSO1",number:"01",description:"Opérateur UAS compétent et/ou approuvé",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO2",number:"02",description:"Constructeur UAS compétent et/ou approuvé",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO3",number:"03",description:"Maintenance UAS assurée par une entité compétente et/ou approuvée",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO4",number:"04",description:"UAS développé selon des standards reconnus par l’autorité",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO5",number:"05",description:"UAS conçu selon des standards de fiabilité et de sécurité",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO6",number:"06",description:"Performances du Lien C3 appropriées pour la mission",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO7",number:"07",description:"Inspections de l’UAS pour assurer la validité du ConOps",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO8",number:"08",description:"Procédures opérationnelles définies, validées et appliquées",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO9",number:"09",description:"Equipage formé, entrainé régulièrement et capable de faire face aux situations anormales",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO10",number:"10",description:"Retour à la normale en toute sécurité après un problème technique",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO11",number:"11",description:"Des procédures sont en place pour supporter la détérioration des systèmes externes de soutien à l’opération",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO12",number:"12",description:"L’UAS est conçu pour supporter la détérioration des systèmes externes de soutien",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO13",number:"13",description:"Les systèmes externes de soutien sont adéquats pour l’opération",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO14",number:"14",description:"Procédures opérationnelles définies, validées et appliquées",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO15",number:"15",description:"Equipage formé, entrainé régulièrement et capable de faire face aux situations anormales",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO16",number:"16",description:"Coordination intra-équipage",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO17",number:"17",description:"Equipage en capacité d’exploiter",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO18",number:"18",description:"Protection automatique de l’enveloppe de vol, résistance à l’erreur humaine",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO19",number:"19",description:"Retour à la normale en toute sécurité après une erreur humaine",requiredLevel:"Faible",status:"Faible",evidence:""}],Dp={operator:{name:"",managerName:"",operationalContact:"",registrationNumber:"",address:"",phone:"",email:""},drone:{manufacturer:"",model:"",uasType:"Avion",serialNumber:"",typeCertificateNumber:"",airworthinessCertificateNumber:"",acousticCertificateNumber:"",technicalDocuments:[],mass:0,CruiseSpeed:0,maxSpeed:0,minSpeed:0,maxCharacteristicDimension:0,classIdentification:null,dimensions:{length:0,width:0,height:0},materials:"",payloads:"",propulsionType:"",fuelType:"",modifications:"",groundStation:"",locationMeans:"",maxClimbRate:0,maxDescentRate:0,turnRate:0,maxEndurance:0,propellerCount:0,kineticEnergy:0,environmentalLimitations:{maxWindSpeedTakeoff:0,maxGustSpeed:0,minTemperature:0,maxTemperature:0,visibility:0,ipRating:"",otherLimitations:""}},operation:{adjacentAreaExtent:0,operationType:"VLOS – Vol en vue",visualObserversCount:0,dangerousGoods:"NON",maxOperationHeight:0,dayNightOperation:"Jour",operationStartTime:"",operationEndTime:"",maxDistanceFromPilot:0,confinementLevel:"Basic",pilotCompetency:"",otherPersonnelCompetency:"",reportableEvents:"",geoFiles:[]},mitigationMeasures:tk,osos:rk,ARCInitial:{airspaceClasses:["Classe A"],uspaceProvider:"",otherDetails:"",OperationalVolumeLevel:"",AdjacentVolumeLevel:"",detectAndAvoid:"",trafficDetection:"",additionalDetails:""},RiskAssessment:{assessmentTypeHauteurVol:"Calcul selon les table SORA",assessmentCriticalArea:"",followTerrainHeight:0,PopulationDensityModulation:"NON",assessmentStartTime:"",CriticalArea:0,maxDistanceFromPilot:0,confinementLevel:"Basic",pilotCompetency:"",otherPersonnelCompetency:"",reportableEvents:"",intrinsicGroundRisk:1,finalGroundRisk:1,airRisk:1,sailLevel:"I",trajgeoFiles:[],mitigationStrategique:"NON",reduceImpactAttenuation:"NON",OperationalVolumeLevel:"ARC-a",AdjacentVolumeLevel:"ARC-a",detectAndAvoid:"",trafficDetection:"",additionalDetails:"",operationalScenario:"VLOS",populationDensity:"Zone Contrôlée",necessaryToReduceRisk:"NON",planInterventionUrgence:"NON",confinementRequirements:"Basiques",additionalRemarks:"",airspaceClasses:["Classe A"],uspaceProvider:"",otherDetails:"",StrategicMitigationAvailable:"",StrategicMitigationJustification:"",OperationalVolumeLevelMitigated:"",TacticalMitigationAvailable:"",TacticalMitigationJustification:"",iGRC:"",GRC_Final:"",SAILJustification:"",AdjacentVolumeLevelMitigated:"",TacticalVolumeLevelMitigated:"",TacticalVolumeLevel:"",TacticalVolumeLevelJustification:"",TacticalVolumeLevelMitigatedJustification:"",StrategicVolumeLevel:"",StrategicVolumeLevelJustification:"",StrategicVolumeLevelMitigated:"",StrategicVolumeLevelMitigatedJustification:""}},j2=ve.createContext(void 0);function nk({children:e}){const[t,r]=ve.useState(null),[n,i]=ve.useState(""),[a,s]=ve.useState({...Dp,operation:{...Dp.operation,operationStartTime:""},riskAssessment:{...Dp.riskAssessment,assessmentStartTime:"",uasType:"Avion",mitigationStrategique:""},determinationARCInitial:{airspaceClasses:[],uspaceProvider:"",otherDetails:"",OperationalVolumeLevel:"ARC-a",AdjacentVolumeLevel:"ARC-a",detectAndAvoid:"",trafficDetection:"",additionalDetails:""}}),[c,d]=ve.useState(!1);return l.jsx(j2.Provider,{value:{studyId:t,setStudyId:r,studyName:n,setStudyName:i,formData:a,setFormData:s,saving:c,setSaving:d},children:e})}function gf(){const e=ve.useContext(j2);if(e===void 0)throw new Error("useStudyContext must be used within a StudyProvider");return e}const ik="modulepreload",ak=function(e){return"/"+e},_x={},ol=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(d=>{if(d=ak(d),d in _x)return;_x[d]=!0;const h=d.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":ik,h||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((v,_)=>{g.addEventListener("load",v),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return i.then(s=>{for(const c of s||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},ok=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ol(async()=>{const{default:n}=await Promise.resolve().then(()=>Sl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class zv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class sk extends zv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lk extends zv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uk extends zv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ug;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ug||(ug={}));var ck=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(f){try{h(n.next(f))}catch(g){s(g)}}function d(f){try{h(n.throw(f))}catch(g){s(g)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};class dk{constructor(t,{headers:r={},customFetch:n,region:i=ug.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=ok(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return ck(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let c={},{region:d}=r;d||(d=this.region),d&&d!=="any"&&(c["x-region"]=d);let h;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(c["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(c["Content-Type"]="application/json",h=JSON.stringify(s)));const f=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h}).catch(k=>{throw new sk(k)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new lk(f);if(!f.ok)throw new uk(f);let v=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield f.json():v==="application/octet-stream"?_=yield f.blob():v==="text/event-stream"?_=f:v==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null}}catch(i){return{data:null,error:i}}})}}var Qr={},Uv={},vf={},jc={},yf={},xf={},hk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sl=hk();const fk=sl.fetch,O2=sl.fetch.bind(sl),R2=sl.Headers,pk=sl.Request,mk=sl.Response,Sl=Object.freeze(Object.defineProperty({__proto__:null,Headers:R2,Request:pk,Response:mk,default:O2,fetch:fk},Symbol.toStringTag,{value:"Module"})),gk=ab(Sl);var _f={};Object.defineProperty(_f,"__esModule",{value:!0});let vk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_f.default=vk;var P2=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xf,"__esModule",{value:!0});const yk=P2(gk),xk=P2(_f);let _k=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=yk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,c,d;let h=null,f=null,g=null,v=a.status,_=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=x:f=JSON.parse(x))}const E=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),j=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");E&&j&&j.length>1&&(g=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,v=406,_="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const E=await a.text();try{h=JSON.parse(E),Array.isArray(h)&&a.status===404&&(f=[],h=null,v=200,_="OK")}catch{a.status===404&&E===""?(v=204,_="No Content"):h={message:E}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,v=200,_="OK"),h&&this.shouldThrowOnError)throw new xk.default(h)}return{error:h,data:f,count:g,status:v,statusText:_}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,c,d;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(d=a==null?void 0:a.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};xf.default=_k;var bk=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yf,"__esModule",{value:!0});const wk=bk(xf);let Ck=class extends wk.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",c=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var c;const d=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${h}"; options=${d};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};yf.default=Ck;var Ek=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jc,"__esModule",{value:!0});const Sk=Ek(yf);let Ak=class extends Sk.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};jc.default=Ak;var Tk=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vf,"__esModule",{value:!0});const hu=Tk(jc);let Nk=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new hu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const s=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(s.length>0){const c=[...new Set(s)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new hu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const s="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const d=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new hu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new hu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new hu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vf.default=Nk;var bf={},wf={};Object.defineProperty(wf,"__esModule",{value:!0});wf.version=void 0;wf.version="0.0.0-automated";Object.defineProperty(bf,"__esModule",{value:!0});bf.DEFAULT_HEADERS=void 0;const kk=wf;bf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${kk.version}`};var L2=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uv,"__esModule",{value:!0});const Dk=L2(vf),jk=L2(jc),Ok=bf;let Rk=class I2{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Ok.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new Dk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new I2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let s;const c=new URL(`${this.url}/rpc/${t}`);let d;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{c.searchParams.append(f,g)})):(s="POST",d=r);const h=Object.assign({},this.headers);return a&&(h.Prefer=`count=${a}`),new jk.default({method:s,url:c,headers:h,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};Uv.default=Rk;var Al=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.PostgrestError=Qr.PostgrestBuilder=Qr.PostgrestTransformBuilder=Qr.PostgrestFilterBuilder=Qr.PostgrestQueryBuilder=Qr.PostgrestClient=void 0;const M2=Al(Uv);Qr.PostgrestClient=M2.default;const F2=Al(vf);Qr.PostgrestQueryBuilder=F2.default;const B2=Al(jc);Qr.PostgrestFilterBuilder=B2.default;const z2=Al(yf);Qr.PostgrestTransformBuilder=z2.default;const U2=Al(xf);Qr.PostgrestBuilder=U2.default;const $2=Al(_f);Qr.PostgrestError=$2.default;var Pk=Qr.default={PostgrestClient:M2.default,PostgrestQueryBuilder:F2.default,PostgrestFilterBuilder:B2.default,PostgrestTransformBuilder:z2.default,PostgrestBuilder:U2.default,PostgrestError:$2.default};const{PostgrestClient:Lk,PostgrestQueryBuilder:G4,PostgrestFilterBuilder:H4,PostgrestTransformBuilder:Z4,PostgrestBuilder:W4,PostgrestError:X4}=Pk,Ik="2.11.2",Mk={"X-Client-Info":`realtime-js/${Ik}`},Fk="1.0.0",V2=1e4,Bk=1e3;var Ks;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ks||(Ks={}));var vn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vn||(vn={}));var Jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jn||(Jn={}));var cg;(function(e){e.websocket="websocket"})(cg||(cg={}));var wo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wo||(wo={}));class zk{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const c=n.decode(t.slice(s,s+i));s=s+i;const d=n.decode(t.slice(s,s+a));s=s+a;const h=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class q2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Lt||(Lt={}));const bx=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=Uk(s,e,t,i),a),{})},Uk=(e,t,r,n)=>{const i=t.find(c=>c.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?G2(a,s):dg(s)},G2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Gk(t,r)}switch(e){case Lt.bool:return $k(t);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return Vk(t);case Lt.json:case Lt.jsonb:return qk(t);case Lt.timestamp:return Hk(t);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return dg(t);default:return dg(t)}},dg=e=>e,$k=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Vk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Gk=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(c=>G2(t,c))}return e},Hk=e=>typeof e=="string"?e.replace(" ","T"):e,H2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class jp{constructor(t,r,n={},i=V2){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wx||(wx={}));class Pu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pu.syncState(this.state,i,a,s),this.pendingDiffs.forEach(d=>{this.state=Pu.syncDiff(this.state,d,a,s)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pu.syncDiff(this.state,i,a,s),c())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),c={},d={};return this.map(a,(h,f)=>{s[h]||(d[h]=f)}),this.map(s,(h,f)=>{const g=a[h];if(g){const v=f.map(j=>j.presence_ref),_=g.map(j=>j.presence_ref),k=f.filter(j=>_.indexOf(j.presence_ref)<0),E=g.filter(j=>v.indexOf(j.presence_ref)<0);k.length>0&&(c[h]=k),E.length>0&&(d[h]=E)}else c[h]=f}),this.syncDiff(a,{joins:c,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var h;const f=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),f.length>0){const g=t[c].map(_=>_.presence_ref),v=f.filter(_=>g.indexOf(_.presence_ref)<0);t[c].unshift(...v)}n(c,f,d)}),this.map(s,(c,d)=>{let h=t[c];if(!h)return;const f=d.map(g=>g.presence_ref);h=h.filter(g=>f.indexOf(g.presence_ref)<0),t[c]=h,i(c,h,d),h.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Cx||(Cx={}));var Ex;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ex||(Ex={}));var Bi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Bi||(Bi={}));class $v{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jp(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new q2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Pu(this),this.broadcastEndpointURL=H2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:s,private:c}}=this.params;this._onError(f=>t==null?void 0:t(Bi.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Bi.CLOSED));const d={},h={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){t==null||t(Bi.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,k=[];for(let E=0;E<_;E++){const j=v[E],{filter:{event:x,schema:w,table:A,filter:S}}=j,T=f&&f[E];if(T&&T.event===x&&T.schema===w&&T.table===A&&T.filter===S)k.push(Object.assign(Object.assign({},j),{id:T.id}));else{this.unsubscribe(),t==null||t(Bi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(Bi.SUBSCRIBED);return}}).receive("error",f=>{t==null||t(Bi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Bi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new jp(this,Jn.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new jp(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:f}=Jn;if(n&&[c,d,h,f].indexOf(s)>=0&&n!==this._joinRef())return;let v=this._onMessage(s,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var k,E,j;return((k=_.filter)===null||k===void 0?void 0:k.event)==="*"||((j=(E=_.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===s}).map(_=>_.callback(v,n)):(a=this.bindings[s])===null||a===void 0||a.filter(_=>{var k,E,j,x,w,A;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const S=_.id,T=(k=_.filter)===null||k===void 0?void 0:k.event;return S&&((E=r.ids)===null||E===void 0?void 0:E.includes(S))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const S=(w=(x=_==null?void 0:_.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof v=="object"&&"ids"in v){const k=v.data,{schema:E,table:j,commit_timestamp:x,type:w,errors:A}=k;v=Object.assign(Object.assign({},{schema:E,table:j,commit_timestamp:x,eventType:w,new:{},old:{},errors:A}),this._getPayloadRecords(k))}_.callback(v,n)})}_isClosed(){return this.state===vn.closed}_isJoined(){return this.state===vn.joined}_isJoining(){return this.state===vn.joining}_isLeaving(){return this.state===vn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&$v.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jn.close,{},t)}_onError(t){this._on(Jn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=bx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=bx(t.columns,t.old_record)),r}}const Zk=()=>{},Wk=typeof WebSocket<"u",Xk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jk{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Mk,this.params={},this.timeout=V2,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Zk,this.conn=null,this.sendBuffer=[],this.serializer=new zk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...c)=>ol(async()=>{const{default:d}=await Promise.resolve().then(()=>Sl);return{default:d}},void 0).then(({default:d})=>d(...c)):s=fetch,(...c)=>s(...c)},this.endPoint=`${t}/${cg.websocket}`,this.httpEndpoint=H2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,s)=>s(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new q2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Wk){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Kk(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ol(async()=>{const{default:t}=await import("./browser-CnT9wGIi.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fk}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ks.connecting:return wo.Connecting;case Ks.open:return wo.Open;case Ks.closing:return wo.Closing;default:return wo.Closed}}isConnected(){return this.connectionState()===wo.Open}channel(t,r={config:{}}){const n=new $v(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(Jn.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Bk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Xk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Kk{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ks.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Vv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Yk extends Vv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class hg extends Vv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Qk=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(f){try{h(n.next(f))}catch(g){s(g)}}function d(f){try{h(n.throw(f))}catch(g){s(g)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const Z2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ol(async()=>{const{default:n}=await Promise.resolve().then(()=>Sl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},eD=()=>Qk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ol(()=>Promise.resolve().then(()=>Sl),void 0)).Response:Response}),fg=e=>{if(Array.isArray(e))return e.map(r=>fg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=fg(n)}),t};var Vo=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(f){try{h(n.next(f))}catch(g){s(g)}}function d(f){try{h(n.throw(f))}catch(g){s(g)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const Op=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tD=(e,t,r)=>Vo(void 0,void 0,void 0,function*(){const n=yield eD();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new Yk(Op(i),e.status||500))}).catch(i=>{t(new hg(Op(i),i))}):t(new hg(Op(e),e))}),rD=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Oc(e,t,r,n,i,a){return Vo(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(r,rD(t,n,i,a)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>tD(d,c,n))})})}function Fh(e,t,r,n){return Vo(this,void 0,void 0,function*(){return Oc(e,"GET",t,r,n)})}function ga(e,t,r,n,i){return Vo(this,void 0,void 0,function*(){return Oc(e,"POST",t,n,i,r)})}function nD(e,t,r,n,i){return Vo(this,void 0,void 0,function*(){return Oc(e,"PUT",t,n,i,r)})}function iD(e,t,r,n){return Vo(this,void 0,void 0,function*(){return Oc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function W2(e,t,r,n,i){return Vo(this,void 0,void 0,function*(){return Oc(e,"DELETE",t,n,i,r)})}var Kr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(f){try{h(n.next(f))}catch(g){s(g)}}function d(f){try{h(n.throw(f))}catch(g){s(g)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const aD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oD{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Z2(i)}uploadOrUpdate(t,r,n,i){return Kr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Sx),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=n,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(r),f=this._getFinalPath(h),g=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:a,headers:c},s!=null&&s.duplex?{duplex:s.duplex}:{})),v=yield g.json();return g.ok?{data:{path:h,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(a){if(vr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Kr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${s}`);c.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:Sx.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const g=yield this.fetch(c.toString(),{method:"PUT",body:d,headers:f}),v=yield g.json();return g.ok?{data:{path:a,fullPath:v.Key},error:null}:{data:null,error:v}}catch(d){if(vr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Kr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield ga(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),c=s.searchParams.get("token");if(!c)throw new Vv("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:c},error:null}}catch(n){if(vr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Kr(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(vr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Kr(this,void 0,void 0,function*(){try{return{data:{path:(yield ga(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(vr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Kr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield ga(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(vr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Kr(this,void 0,void 0,function*(){try{const i=yield ga(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(vr(i))return{data:null,error:i};throw i}})}download(t,r){return Kr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Fh(this.fetch,`${this.url}/${i}/${c}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(vr(c))return{data:null,error:c};throw c}})}info(t){return Kr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Fh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:fg(n),error:null}}catch(n){if(vr(n))return{data:null,error:n};throw n}})}exists(t){return Kr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield iD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(vr(n)&&n instanceof hg){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}remove(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield W2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(vr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Kr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},aD),r),{prefix:t||""});return{data:yield ga(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(vr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const sD="2.7.1",lD={"X-Client-Info":`storage-js/${sD}`};var hs=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(f){try{h(n.next(f))}catch(g){s(g)}}function d(f){try{h(n.throw(f))}catch(g){s(g)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};class uD{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},lD),r),this.fetch=Z2(n)}listBuckets(){return hs(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(vr(t))return{data:null,error:t};throw t}})}getBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(vr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return hs(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return hs(this,void 0,void 0,function*(){try{return{data:yield nD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(vr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield W2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(vr(r))return{data:null,error:r};throw r}})}}class cD extends uD{constructor(t,r={},n){super(t,r,n)}from(t){return new oD(this.url,this.headers,t,this.fetch)}}const dD="2.49.1";let Cu="";typeof Deno<"u"?Cu="deno":typeof document<"u"?Cu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cu="react-native":Cu="node";const hD={"X-Client-Info":`supabase-js-${Cu}/${dD}`},fD={headers:hD},pD={schema:"public"},mD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gD={};var vD=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(f){try{h(n.next(f))}catch(g){s(g)}}function d(f){try{h(n.throw(f))}catch(g){s(g)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const yD=e=>{let t;return e?t=e:typeof fetch>"u"?t=O2:t=fetch,(...r)=>t(...r)},xD=()=>typeof Headers>"u"?R2:Headers,_D=(e,t,r)=>{const n=yD(r),i=xD();return(a,s)=>vD(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:e;let h=new i(s==null?void 0:s.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(a,Object.assign(Object.assign({},s),{headers:h}))})};var bD=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(f){try{h(n.next(f))}catch(g){s(g)}}function d(f){try{h(n.throw(f))}catch(g){s(g)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};function wD(e){return e.replace(/\/$/,"")}function CD(e,t){const{db:r,auth:n,realtime:i,global:a}=e,{db:s,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},c),n),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign({},h),a),accessToken:()=>bD(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const X2="2.68.0",Ns=30*1e3,pg=3,Rp=pg*Ns,ED="http://localhost:9999",SD="supabase.auth.token",AD={"X-Client-Info":`gotrue-js/${X2}`},mg="X-Supabase-Api-Version",J2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function TD(e){return Math.round(Date.now()/1e3)+e}function ND(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const gi=()=>typeof window<"u"&&typeof document<"u",mo={tested:!1,writable:!1},Lu=()=>{if(!gi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mo.tested)return mo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mo.tested=!0,mo.writable=!0}catch{mo.tested=!0,mo.writable=!1}return mo.writable};function kD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const K2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ol(async()=>{const{default:n}=await Promise.resolve().then(()=>Sl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},DD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Y2=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Md=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fd=async(e,t)=>{await e.removeItem(t)};function jD(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,a,s,c,d,h,f=0;for(e=e.replace("-","+").replace("_","/");f<e.length;)s=t.indexOf(e.charAt(f++)),c=t.indexOf(e.charAt(f++)),d=t.indexOf(e.charAt(f++)),h=t.indexOf(e.charAt(f++)),n=s<<2|c>>4,i=(c&15)<<4|d>>2,a=(d&3)<<6|h,r=r+String.fromCharCode(n),d!=64&&i!=0&&(r=r+String.fromCharCode(i)),h!=64&&a!=0&&(r=r+String.fromCharCode(a));return r}class Cf{constructor(){this.promise=new Cf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Cf.promiseConstructor=Promise;function Ax(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(jD(n))}async function OD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function RD(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function PD(e){return("0"+e.toString(16)).substr(-2)}function LD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,PD).join("")}async function ID(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}function MD(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function FD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ID(e);return MD(r)}async function fs(e,t,r=!1){const n=LD();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Y2(e,`${t}-code-verifier`,i);const a=await FD(n);return[a,n===a?"plain":"s256"]}const BD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zD(e){const t=e.headers.get(mg);if(!t||!t.match(BD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class qv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function dt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class UD extends qv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $D(e){return dt(e)&&e.name==="AuthApiError"}class Q2 extends qv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qo extends qv{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class da extends qo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VD(e){return dt(e)&&e.name==="AuthSessionMissingError"}class Pp extends qo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bd extends qo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zd extends qo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qD(e){return dt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Tx extends qo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gg extends qo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Lp(e){return dt(e)&&e.name==="AuthRetryableFetchError"}class Nx extends qo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var GD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const bo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HD=[502,503,504];async function kx(e){var t;if(!DD(e))throw new gg(bo(e),0);if(HD.includes(e.status))throw new gg(bo(e),e.status);let r;try{r=await e.json()}catch(a){throw new Q2(bo(a),a)}let n;const i=zD(e);if(i&&i.getTime()>=J2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Nx(bo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new da}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Nx(bo(r),e.status,r.weak_password.reasons);throw new UD(bo(r),e.status||500,n)}const ZD=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function vt(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[mg]||(a[mg]=J2["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await WD(e,t,r+c,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function WD(e,t,r,n,i,a){const s=ZD(t,n,i,a);let c;try{c=await e(r,Object.assign({},s))}catch(d){throw console.error(d),new gg(bo(d),0)}if(c.ok||await kx(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(d){await kx(d)}}function ha(e){var t;let r=null;YD(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=TD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dx(e){const t=ha(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _a(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XD(e){return{data:e,error:null}}function JD(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=GD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},s);return{data:{properties:c,user:d},error:null}}function KD(e){return e}function YD(e){return e.access_token&&e.refresh_token&&e.expires_in}var QD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class ej{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=K2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_a})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=QD(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:JD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_a})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,c,d;try{const h={nextPage:null,lastPage:0,total:0},f=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:KD});if(f.error)throw f.error;const g=await f.json(),v=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(d=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(k=>{const E=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);h[`${j}Page`]=E}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(dt(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_a})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_a})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_a})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await vt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}}const tj={getItem:e=>Lu()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Lu()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Lu()&&globalThis.localStorage.removeItem(e)}};function jx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function rj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ps={debug:!!(globalThis&&Lu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class e1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nj extends e1{}async function ij(e,t,r){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ps.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}rj();const aj={url:ED,storageKey:SD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ox(e,t,r){return await r()}class ic{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ic.nextInstanceID,ic.nextInstanceID+=1,this.instanceID>0&&gi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},aj),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ej({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=K2(i.fetch),this.lock=i.lock||Ox,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:gi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ij:this.lock=Ox,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Lu()?this.storage=tj:(this.memoryStorage={},this.storage=jx(this.memoryStorage)):(this.memoryStorage={},this.storage=jx(this.memoryStorage)),gi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${X2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=kD(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),gi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),qD(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return dt(r)?{error:r}:{error:new Q2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ha}),{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};const d=s.session,h=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(dt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:f,password:g,options:v}=t;let _=null,k=null;this.flowType==="pkce"&&([_,k]=await fs(this.storage,this.storageKey)),a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:k},xform:ha})}else if("phone"in t){const{phone:f,password:g,options:v}=t;a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:ha})}else throw new Bd("You must provide either an email or phone number and a password");const{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};const d=s.session,h=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(dt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:c}=t;r=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Dx})}else if("phone"in t){const{phone:a,password:s,options:c}=t;r=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Dx})}else throw new Bd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Pp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Md(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ha});if(await Fd(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Pp}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(dt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,c=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ha}),{data:d,error:h}=c;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Pp}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:c,options:d}=t;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await fs(this.storage,this.storageKey));const{error:g}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:f}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f}}throw new Bd("You must provide either an email or phone number.")}catch(c){if(dt(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:c}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ha});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,h=s.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await fs(this.storage,this.storageKey)),await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:XD})}catch(a){if(dt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new da;const{error:i}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await vt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:c}=await vt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:c}}throw new Bd("You must provide either an email or phone number and a type")}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Md(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Rp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,h,f)=>(!s&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,f))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_a}):await this._useSession(async r=>{var n,i,a;const{data:s,error:c}=r;if(c)throw c;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new da}:await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:_a})})}catch(r){if(dt(r))return VD(r)&&(await this._removeSession(),await Fd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new da;const s=i.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await fs(this.storage,this.storageKey));const{data:h,error:f}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:s.access_token,xform:_a});if(f)throw f;return s.user=h.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Ax(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new da;const r=Date.now()/1e3;let n=r,i=!0,a=null;const s=Ax(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(dt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:c}=r;if(c)throw c;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new da;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!gi())throw new zd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Tx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Tx("No code detected.");const{data:w,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:d,token_type:h}=t;if(!a||!c||!s||!h)throw new zd("No session defined in URL");const f=Math.round(Date.now()/1e3),g=parseInt(c);let v=f+g;d&&(v=parseInt(d));const _=v-f;_*1e3<=Ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${g}s`);const k=v-g;f-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,v,f):f-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,v,f);const{data:E,error:j}=await this._getUser(a);if(j)throw j;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:g,expires_at:v,refresh_token:s,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(dt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Md(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:c}=await this.admin.signOut(s,t);if(c&&!($D(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Fd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ND(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await fs(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(dt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,c,d,h,f;const{data:g,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",_,{headers:this.headers,jwt:(f=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return gi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(dt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await RD(async i=>(i>0&&await OD(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ha})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Lp(a)&&Date.now()+s-n<Ns})}catch(n){if(this._debug(r,"error",n),dt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),gi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Md(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Rp;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Rp}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Lp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new da;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Cf;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new da;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),dt(a)){const s={session:null,error:a};return Lp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(d){a.push(d)}});if(await Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Y2(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Fd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ns);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ns}ms, refresh threshold is ${pg} ticks`),i<=pg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof e1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await fs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await vt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:h}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:c}=await vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(i.access_token);let c=null;s.aal&&(c=s.aal);let d=c;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=s.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}))}}ic.nextInstanceID=0;const oj=ic;class sj extends oj{constructor(t){super(t)}}var lj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(f){try{h(n.next(f))}catch(g){s(g)}}function d(f){try{h(n.throw(f))}catch(g){s(g)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};class uj{constructor(t,r,n){var i,a,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=wD(t);this.realtimeUrl=`${c}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${c}/auth/v1`,this.storageUrl=`${c}/storage/v1`,this.functionsUrl=`${c}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:pD,realtime:gD,auth:Object.assign(Object.assign({},mD),{storageKey:d}),global:fD},f=CD(n??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=_D(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Lk(`${c}/rest/v1`,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new dk(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cD(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return lj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:c,debug:d},h,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sj({url:this.authUrl,headers:Object.assign(Object.assign({},g),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Jk(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cj=(e,t,r)=>new uj(e,t,r);var t1={VITE_SUPABASE_URL:"https://ommguheoknrziixzkxqe.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9tbWd1aGVva25yemlpeHpreHFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzcyOTc2NjEsImV4cCI6MjA1Mjg3MzY2MX0._sdSmNhf3DV4_P_Px2owvygbvDeIDWaxaUo4HHkK0Kw"};const dj=t1.VITE_SUPABASE_URL,hj=t1.VITE_SUPABASE_ANON_KEY,ei=cj(dj,hj),r1=ve.createContext(void 0);function fj({children:e}){const[t,r]=ve.useState(null),[n,i]=ve.useState(!0);ve.useEffect(()=>{ei.auth.getSession().then(({data:{session:h}})=>{r((h==null?void 0:h.user)??null),i(!1)});const{data:{subscription:d}}=ei.auth.onAuthStateChange((h,f)=>{r((f==null?void 0:f.user)??null),i(!1)});return()=>d.unsubscribe()},[]);const a=async(d,h)=>{const{error:f}=await ei.auth.signInWithPassword({email:d,password:h});if(f)throw f},s=async(d,h)=>{const{error:f}=await ei.auth.signUp({email:d,password:h,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(f)throw f},c=async()=>{const{error:d}=await ei.auth.signOut();if(d)throw d};return l.jsx(r1.Provider,{value:{user:t,loading:n,signIn:a,signUp:s,signOut:c},children:e})}function Tl(){const e=ve.useContext(r1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const pj="/assets/LOGO_CED_FRANCE-SuudBazJ.png";function mj(){const e=El(),{setStudyName:t,setFormData:r,setStudyId:n}=gf(),{user:i}=Tl(),[a,s]=ve.useState(!1),[c,d]=ve.useState(!1),[h,f]=ve.useState(null),[g,v]=ve.useState([]),[_,k]=ve.useState(null);ve.useEffect(()=>{E()},[i]);const E=async()=>{if(!i)return;const{data:T,error:F}=await ei.from("sora_studies").select("*").eq("user_id",i.id).order("updated_at",{ascending:!1});F?(console.error("Erreur lors du chargement des études:",F),k("Erreur lors du chargement des études")):(v(T||[]),k(null))},j=()=>{s(!0)},x=T=>{t(T),n(null),e("/evaluation/new")},w=T=>{t(T.name),r(T.data),n(T.id),e(`/evaluation/${T.id}`)},A=T=>{f(T),d(!0)},S=async()=>{if(!(!h||!i))try{const{error:T}=await ei.from("sora_studies").delete().eq("id",h.id).eq("user_id",i.id);if(T)throw T;v(g.filter(F=>F.id!==h.id)),d(!1),f(null)}catch(T){console.error("Erreur lors de la suppression:",T),k("Erreur lors de la suppression de l'évaluation")}};return l.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[l.jsxs("div",{className:"flex flex-col items-center mb-8",children:[l.jsx("img",{src:pj,alt:"Centres d'Essais Drones France",className:"w-64 h-auto mb-6"}),i&&l.jsxs("p",{className:"text-gray-600 mb-4",children:["Bonjour ",i.email,", heureux de vous revoir parmi nous."]}),l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(WN,{className:"w-8 h-8 text-blue-600"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Évaluation SORA"})]}),l.jsxs("button",{onClick:j,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(XN,{className:"w-5 h-5"}),"Nouvelle évaluation"]})]})]}),_&&l.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg",children:_}),l.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Mes évaluations SORA"}),l.jsx("div",{className:"space-y-4",children:g.length>0?g.map(T=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:T.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Dernière modification : ",new Date(T.updated_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>w(T),className:"p-2 text-gray-600 hover:text-blue-600 transition-colors",title:"Modifier l'évaluation",children:l.jsx(KN,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>A(T),className:"p-2 text-gray-600 hover:text-red-600 transition-colors",title:"Supprimer l'évaluation",children:l.jsx(YN,{className:"w-5 h-5"})})]})]},T.id)):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("p",{children:"Aucune évaluation sauvegardée"}),l.jsx("p",{className:"text-sm mt-2",children:'Cliquez sur "Nouvelle évaluation" pour commencer'})]})})]}),l.jsx(QN,{isOpen:a,onClose:()=>s(!1),onSubmit:x}),l.jsx(ek,{isOpen:c,studyName:(h==null?void 0:h.name)||"",onClose:()=>{d(!1),f(null)},onConfirm:S})]})}const ms=[{id:"operator-info",title:"Informations sur l'exploitant",description:"Renseignez les informations concernant l'exploitant du drone"},{id:"conops",title:"Étape 1 : Concept d'opérations / ConOps",description:"Définissez les caractéristiques du drone et de l'opération"},{id:"initial-grc",title:"Étape 2 : Détermination du GRC Initial",description:"Évaluez le risque sol intrinsèque"},{id:"final-grc",title:"Étape 3 : Atténuation du risque sol et GRC Final",description:"Déterminez le risque sol final après atténuation (Optionel)"},{id:"initial-arc",title:"Étape 4 : Détermination de l'ARC Initial",description:"Évaluez le risque air initial"},{id:"final-arc",title:"Étape 5 : Atténuation du risque air et ARC Résiduel",description:"Déterminez le risque air résiduel après atténuation par Mitigation Strategique (Optionel)"},{id:"tactical-mitigation",title:"Étape 6 : Atténuation tactique du risque « air »",description:"Définissez les mesures tactiques d'atténuation du risque Air"},{id:"sail",title:"Étape 7 : Détermination du SAIL",description:"Déterminez le niveau SAIL"},{id:"oso",title:"Étape 8 : Objectifs de sécurité opérationnels (OSO)",description:"Définissez les objectifs de sécurité"},{id:"adjacent-areas",title:"Étape 9 : Considérations sur les espaces aériens ou sol adjacents",description:"Évaluez l'impact sur les zones adjacentes"},{id:"summary",title:"Résumé",description:"Récapitulatif de votre dossier SORA"}];function Ee({text:e,children:t}){const[r,n]=ve.useState(!1);return l.jsxs("div",{className:"relative inline-block w-full",children:[l.jsx("div",{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:t}),r&&l.jsx("div",{className:"absolute z-10 w-80 p-2 mt-1 text-sm text-white bg-gray-800 rounded-lg shadow-lg",children:e})]})}function gj({operator:e,onChange:t}){const r=ve.useMemo(()=>({name:!e.name.trim(),registrationNumber:!e.registrationNumber.trim(),managerName:!e.managerName.trim(),operationalContact:!e.operationalContact.trim(),address:!e.address.trim(),phone:!e.phone.trim(),email:!e.email.trim()}),[e]),n=a=>`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${r[a]?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,i=a=>`block text-sm font-medium ${r[a]?"text-red-600":"text-gray-700"}`;return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Informations sur l'exploitant"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:i("name"),children:"Nom de l'opérateur *"}),l.jsx(Ee,{text:"Nom de l'opérateur de l'UAS tel qu'il a été déclaré au cours de la procédure d'enregistrement.",children:l.jsx("input",{type:"text",value:e.name,onChange:a=>t({...e,name:a.target.value}),className:n("name")})})]}),l.jsxs("div",{children:[l.jsx("label",{className:i("registrationNumber"),children:"Numéro d'enregistrement *"}),l.jsx(Ee,{text:"Numéro d'enregistrement de l'opérateur UAS conformément à l'article 14 du règlement (UE) 219/947.",children:l.jsx("input",{type:"text",value:e.registrationNumber,onChange:a=>t({...e,registrationNumber:a.target.value}),className:n("registrationNumber")})})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:i("managerName"),children:"Nom du gestionnaire responsable *"}),l.jsx(Ee,{text:"Nom du dirigeant responsable ou, dans le cas d'une personne physique, nom de l'opérateur de l'UAS.",children:l.jsx("input",{type:"text",value:e.managerName,onChange:a=>t({...e,managerName:a.target.value}),className:n("managerName")})})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:i("operationalContact"),children:"Point de contact opérationnel *"}),l.jsx(Ee,{text:"Coordonnées de la personne responsable de l'opération.",children:l.jsx("input",{type:"text",value:e.operationalContact,onChange:a=>t({...e,operationalContact:a.target.value}),className:n("operationalContact")})})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:i("address"),children:"Adresse *"}),l.jsx("textarea",{value:e.address,onChange:a=>t({...e,address:a.target.value}),rows:2,className:n("address")})]}),l.jsxs("div",{children:[l.jsx("label",{className:i("phone"),children:"Téléphone *"}),l.jsx("input",{type:"tel",value:e.phone,onChange:a=>t({...e,phone:a.target.value}),className:n("phone")})]}),l.jsxs("div",{children:[l.jsx("label",{className:i("email"),children:"Email *"}),l.jsx("input",{type:"email",value:e.email,onChange:a=>t({...e,email:a.target.value}),className:n("email")})]})]}),Object.values(r).some(Boolean)&&l.jsx("p",{className:"text-sm text-red-600 mt-2",children:"* Veuillez remplir tous les champs obligatoires"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Résumé de l'opération UAS"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date prévue pour le début de l'opération"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{type:"date",value:e.startDate||"",onChange:a=>t({...e,startDate:a.target.value}),className:"block w-full pr-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),l.jsx(xx,{className:"absolute right-3 top-2 h-5 w-5 text-gray-400"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date de fin prévue"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{type:"date",value:e.endDate||"",onChange:a=>t({...e,endDate:a.target.value}),className:"block w-full pr-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),l.jsx(xx,{className:"absolute right-3 top-2 h-5 w-5 text-gray-400"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lieu(x) prévu(s) pour l'opération"}),l.jsx("textarea",{value:e.locations||"",onChange:a=>t({...e,locations:a.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Saisissez les lieux prévus pour l'opération..."})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Référence et révision de l'évaluation des risques"}),l.jsxs("select",{value:e.riskAssessmentVersion||"SORA 2.5",onChange:a=>t({...e,riskAssessmentVersion:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"SORA 2.5",children:"SORA 2.5"}),l.jsx("option",{value:"SORA 2.0",children:"SORA 2.0"})]})]})]})]})]})}const vj=["Sans","C1","C2","C3","C4","C5","C6","Prototype"],yj=["Avion","Hélicoptère","Multirotor","Hybride/VTOL","Plus léger que l'air","Autre"];function xj({drone:e,onChange:t}){const r=ve.useRef(null),n=a=>{const s=a.target.files;if(s){const c=Array.from(s);t({...e,technicalDocuments:[...e.technicalDocuments||[],...c]})}},i=a=>{const s=[...e.technicalDocuments||[]];s.splice(a,1),t({...e,technicalDocuments:s})};return l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Informations sur le drone"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fabricant"}),l.jsx("input",{type:"text",value:e.manufacturer,onChange:a=>t({...e,manufacturer:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modèle"}),l.jsx("input",{type:"text",value:e.model,onChange:a=>t({...e,model:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type d'UAS"}),l.jsx("select",{value:e.uasType,onChange:a=>t({...e,uasType:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:yj.map(a=>l.jsx("option",{value:a,children:a},a))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numéro de série"}),l.jsx("input",{type:"text",value:e.serialNumber,onChange:a=>t({...e,serialNumber:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Si requis",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numéro de Certificat de Type (TC) ou de DVR"})}),l.jsx("input",{type:"text",value:e.typeCertificateNumber,onChange:a=>t({...e,typeCertificateNumber:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Si requis",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numéro de Certificat de Navigabilité (CofA)"})}),l.jsx("input",{type:"text",value:e.airworthinessCertificateNumber,onChange:a=>t({...e,airworthinessCertificateNumber:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Si requis",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numéro de Certificat Acoustique"})}),l.jsx("input",{type:"text",value:e.acousticCertificateNumber,onChange:a=>t({...e,acousticCertificateNumber:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos et description schématique du système UAS"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-500 transition-colors",children:[l.jsx("input",{ref:r,type:"file",accept:".pdf",onChange:n,className:"hidden",multiple:!0}),l.jsxs("div",{onClick:()=>{var a;return(a=r.current)==null?void 0:a.click()},className:"flex items-center justify-center gap-2 cursor-pointer",children:[l.jsx(Mh,{className:"w-5 h-5 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Déposer des fichiers PDF ici ou cliquer pour parcourir"})]})]}),e.technicalDocuments&&e.technicalDocuments.length>0&&l.jsx("div",{className:"mt-2 space-y-2",children:e.technicalDocuments.map((a,s)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-sm text-gray-600",children:a.name}),l.jsx("button",{onClick:()=>i(s),className:"text-red-500 hover:text-red-700",children:"Supprimer"})]},s))})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Exemples de dimensions caractéristiques maximales de l'UA :",l.jsx("br",{}),"i. Envergure d'une aile fixe,",l.jsx("br",{}),"ii. Diamètre des pales pour les giravions,",l.jsx("br",{}),"iii. Distance maximale entre les extrémités des pales pour les multicoptères."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dimensions caractéristiques maximales (m)"})}),l.jsx("input",{type:"number",value:e.maxCharacteristicDimension,onChange:a=>t({...e,maxCharacteristicDimension:parseFloat(a.target.value)}),step:"0.1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse de Croisière (m/s)"}),l.jsx("input",{type:"number",value:e.VCruise,step:"0.1",onChange:a=>t({...e,VCruise:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse minimale (m/s)"}),l.jsx("input",{type:"number",value:e.minSpeed,step:"0.1",onChange:a=>t({...e,minSpeed:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Vitesse Sol maximale du drone en opération en (m/s) ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse maximale (m/s)"})}),l.jsx("input",{type:"number",value:e.maxSpeed,step:"0.1",onChange:a=>t({...e,maxSpeed:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Masse Maximale au décolage MTOM (kg) ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"MTOM (kg)"})}),l.jsx("input",{type:"number",value:e.MTOW,step:"0.1",onChange:a=>t({...e,MTOW:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Si une classe est apposée sur le drone",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Identification de Classe"})}),l.jsxs("select",{value:e.classIdentification||"",onChange:a=>t({...e,classIdentification:a.target.value||null}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Sélectionner une classe"}),vj.map(a=>l.jsxs("option",{value:a,children:["Classe ",a]},a))]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Exigences techniques supplémentaires"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Matériaux utilisés"}),l.jsx("textarea",{value:e.materials,onChange:a=>t({...e,materials:a.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description des charges utiles avec les masses associées en (kg)"}),l.jsx("textarea",{value:e.payloads,onChange:a=>t({...e,payloads:a.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Ee,{text:l.jsxs("div",{children:['text="Type de propulsion et moteur utilisés :',l.jsx("br",{}),l.jsx("li",{children:"Electrique"}),l.jsx("li",{children:"Combustion"}),l.jsx("li",{children:"Hybride, préciser le type"}),l.jsx("li",{children:"Autre, veuillez préciser"})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type de propulsion/moteur"})}),l.jsx("textarea",{value:e.propulsionType,onChange:a=>t({...e,propulsionType:a.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type de carburant"}),l.jsx("textarea",{value:e.fuelType,onChange:a=>t({...e,fuelType:a.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modifications apportées au modèle de référence"}),l.jsx("textarea",{value:e.modifications,onChange:a=>t({...e,modifications:a.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Station de contrôle au sol, logiciels et fréquences utilisés"}),l.jsx("textarea",{value:e.groundStation,onChange:a=>t({...e,groundStation:a.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Moyens de localisation"}),l.jsx("textarea",{value:e.locationMeans,onChange:a=>t({...e,locationMeans:a.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Taux de montée maximal (m/s)"}),l.jsx("input",{type:"number",value:e.maxClimbRate,onChange:a=>t({...e,maxClimbRate:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Taux de descente maximal (m/s)"}),l.jsx("input",{type:"number",value:e.maxDescentRate,onChange:a=>t({...e,maxDescentRate:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Taux de virage (deg/s)"}),l.jsx("input",{type:"number",value:e.turnRate,onChange:a=>t({...e,turnRate:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Endurance maximale (h)"}),l.jsx("input",{type:"number",value:e.maxEndurance,onChange:a=>t({...e,maxEndurance:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre d'hélices"}),l.jsx("input",{type:"number",value:e.propellerCount,onChange:a=>t({...e,propellerCount:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Énergie cinétique"}),l.jsx("input",{type:"number",value:e.kineticEnergy,onChange:a=>t({...e,kineticEnergy:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-medium",children:"Limitations environnementales"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse maximale du vent au décollage (m/s)"}),l.jsx("input",{type:"number",value:e.environmentalLimitations.maxWindSpeedTakeoff,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,maxWindSpeedTakeoff:parseFloat(a.target.value)}}),min:0,max:e.maxSpeed,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse maximale de tenue à la rafale en évolution (m/s)"}),l.jsx("input",{type:"number",value:e.environmentalLimitations.maxGustSpeed,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,maxGustSpeed:parseFloat(a.target.value)}}),min:e.environmentalLimitations.maxWindSpeedTakeoff,max:e.maxSpeed,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Température [Min] (°C)"}),l.jsx("input",{type:"number",value:e.environmentalLimitations.minTemperature,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,minTemperature:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Température [Max] (°C)"}),l.jsx("input",{type:"number",value:e.environmentalLimitations.maxTemperature,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,maxTemperature:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Visibilité"}),l.jsx("input",{type:"number",value:e.environmentalLimitations.visibility,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,visibility:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Indice de Protection (IP)"}),l.jsx("input",{type:"text",value:e.environmentalLimitations.ipRating,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,ipRating:a.target.value}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Autres limitations"}),l.jsx("textarea",{value:e.environmentalLimitations.otherLimitations,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,otherLimitations:a.target.value}}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Dimensions"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Longueur (m)"}),l.jsx("input",{type:"number",value:e.dimensions.length,onChange:a=>t({...e,dimensions:{...e.dimensions,length:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Largeur (m)"}),l.jsx("input",{type:"number",value:e.dimensions.width,onChange:a=>t({...e,dimensions:{...e.dimensions,width:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hauteur (m)"}),l.jsx("input",{type:"number",value:e.dimensions.height,onChange:a=>t({...e,dimensions:{...e.dimensions,height:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]})]})}function _j(e,t){const r=ve.useRef(t);ve.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}const bj=1;function wj(e){return Object.freeze({__version:bj,map:e})}function Ef(e,t){return Object.freeze({...e,...t})}const n1=ve.createContext(null),Gv=n1.Provider;function Sf(){const e=ve.useContext(n1);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Hv(e){function t(r,n){const{instance:i,context:a}=e(r).current;return ve.useImperativeHandle(n,()=>i),r.children==null?null:Do.createElement(Gv,{value:a},r.children)}return ve.forwardRef(t)}function Cj(e){function t(r,n){const{instance:i}=e(r).current;return ve.useImperativeHandle(n,()=>i),null}return ve.forwardRef(t)}function Ej(e){return function(r){const n=Sf(),i=e(r,n),{instance:a}=i.current,s=ve.useRef(r.position),{position:c}=r;return ve.useEffect(function(){return a.addTo(n.map),function(){a.remove()}},[n.map,a]),ve.useEffect(function(){c!=null&&c!==s.current&&(a.setPosition(c),s.current=c)},[a,c]),i}}function i1(e,t){const r=ve.useRef();ve.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function Zv(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}var vg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,n){n(t)})(He,function(r){var n="1.9.4";function i(o){var u,p,b,R;for(p=1,b=arguments.length;p<b;p++){R=arguments[p];for(u in R)o[u]=R[u]}return o}var a=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function s(o,u){var p=Array.prototype.slice;if(o.bind)return o.bind.apply(o,p.call(arguments,1));var b=p.call(arguments,2);return function(){return o.apply(u,b.length?b.concat(p.call(arguments)):arguments)}}var c=0;function d(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function h(o,u,p){var b,R,$,oe;return oe=function(){b=!1,R&&($.apply(p,R),R=!1)},$=function(){b?R=arguments:(o.apply(p,arguments),setTimeout(oe,u),b=!0)},$}function f(o,u,p){var b=u[1],R=u[0],$=b-R;return o===b&&p?o:((o-R)%$+$)%$+R}function g(){return!1}function v(o,u){if(u===!1)return o;var p=Math.pow(10,u===void 0?6:u);return Math.round(o*p)/p}function _(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function k(o){return _(o).split(/\s+/)}function E(o,u){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?a(o.options):{});for(var p in u)o.options[p]=u[p];return o.options}function j(o,u,p){var b=[];for(var R in o)b.push(encodeURIComponent(p?R.toUpperCase():R)+"="+encodeURIComponent(o[R]));return(!u||u.indexOf("?")===-1?"?":"&")+b.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function w(o,u){return o.replace(x,function(p,b){var R=u[b];if(R===void 0)throw new Error("No value provided for variable "+p);return typeof R=="function"&&(R=R(u)),R})}var A=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function S(o,u){for(var p=0;p<o.length;p++)if(o[p]===u)return p;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var I=0;function D(o){var u=+new Date,p=Math.max(0,16-(u-I));return I=u+p,window.setTimeout(o,p)}var C=window.requestAnimationFrame||F("RequestAnimationFrame")||D,G=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Y(o,u,p){if(p&&C===D)o.call(u);else return C.call(window,s(o,u))}function z(o){o&&G.call(window,o)}var ie={__proto__:null,extend:i,create:a,bind:s,get lastId(){return c},stamp:d,throttle:h,wrapNum:f,falseFn:g,formatNum:v,trim:_,splitWords:k,setOptions:E,getParamString:j,template:w,isArray:A,indexOf:S,emptyImageUrl:T,requestFn:C,cancelFn:G,requestAnimFrame:Y,cancelAnimFrame:z};function P(){}P.extend=function(o){var u=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,b=a(p);b.constructor=u,u.prototype=b;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(u[R]=this[R]);return o.statics&&i(u,o.statics),o.includes&&(ue(o.includes),i.apply(null,[b].concat(o.includes))),i(b,o),delete b.statics,delete b.includes,b.options&&(b.options=p.options?a(p.options):{},i(b.options,o.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var $=0,oe=b._initHooks.length;$<oe;$++)b._initHooks[$].call(this)}},u},P.include=function(o){var u=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},P.mergeOptions=function(o){return i(this.prototype.options,o),this},P.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),p=typeof o=="function"?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function ue(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=A(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var pe={on:function(o,u,p){if(typeof o=="object")for(var b in o)this._on(b,o[b],u);else{o=k(o);for(var R=0,$=o.length;R<$;R++)this._on(o[R],u,p)}return this},off:function(o,u,p){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var b in o)this._off(b,o[b],u);else{o=k(o);for(var R=arguments.length===1,$=0,oe=o.length;$<oe;$++)R?this._off(o[$]):this._off(o[$],u,p)}return this},_on:function(o,u,p,b){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(o,u,p)===!1){p===this&&(p=void 0);var R={fn:u,ctx:p};b&&(R.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(R)}},_off:function(o,u,p){var b,R,$;if(this._events&&(b=this._events[o],!!b)){if(arguments.length===1){if(this._firingCount)for(R=0,$=b.length;R<$;R++)b[R].fn=g;delete this._events[o];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var oe=this._listens(o,u,p);if(oe!==!1){var ye=b[oe];this._firingCount&&(ye.fn=g,this._events[o]=b=b.slice()),b.splice(oe,1)}}},fire:function(o,u,p){if(!this.listens(o,p))return this;var b=i({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var R=this._events[o];if(R){this._firingCount=this._firingCount+1||1;for(var $=0,oe=R.length;$<oe;$++){var ye=R[$],be=ye.fn;ye.once&&this.off(o,be,ye.ctx),be.call(ye.ctx||this,b)}this._firingCount--}}return p&&this._propagateEvent(b),this},listens:function(o,u,p,b){typeof o!="string"&&console.warn('"string" type argument expected');var R=u;typeof u!="function"&&(b=!!u,R=void 0,p=void 0);var $=this._events&&this._events[o];if($&&$.length&&this._listens(o,R,p)!==!1)return!0;if(b){for(var oe in this._eventParents)if(this._eventParents[oe].listens(o,u,p,b))return!0}return!1},_listens:function(o,u,p){if(!this._events)return!1;var b=this._events[o]||[];if(!u)return!!b.length;p===this&&(p=void 0);for(var R=0,$=b.length;R<$;R++)if(b[R].fn===u&&b[R].ctx===p)return R;return!1},once:function(o,u,p){if(typeof o=="object")for(var b in o)this._on(b,o[b],u,!0);else{o=k(o);for(var R=0,$=o.length;R<$;R++)this._on(o[R],u,p,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[d(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[d(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};pe.addEventListener=pe.on,pe.removeEventListener=pe.clearAllEventListeners=pe.off,pe.addOneTimeEventListener=pe.once,pe.fireEvent=pe.fire,pe.hasEventListeners=pe.listens;var ce=P.extend(pe);function he(o,u,p){this.x=p?Math.round(o):o,this.y=p?Math.round(u):u}var O=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};he.prototype={clone:function(){return new he(this.x,this.y)},add:function(o){return this.clone()._add(ae(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ae(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new he(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new he(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(o){o=ae(o);var u=o.x-this.x,p=o.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(o){return o=ae(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=ae(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function ae(o,u,p){return o instanceof he?o:A(o)?new he(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new he(o.x,o.y):new he(o,u,p)}function ee(o,u){if(o)for(var p=u?[o,u]:o,b=0,R=p.length;b<R;b++)this.extend(p[b])}ee.prototype={extend:function(o){var u,p;if(!o)return this;if(o instanceof he||typeof o[0]=="number"||"x"in o)u=p=ae(o);else if(o=re(o),u=o.min,p=o.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(o){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,p;return typeof o[0]=="number"||o instanceof he?o=ae(o):o=re(o),o instanceof ee?(u=o.min,p=o.max):u=p=o,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(o){o=re(o);var u=this.min,p=this.max,b=o.min,R=o.max,$=R.x>=u.x&&b.x<=p.x,oe=R.y>=u.y&&b.y<=p.y;return $&&oe},overlaps:function(o){o=re(o);var u=this.min,p=this.max,b=o.min,R=o.max,$=R.x>u.x&&b.x<p.x,oe=R.y>u.y&&b.y<p.y;return $&&oe},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var u=this.min,p=this.max,b=Math.abs(u.x-p.x)*o,R=Math.abs(u.y-p.y)*o;return re(ae(u.x-b,u.y-R),ae(p.x+b,p.y+R))},equals:function(o){return o?(o=re(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function re(o,u){return!o||o instanceof ee?o:new ee(o,u)}function ke(o,u){if(o)for(var p=u?[o,u]:o,b=0,R=p.length;b<R;b++)this.extend(p[b])}ke.prototype={extend:function(o){var u=this._southWest,p=this._northEast,b,R;if(o instanceof xe)b=o,R=o;else if(o instanceof ke){if(b=o._southWest,R=o._northEast,!b||!R)return this}else return o?this.extend(Te(o)||_e(o)):this;return!u&&!p?(this._southWest=new xe(b.lat,b.lng),this._northEast=new xe(R.lat,R.lng)):(u.lat=Math.min(b.lat,u.lat),u.lng=Math.min(b.lng,u.lng),p.lat=Math.max(R.lat,p.lat),p.lng=Math.max(R.lng,p.lng)),this},pad:function(o){var u=this._southWest,p=this._northEast,b=Math.abs(u.lat-p.lat)*o,R=Math.abs(u.lng-p.lng)*o;return new ke(new xe(u.lat-b,u.lng-R),new xe(p.lat+b,p.lng+R))},getCenter:function(){return new xe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xe(this.getNorth(),this.getWest())},getSouthEast:function(){return new xe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof xe||"lat"in o?o=Te(o):o=_e(o);var u=this._southWest,p=this._northEast,b,R;return o instanceof ke?(b=o.getSouthWest(),R=o.getNorthEast()):b=R=o,b.lat>=u.lat&&R.lat<=p.lat&&b.lng>=u.lng&&R.lng<=p.lng},intersects:function(o){o=_e(o);var u=this._southWest,p=this._northEast,b=o.getSouthWest(),R=o.getNorthEast(),$=R.lat>=u.lat&&b.lat<=p.lat,oe=R.lng>=u.lng&&b.lng<=p.lng;return $&&oe},overlaps:function(o){o=_e(o);var u=this._southWest,p=this._northEast,b=o.getSouthWest(),R=o.getNorthEast(),$=R.lat>u.lat&&b.lat<p.lat,oe=R.lng>u.lng&&b.lng<p.lng;return $&&oe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return o?(o=_e(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(o,u){return o instanceof ke?o:new ke(o,u)}function xe(o,u,p){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,p!==void 0&&(this.alt=+p)}xe.prototype={equals:function(o,u){if(!o)return!1;o=Te(o);var p=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return p<=(u===void 0?1e-9:u)},toString:function(o){return"LatLng("+v(this.lat,o)+", "+v(this.lng,o)+")"},distanceTo:function(o){return B.distance(this,Te(o))},wrap:function(){return B.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,p=u/Math.cos(Math.PI/180*this.lat);return _e([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new xe(this.lat,this.lng,this.alt)}};function Te(o,u,p){return o instanceof xe?o:A(o)&&typeof o[0]!="object"?o.length===3?new xe(o[0],o[1],o[2]):o.length===2?new xe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new xe(o.lat,"lng"in o?o.lng:o.lon,o.alt):u===void 0?null:new xe(o,u,p)}var U={latLngToPoint:function(o,u){var p=this.projection.project(o),b=this.scale(u);return this.transformation._transform(p,b)},pointToLatLng:function(o,u){var p=this.scale(u),b=this.transformation.untransform(o,p);return this.projection.unproject(b)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(o),b=this.transformation.transform(u.min,p),R=this.transformation.transform(u.max,p);return new ee(b,R)},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?f(o.lng,this.wrapLng,!0):o.lng,p=this.wrapLat?f(o.lat,this.wrapLat,!0):o.lat,b=o.alt;return new xe(p,u,b)},wrapLatLngBounds:function(o){var u=o.getCenter(),p=this.wrapLatLng(u),b=u.lat-p.lat,R=u.lng-p.lng;if(b===0&&R===0)return o;var $=o.getSouthWest(),oe=o.getNorthEast(),ye=new xe($.lat-b,$.lng-R),be=new xe(oe.lat-b,oe.lng-R);return new ke(ye,be)}},B=i({},U,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var p=Math.PI/180,b=o.lat*p,R=u.lat*p,$=Math.sin((u.lat-o.lat)*p/2),oe=Math.sin((u.lng-o.lng)*p/2),ye=$*$+Math.cos(b)*Math.cos(R)*oe*oe,be=2*Math.atan2(Math.sqrt(ye),Math.sqrt(1-ye));return this.R*be}}),se=6378137,le={R:se,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,p=this.MAX_LATITUDE,b=Math.max(Math.min(p,o.lat),-p),R=Math.sin(b*u);return new he(this.R*o.lng*u,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(o){var u=180/Math.PI;return new xe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:function(){var o=se*Math.PI;return new ee([-o,-o],[o,o])}()};function Le(o,u,p,b){if(A(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=u,this._c=p,this._d=b}Le.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return u=u||1,o.x=u*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return u=u||1,new he((o.x/u-this._b)/this._a,(o.y/u-this._d)/this._c)}};function Be(o,u,p,b){return new Le(o,u,p,b)}var $e=i({},B,{code:"EPSG:3857",projection:le,transformation:function(){var o=.5/(Math.PI*le.R);return Be(o,.5,-o,.5)}()}),N=i({},$e,{code:"EPSG:900913"});function te(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function X(o,u){var p="",b,R,$,oe,ye,be;for(b=0,$=o.length;b<$;b++){for(ye=o[b],R=0,oe=ye.length;R<oe;R++)be=ye[R],p+=(R?"L":"M")+be.x+" "+be.y;p+=u?Ge.svg?"z":"x":""}return p||"M0 0"}var q=document.documentElement.style,V="ActiveXObject"in window,Z=V&&!document.addEventListener,Q="msLaunchUri"in navigator&&!("documentMode"in document),W=Sr("webkit"),H=Sr("android"),me=Sr("android 2")||Sr("android 3"),Ce=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),we=H&&Sr("Google")&&Ce<537&&!("AudioNode"in window),Ne=!!window.opera,ze=!Q&&Sr("chrome"),Ve=Sr("gecko")&&!W&&!Ne&&!V,gt=!ze&&Sr("safari"),kt=Sr("phantom"),St="OTransition"in q,Vt=navigator.platform.indexOf("Win")===0,et=V&&"transition"in q,Et="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!me,Ft="MozPerspective"in q,At=!window.L_DISABLE_3D&&(et||Et||Ft)&&!St&&!kt,bt=typeof orientation<"u"||Sr("mobile"),cr=bt&&W,Tn=bt&&Et,mr=!window.PointerEvent&&window.MSPointerEvent,Un=!!(window.PointerEvent||mr),rr="ontouchstart"in window||!!window.TouchEvent,or=!window.L_NO_TOUCH&&(rr||Un),Lr=bt&&Ne,wt=bt&&Ve,eo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Il=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",g,u),window.removeEventListener("testPassiveEventSupport",g,u)}catch{}return o}(),Hc=function(){return!!document.createElement("canvas").getContext}(),li=!!(document.createElementNS&&te("svg").createSVGRect),Zc=!!li&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ml=!li&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Ki=navigator.platform.indexOf("Mac")===0,Nn=navigator.platform.indexOf("Linux")===0;function Sr(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ge={ie:V,ielt9:Z,edge:Q,webkit:W,android:H,android23:me,androidStock:we,opera:Ne,chrome:ze,gecko:Ve,safari:gt,phantom:kt,opera12:St,win:Vt,ie3d:et,webkit3d:Et,gecko3d:Ft,any3d:At,mobile:bt,mobileWebkit:cr,mobileWebkit3d:Tn,msPointer:mr,pointer:Un,touch:or,touchNative:rr,mobileOpera:Lr,mobileGecko:wt,retina:eo,passiveEvents:Il,canvas:Hc,svg:li,vml:Ml,inlineSvg:Zc,mac:Ki,linux:Nn},Yi=Ge.msPointer?"MSPointerDown":"pointerdown",Fl=Ge.msPointer?"MSPointerMove":"pointermove",Bl=Ge.msPointer?"MSPointerUp":"pointerup",zl=Ge.msPointer?"MSPointerCancel":"pointercancel",ji={touchstart:Yi,touchmove:Fl,touchend:Bl,touchcancel:zl},Jo={touchstart:Jc,touchmove:Yo,touchend:Yo,touchcancel:Yo},Qi={},Ul=!1;function Wc(o,u,p){return u==="touchstart"&&Zf(),Jo[u]?(p=Jo[u].bind(this,p),o.addEventListener(ji[u],p,!1),p):(console.warn("wrong event specified:",u),g)}function Xc(o,u,p){if(!ji[u]){console.warn("wrong event specified:",u);return}o.removeEventListener(ji[u],p,!1)}function to(o){Qi[o.pointerId]=o}function ui(o){Qi[o.pointerId]&&(Qi[o.pointerId]=o)}function Ko(o){delete Qi[o.pointerId]}function Zf(){Ul||(document.addEventListener(Yi,to,!0),document.addEventListener(Fl,ui,!0),document.addEventListener(Bl,Ko,!0),document.addEventListener(zl,Ko,!0),Ul=!0)}function Yo(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in Qi)u.touches.push(Qi[p]);u.changedTouches=[u],o(u)}}function Jc(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&sr(u),Yo(o,u)}function Kc(o){var u={},p,b;for(b in o)p=o[b],u[b]=p&&p.bind?p.bind(o):p;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Wf=200;function Xf(o,u){o.addEventListener("dblclick",u);var p=0,b;function R($){if($.detail!==1){b=$.detail;return}if(!($.pointerType==="mouse"||$.sourceCapabilities&&!$.sourceCapabilities.firesTouchEvents)){var oe=Wl($);if(!(oe.some(function(be){return be instanceof HTMLLabelElement&&be.attributes.for})&&!oe.some(function(be){return be instanceof HTMLInputElement||be instanceof HTMLSelectElement}))){var ye=Date.now();ye-p<=Wf?(b++,b===2&&u(Kc($))):b=1,p=ye}}}return o.addEventListener("click",R),{dblclick:u,simDblclick:R}}function Jf(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}var $l=io(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ci=io(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yc=ci==="webkitTransition"||ci==="OTransition"?ci+"End":"transitionend";function Qc(o){return typeof o=="string"?document.getElementById(o):o}function ro(o,u){var p=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(o,null);p=b?b[u]:null}return p==="auto"?null:p}function yt(o,u,p){var b=document.createElement(o);return b.className=u||"",p&&p.appendChild(b),b}function Dt(o){var u=o.parentNode;u&&u.removeChild(o)}function ea(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function $n(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function Vn(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function Vl(o,u){if(o.classList!==void 0)return o.classList.contains(u);var p=Qo(o);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function it(o,u){if(o.classList!==void 0)for(var p=k(u),b=0,R=p.length;b<R;b++)o.classList.add(p[b]);else if(!Vl(o,u)){var $=Qo(o);ql(o,($?$+" ":"")+u)}}function qt(o,u){o.classList!==void 0?o.classList.remove(u):ql(o,_((" "+Qo(o)+" ").replace(" "+u+" "," ")))}function ql(o,u){o.className.baseVal===void 0?o.className=u:o.className.baseVal=u}function Qo(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Hr(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&no(o,u)}function no(o,u){var p=!1,b="DXImageTransform.Microsoft.Alpha";try{p=o.filters.item(b)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):o.style.filter+=" progid:"+b+"(opacity="+u+")"}function io(o){for(var u=document.documentElement.style,p=0;p<o.length;p++)if(o[p]in u)return o[p];return!1}function Oi(o,u,p){var b=u||new he(0,0);o.style[$l]=(Ge.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(p?" scale("+p+")":"")}function Bt(o,u){o._leaflet_pos=u,Ge.any3d?Oi(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function Ir(o){return o._leaflet_pos||new he(0,0)}var ao,oo,Mr;if("onselectstart"in document)ao=function(){tt(window,"selectstart",sr)},oo=function(){Xe(window,"selectstart",sr)};else{var ta=io(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ao=function(){if(ta){var o=document.documentElement.style;Mr=o[ta],o[ta]="none"}},oo=function(){ta&&(document.documentElement.style[ta]=Mr,Mr=void 0)}}function es(){tt(window,"dragstart",sr)}function Gl(){Xe(window,"dragstart",sr)}var so,ra;function na(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Zr(),so=o,ra=o.style.outlineStyle,o.style.outlineStyle="none",tt(window,"keydown",Zr))}function Zr(){so&&(so.style.outlineStyle=ra,so=void 0,ra=void 0,Xe(window,"keydown",Zr))}function ts(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function lo(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var rs={__proto__:null,TRANSFORM:$l,TRANSITION:ci,TRANSITION_END:Yc,get:Qc,getStyle:ro,create:yt,remove:Dt,empty:ea,toFront:$n,toBack:Vn,hasClass:Vl,addClass:it,removeClass:qt,setClass:ql,getClass:Qo,setOpacity:Hr,testProp:io,setTransform:Oi,setPosition:Bt,getPosition:Ir,get disableTextSelection(){return ao},get enableTextSelection(){return oo},disableImageDrag:es,enableImageDrag:Gl,preventOutline:na,restoreOutline:Zr,getSizedParentNode:ts,getScale:lo};function tt(o,u,p,b){if(u&&typeof u=="object")for(var R in u)uo(o,R,u[R],p);else{u=k(u);for(var $=0,oe=u.length;$<oe;$++)uo(o,u[$],p,b)}return this}var Wr="_leaflet_events";function Xe(o,u,p,b){if(arguments.length===1)Hl(o),delete o[Wr];else if(u&&typeof u=="object")for(var R in u)co(o,R,u[R],p);else if(u=k(u),arguments.length===2)Hl(o,function(ye){return S(u,ye)!==-1});else for(var $=0,oe=u.length;$<oe;$++)co(o,u[$],p,b);return this}function Hl(o,u){for(var p in o[Wr]){var b=p.split(/\d/)[0];(!u||u(b))&&co(o,b,null,null,p)}}var Zl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function uo(o,u,p,b){var R=u+d(p)+(b?"_"+d(b):"");if(o[Wr]&&o[Wr][R])return this;var $=function(ye){return p.call(b||o,ye||window.event)},oe=$;!Ge.touchNative&&Ge.pointer&&u.indexOf("touch")===0?$=Wc(o,u,$):Ge.touch&&u==="dblclick"?$=Xf(o,$):"addEventListener"in o?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?o.addEventListener(Zl[u]||u,$,Ge.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?($=function(ye){ye=ye||window.event,Xl(o,ye)&&oe(ye)},o.addEventListener(Zl[u],$,!1)):o.addEventListener(u,oe,!1):o.attachEvent("on"+u,$),o[Wr]=o[Wr]||{},o[Wr][R]=$}function co(o,u,p,b,R){R=R||u+d(p)+(b?"_"+d(b):"");var $=o[Wr]&&o[Wr][R];if(!$)return this;!Ge.touchNative&&Ge.pointer&&u.indexOf("touch")===0?Xc(o,u,$):Ge.touch&&u==="dblclick"?Jf(o,$):"removeEventListener"in o?o.removeEventListener(Zl[u]||u,$,!1):o.detachEvent("on"+u,$),o[Wr][R]=null}function Fr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function ns(o){return uo(o,"wheel",Fr),this}function ia(o){return tt(o,"mousedown touchstart dblclick contextmenu",Fr),o._leaflet_disable_click=!0,this}function sr(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function di(o){return sr(o),Fr(o),this}function Wl(o){if(o.composedPath)return o.composedPath();for(var u=[],p=o.target;p;)u.push(p),p=p.parentNode;return u}function ed(o,u){if(!u)return new he(o.clientX,o.clientY);var p=lo(u),b=p.boundingClientRect;return new he((o.clientX-b.left)/p.x-u.clientLeft,(o.clientY-b.top)/p.y-u.clientTop)}var td=Ge.linux&&Ge.chrome?window.devicePixelRatio:Ge.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function kn(o){return Ge.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/td:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Xl(o,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==o;)p=p.parentNode}catch{return!1}return p!==o}var rd={__proto__:null,on:tt,off:Xe,stopPropagation:Fr,disableScrollPropagation:ns,disableClickPropagation:ia,preventDefault:sr,stop:di,getPropagationPath:Wl,getMousePosition:ed,getWheelDelta:kn,isExternalTarget:Xl,addListener:tt,removeListener:Xe},nd=ce.extend({run:function(o,u,p,b){this.stop(),this._el=o,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Ir(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var p=this._startPos.add(this._offset.multiplyBy(o));u&&p._round(),Bt(this._el,p),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),mt=ce.extend({options:{crs:$e,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=E(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Te(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ci&&Ge.any3d&&!Ge.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,Yc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),o=this._limitCenter(Te(o),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=i({animate:p.animate},p.zoom),p.pan=i({animate:p.animate,duration:p.duration},p.pan));var b=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,p.zoom):this._tryAnimatedPan(o,p.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(o,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return o=o||(Ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,u)},zoomOut:function(o,u){return o=o||(Ge.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,u)},setZoomAround:function(o,u,p){var b=this.getZoomScale(u),R=this.getSize().divideBy(2),$=o instanceof he?o:this.latLngToContainerPoint(o),oe=$.subtract(R).multiplyBy(1-1/b),ye=this.containerPointToLatLng(R.add(oe));return this.setView(ye,u,{zoom:p})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():_e(o);var p=ae(u.paddingTopLeft||u.padding||[0,0]),b=ae(u.paddingBottomRight||u.padding||[0,0]),R=this.getBoundsZoom(o,!1,p.add(b));if(R=typeof u.maxZoom=="number"?Math.min(u.maxZoom,R):R,R===1/0)return{center:o.getCenter(),zoom:R};var $=b.subtract(p).divideBy(2),oe=this.project(o.getSouthWest(),R),ye=this.project(o.getNorthEast(),R),be=this.unproject(oe.add(ye).divideBy(2).add($),R);return{center:be,zoom:R}},fitBounds:function(o,u){if(o=_e(o),!o.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(o,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(o=ae(o).round(),u=u||{},!o.x&&!o.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new nd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){it(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,p){if(p=p||{},p.animate===!1||!Ge.any3d)return this.setView(o,u,p);this._stop();var b=this.project(this.getCenter()),R=this.project(o),$=this.getSize(),oe=this._zoom;o=Te(o),u=u===void 0?oe:u;var ye=Math.max($.x,$.y),be=ye*this.getZoomScale(oe,u),De=R.distanceTo(b)||1,Fe=1.42,Ye=Fe*Fe;function ht(lr){var xd=lr?-1:1,dS=lr?be:ye,hS=be*be-ye*ye+xd*Ye*Ye*De*De,fS=2*dS*Ye*De,tp=hS/fS,ty=Math.sqrt(tp*tp+1)-tp,pS=ty<1e-9?-18:Math.log(ty);return pS}function zr(lr){return(Math.exp(lr)-Math.exp(-lr))/2}function gr(lr){return(Math.exp(lr)+Math.exp(-lr))/2}function Dn(lr){return zr(lr)/gr(lr)}var Jr=ht(0);function cs(lr){return ye*(gr(Jr)/gr(Jr+Fe*lr))}function sS(lr){return ye*(gr(Jr)*Dn(Jr+Fe*lr)-zr(Jr))/Ye}function lS(lr){return 1-Math.pow(1-lr,1.5)}var uS=Date.now(),Q0=(ht(1)-Jr)/Fe,cS=p.duration?1e3*p.duration:1e3*Q0*.8;function ey(){var lr=(Date.now()-uS)/cS,xd=lS(lr)*Q0;lr<=1?(this._flyToFrame=Y(ey,this),this._move(this.unproject(b.add(R.subtract(b).multiplyBy(sS(xd)/De)),oe),this.getScaleZoom(ye/cs(xd),oe),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),ey.call(this),this},flyToBounds:function(o,u){var p=this._getBoundsCenterZoom(o,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(o){return o=_e(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var p=this.getCenter(),b=this._limitCenter(p,this._zoom,_e(o));return p.equals(b)||this.panTo(b,u),this._enforcingBounds=!1,this},panInside:function(o,u){u=u||{};var p=ae(u.paddingTopLeft||u.padding||[0,0]),b=ae(u.paddingBottomRight||u.padding||[0,0]),R=this.project(this.getCenter()),$=this.project(o),oe=this.getPixelBounds(),ye=re([oe.min.add(p),oe.max.subtract(b)]),be=ye.getSize();if(!ye.contains($)){this._enforcingBounds=!0;var De=$.subtract(ye.getCenter()),Fe=ye.extend($).getSize().subtract(be);R.x+=De.x<0?-Fe.x:Fe.x,R.y+=De.y<0?-Fe.y:Fe.y,this.panTo(this.unproject(R),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),b=u.divideBy(2).round(),R=p.divideBy(2).round(),$=b.subtract(R);return!$.x&&!$.y?this:(o.animate&&o.pan?this.panBy($):(o.pan&&this._rawPanBy($),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=s(this._handleGeolocationResponse,this),p=s(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,o):navigator.geolocation.getCurrentPosition(u,p,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,p=o.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var u=o.coords.latitude,p=o.coords.longitude,b=new xe(u,p),R=b.toBounds(o.coords.accuracy*2),$=this._locateOptions;if($.setView){var oe=this.getBoundsZoom(R);this.setView(b,$.maxZoom?Math.min(oe,$.maxZoom):oe)}var ye={latlng:b,bounds:R,timestamp:o.timestamp};for(var be in o.coords)typeof o.coords[be]=="number"&&(ye[be]=o.coords[be]);this.fire("locationfound",ye)}},addHandler:function(o,u){if(!u)return this;var p=this[o]=new u(this);return this._handlers.push(p),this.options[o]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Dt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var p="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),b=yt("div",p,u||this._mapPane);return o&&(this._panes[o]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),u=this.unproject(o.getBottomLeft()),p=this.unproject(o.getTopRight());return new ke(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,p){o=_e(o),p=ae(p||[0,0]);var b=this.getZoom()||0,R=this.getMinZoom(),$=this.getMaxZoom(),oe=o.getNorthWest(),ye=o.getSouthEast(),be=this.getSize().subtract(p),De=re(this.project(ye,b),this.project(oe,b)).getSize(),Fe=Ge.any3d?this.options.zoomSnap:1,Ye=be.x/De.x,ht=be.y/De.y,zr=u?Math.max(Ye,ht):Math.min(Ye,ht);return b=this.getScaleZoom(zr,b),Fe&&(b=Math.round(b/(Fe/100))*(Fe/100),b=u?Math.ceil(b/Fe)*Fe:Math.floor(b/Fe)*Fe),Math.max(R,Math.min($,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new he(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var p=this._getTopLeftPoint(o,u);return new ee(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(o)/p.scale(u)},getScaleZoom:function(o,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var b=p.zoom(o*p.scale(u));return isNaN(b)?1/0:b},project:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Te(o),u)},unproject:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(ae(o),u)},layerPointToLatLng:function(o){var u=ae(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){var u=this.project(Te(o))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Te(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(_e(o))},distance:function(o,u){return this.options.crs.distance(Te(o),Te(u))},containerPointToLayerPoint:function(o){return ae(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ae(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint(ae(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(o)))},mouseEventToContainerPoint:function(o){return ed(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=Qc(o);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tt(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ge.any3d,it(o,"leaflet-container"+(Ge.touch?" leaflet-touch":"")+(Ge.retina?" leaflet-retina":"")+(Ge.ielt9?" leaflet-oldie":"")+(Ge.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ro(o,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Bt(this._mapPane,new he(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(it(o.markerPane,"leaflet-zoom-hide"),it(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u,p){Bt(this._mapPane,new he(0,0));var b=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var R=this._zoom!==u;this._moveStart(R,p)._move(o,u)._moveEnd(R),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,p,b){u===void 0&&(u=this._zoom);var R=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),b?p&&p.pinch&&this.fire("zoom",p):((R||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Bt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[d(this._container)]=this;var u=o?Xe:tt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ge.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var p=[],b,R=u==="mouseout"||u==="mouseover",$=o.target||o.srcElement,oe=!1;$;){if(b=this._targets[d($)],b&&(u==="click"||u==="preclick")&&this._draggableMoved(b)){oe=!0;break}if(b&&b.listens(u,!0)&&(R&&!Xl($,o)||(p.push(b),R))||$===this._container)break;$=$.parentNode}return!p.length&&!oe&&!R&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(u))){var p=o.type;p==="mousedown"&&na(u),this._fireDOMEvent(o,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,p){if(o.type==="click"){var b=i({},o);b.type="preclick",this._fireDOMEvent(b,b.type,p)}var R=this._findEventTargets(o,u);if(p){for(var $=[],oe=0;oe<p.length;oe++)p[oe].listens(u,!0)&&$.push(p[oe]);R=$.concat(R)}if(R.length){u==="contextmenu"&&sr(o);var ye=R[0],be={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var De=ye.getLatLng&&(!ye._radius||ye._radius<=10);be.containerPoint=De?this.latLngToContainerPoint(ye.getLatLng()):this.mouseEventToContainerPoint(o),be.layerPoint=this.containerPointToLayerPoint(be.containerPoint),be.latlng=De?ye.getLatLng():this.layerPointToLatLng(be.layerPoint)}for(oe=0;oe<R.length;oe++)if(R[oe].fire(u,be,!0),be.originalEvent._stopped||R[oe].options.bubblingMouseEvents===!1&&S(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return Ir(this._mapPane)||new he(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){var p=o&&u!==void 0?this._getNewPixelOrigin(o,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var p=this.getSize()._divideBy(2);return this.project(o,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,p){var b=this._getNewPixelOrigin(p,u);return this.project(o,u)._subtract(b)},_latLngBoundsToNewLayerBounds:function(o,u,p){var b=this._getNewPixelOrigin(p,u);return re([this.project(o.getSouthWest(),u)._subtract(b),this.project(o.getNorthWest(),u)._subtract(b),this.project(o.getSouthEast(),u)._subtract(b),this.project(o.getNorthEast(),u)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,p){if(!p)return o;var b=this.project(o,u),R=this.getSize().divideBy(2),$=new ee(b.subtract(R),b.add(R)),oe=this._getBoundsOffset($,p,u);return Math.abs(oe.x)<=1&&Math.abs(oe.y)<=1?o:this.unproject(b.add(oe),u)},_limitOffset:function(o,u){if(!u)return o;var p=this.getPixelBounds(),b=new ee(p.min.add(o),p.max.add(o));return o.add(this._getBoundsOffset(b,u))},_getBoundsOffset:function(o,u,p){var b=re(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),R=b.min.subtract(o.min),$=b.max.subtract(o.max),oe=this._rebound(R.x,-$.x),ye=this._rebound(R.y,-$.y);return new he(oe,ye)},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),p=this.getMaxZoom(),b=Ge.any3d?this.options.zoomSnap:1;return b&&(o=Math.round(o/b)*b),Math.max(u,Math.min(p,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var p=this._getCenterOffset(o)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var o=this._proxy=yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var p=$l,b=this._proxy.style[p];Oi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),b===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();Oi(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(u),R=this._getCenterOffset(o)._divideBy(1-1/b);return p.animate!==!0&&!this.getSize().contains(R)?!1:(Y(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(o,u,!0)},this),!0)},_animateZoom:function(o,u,p,b){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,it(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ho(o,u){return new mt(o,u)}var Br=P.extend({options:{position:"topright"},initialize:function(o){E(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),p=this.getPosition(),b=o._controlCorners[p];return it(u,"leaflet-control"),p.indexOf("bottom")!==-1?b.insertBefore(u,b.firstChild):b.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Ri=function(o){return new Br(o)};mt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",p=this._controlContainer=yt("div",u+"control-container",this._container);function b(R,$){var oe=u+R+" "+u+$;o[R+$]=yt("div",oe,p)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Dt(this._controlCorners[o]);Dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var id=Br.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,p,b){return p<b?-1:b<p?1:0}},initialize:function(o,u,p){E(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in o)this._addLayer(o[b],b);for(b in u)this._addLayer(u[b],b,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Br.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){it(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(it(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):qt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=yt("div",o),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),ia(u),ns(u);var b=this._section=yt("section",o+"-list");p&&(this._map.on("click",this.collapse,this),tt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=yt("a",o+"-toggle",u);R.href="#",R.title="Layers",R.setAttribute("role","button"),tt(R,{keydown:function($){$.keyCode===13&&this._expandSafely()},click:function($){sr($),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=yt("div",o+"-base",b),this._separator=yt("div",o+"-separator",b),this._overlaysList=yt("div",o+"-overlays",b),u.appendChild(b)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,p){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(s(function(b,R){return this.options.sortFunction(b.layer,R.layer,b.name,R.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ea(this._baseLayersList),ea(this._overlaysList),this._layerControlInputs=[];var o,u,p,b,R=0;for(p=0;p<this._layers.length;p++)b=this._layers[p],this._addItem(b),u=u||b.overlay,o=o||!b.overlay,R+=b.overlay?0:1;return this.options.hideSingleBase&&(o=o&&R>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(d(o.target)),p=u.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(o,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=p,b.firstChild},_addItem:function(o){var u=document.createElement("label"),p=this._map.hasLayer(o.layer),b;o.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=p):b=this._createRadioElement("leaflet-base-layers_"+d(this),p),this._layerControlInputs.push(b),b.layerId=d(o.layer),tt(b,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+o.name;var $=document.createElement("span");u.appendChild($),$.appendChild(b),$.appendChild(R);var oe=o.overlay?this._overlaysList:this._baseLayersList;return oe.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,u,p,b=[],R=[];this._handlingClick=!0;for(var $=o.length-1;$>=0;$--)u=o[$],p=this._getLayer(u.layerId).layer,u.checked?b.push(p):u.checked||R.push(p);for($=0;$<R.length;$++)this._map.hasLayer(R[$])&&this._map.removeLayer(R[$]);for($=0;$<b.length;$++)this._map.hasLayer(b[$])||this._map.addLayer(b[$]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,u,p,b=this._map.getZoom(),R=o.length-1;R>=0;R--)u=o[R],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&b<p.options.minZoom||p.options.maxZoom!==void 0&&b>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,tt(o,"click",sr),this.expand();var u=this;setTimeout(function(){Xe(o,"click",sr),u._preventClick=!1})}}),ad=function(o,u,p){return new id(o,u,p)},Jl=Br.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",p=yt("div",u+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,p,b,R){var $=yt("a",p,b);return $.innerHTML=o,$.href="#",$.title=u,$.setAttribute("role","button"),$.setAttribute("aria-label",u),ia($),tt($,"click",di),tt($,"click",R,this),tt($,"click",this._refocusOnMap,this),$},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";qt(this._zoomInButton,u),qt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(it(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(it(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});mt.mergeOptions({zoomControl:!0}),mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Jl,this.addControl(this.zoomControl))});var fo=function(o){return new Jl(o)},is=Br.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",p=yt("div",u),b=this.options;return this._addScales(b,u+"-line",p),o.on(b.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),p},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,p){o.metric&&(this._mScale=yt("div",u,p)),o.imperial&&(this._iScale=yt("div",u,p))},_update:function(){var o=this._map,u=o.getSize().y/2,p=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/o)},_updateImperial:function(o){var u=o*3.2808399,p,b,R;u>5280?(p=u/5280,b=this._getRoundNum(p),this._updateScale(this._iScale,b+" mi",b/p)):(R=this._getRoundNum(u),this._updateScale(this._iScale,R+" ft",R/u))},_updateScale:function(o,u,p){o.style.width=Math.round(this.options.maxWidth*p)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),p=o/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),as=function(o){return new is(o)},od='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',os=Br.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ge.inlineSvg?od+" ":"")+"Leaflet</a>"},initialize:function(o){E(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=yt("div","leaflet-control-attribution"),ia(this._container);for(var u in o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),o.length&&p.push(o.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});mt.mergeOptions({attributionControl:!0}),mt.addInitHook(function(){this.options.attributionControl&&new os().addTo(this)});var sd=function(o){return new os(o)};Br.Layers=id,Br.Zoom=Jl,Br.Scale=is,Br.Attribution=os,Ri.layers=ad,Ri.zoom=fo,Ri.scale=as,Ri.attribution=sd;var mn=P.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mn.addTo=function(o,u){return o.addHandler(u,this),this};var ld={Events:pe},Kl=Ge.touch?"touchstart mousedown":"mousedown",qn=ce.extend({options:{clickTolerance:3},initialize:function(o,u,p,b){E(this,b),this._element=o,this._dragStartTarget=u||o,this._preventOutline=p},enable:function(){this._enabled||(tt(this._dragStartTarget,Kl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qn._dragging===this&&this.finishDrag(!0),Xe(this._dragStartTarget,Kl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Vl(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){qn._dragging===this&&this.finishDrag();return}if(!(qn._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(qn._dragging=this,this._preventOutline&&na(this._element),es(),ao(),!this._moving)){this.fire("down");var u=o.touches?o.touches[0]:o,p=ts(this._element);this._startPoint=new he(u.clientX,u.clientY),this._startPos=Ir(this._element),this._parentScale=lo(p);var b=o.type==="mousedown";tt(document,b?"mousemove":"touchmove",this._onMove,this),tt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var u=o.touches&&o.touches.length===1?o.touches[0]:o,p=new he(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,sr(o),this._moved||(this.fire("dragstart"),this._moved=!0,it(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),it(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Bt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){qt(document.body,"leaflet-dragging"),this._lastTarget&&(qt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xe(document,"mousemove touchmove",this._onMove,this),Xe(document,"mouseup touchend touchcancel",this._onUp,this),Gl(),oo();var u=this._moved&&this._moving;this._moving=!1,qn._dragging=!1,u&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Yl(o,u,p){var b,R=[1,4,2,8],$,oe,ye,be,De,Fe,Ye,ht;for($=0,Fe=o.length;$<Fe;$++)o[$]._code=ge(o[$],u);for(ye=0;ye<4;ye++){for(Ye=R[ye],b=[],$=0,Fe=o.length,oe=Fe-1;$<Fe;oe=$++)be=o[$],De=o[oe],be._code&Ye?De._code&Ye||(ht=fe(De,be,Ye,u,p),ht._code=ge(ht,u),b.push(ht)):(De._code&Ye&&(ht=fe(De,be,Ye,u,p),ht._code=ge(ht,u),b.push(ht)),b.push(be));o=b}return o}function Ql(o,u){var p,b,R,$,oe,ye,be,De,Fe;if(!o||o.length===0)throw new Error("latlngs not passed");Ae(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ye=Te([0,0]),ht=_e(o),zr=ht.getNorthWest().distanceTo(ht.getSouthWest())*ht.getNorthEast().distanceTo(ht.getNorthWest());zr<1700&&(Ye=eu(o));var gr=o.length,Dn=[];for(p=0;p<gr;p++){var Jr=Te(o[p]);Dn.push(u.project(Te([Jr.lat-Ye.lat,Jr.lng-Ye.lng])))}for(ye=be=De=0,p=0,b=gr-1;p<gr;b=p++)R=Dn[p],$=Dn[b],oe=R.y*$.x-$.y*R.x,be+=(R.x+$.x)*oe,De+=(R.y+$.y)*oe,ye+=oe*3;ye===0?Fe=Dn[0]:Fe=[be/ye,De/ye];var cs=u.unproject(ae(Fe));return Te([cs.lat+Ye.lat,cs.lng+Ye.lng])}function eu(o){for(var u=0,p=0,b=0,R=0;R<o.length;R++){var $=Te(o[R]);u+=$.lat,p+=$.lng,b++}return Te([u/b,p/b])}var m={__proto__:null,clipPolygon:Yl,polygonCenter:Ql,centroid:eu};function M(o,u){if(!u||!o.length)return o.slice();var p=u*u;return o=Se(o,p),o=K(o,p),o}function y(o,u,p){return Math.sqrt(Me(o,u,p,!0))}function J(o,u,p){return Me(o,u,p)}function K(o,u){var p=o.length,b=typeof Uint8Array<"u"?Uint8Array:Array,R=new b(p);R[0]=R[p-1]=1,ne(o,R,u,0,p-1);var $,oe=[];for($=0;$<p;$++)R[$]&&oe.push(o[$]);return oe}function ne(o,u,p,b,R){var $=0,oe,ye,be;for(ye=b+1;ye<=R-1;ye++)be=Me(o[ye],o[b],o[R],!0),be>$&&(oe=ye,$=be);$>p&&(u[oe]=1,ne(o,u,p,b,oe),ne(o,u,p,oe,R))}function Se(o,u){for(var p=[o[0]],b=1,R=0,$=o.length;b<$;b++)ct(o[b],o[R])>u&&(p.push(o[b]),R=b);return R<$-1&&p.push(o[$-1]),p}var de;function Oe(o,u,p,b,R){var $=b?de:ge(o,p),oe=ge(u,p),ye,be,De;for(de=oe;;){if(!($|oe))return[o,u];if($&oe)return!1;ye=$||oe,be=fe(o,u,ye,p,R),De=ge(be,p),ye===$?(o=be,$=De):(u=be,oe=De)}}function fe(o,u,p,b,R){var $=u.x-o.x,oe=u.y-o.y,ye=b.min,be=b.max,De,Fe;return p&8?(De=o.x+$*(be.y-o.y)/oe,Fe=be.y):p&4?(De=o.x+$*(ye.y-o.y)/oe,Fe=ye.y):p&2?(De=be.x,Fe=o.y+oe*(be.x-o.x)/$):p&1&&(De=ye.x,Fe=o.y+oe*(ye.x-o.x)/$),new he(De,Fe,R)}function ge(o,u){var p=0;return o.x<u.min.x?p|=1:o.x>u.max.x&&(p|=2),o.y<u.min.y?p|=4:o.y>u.max.y&&(p|=8),p}function ct(o,u){var p=u.x-o.x,b=u.y-o.y;return p*p+b*b}function Me(o,u,p,b){var R=u.x,$=u.y,oe=p.x-R,ye=p.y-$,be=oe*oe+ye*ye,De;return be>0&&(De=((o.x-R)*oe+(o.y-$)*ye)/be,De>1?(R=p.x,$=p.y):De>0&&(R+=oe*De,$+=ye*De)),oe=o.x-R,ye=o.y-$,b?oe*oe+ye*ye:new he(R,$)}function Ae(o){return!A(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Ie(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ae(o)}function at(o,u){var p,b,R,$,oe,ye,be,De;if(!o||o.length===0)throw new Error("latlngs not passed");Ae(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Fe=Te([0,0]),Ye=_e(o),ht=Ye.getNorthWest().distanceTo(Ye.getSouthWest())*Ye.getNorthEast().distanceTo(Ye.getNorthWest());ht<1700&&(Fe=eu(o));var zr=o.length,gr=[];for(p=0;p<zr;p++){var Dn=Te(o[p]);gr.push(u.project(Te([Dn.lat-Fe.lat,Dn.lng-Fe.lng])))}for(p=0,b=0;p<zr-1;p++)b+=gr[p].distanceTo(gr[p+1])/2;if(b===0)De=gr[0];else for(p=0,$=0;p<zr-1;p++)if(oe=gr[p],ye=gr[p+1],R=oe.distanceTo(ye),$+=R,$>b){be=($-b)/R,De=[ye.x-be*(ye.x-oe.x),ye.y-be*(ye.y-oe.y)];break}var Jr=u.unproject(ae(De));return Te([Jr.lat+Fe.lat,Jr.lng+Fe.lng])}var rt={__proto__:null,simplify:M,pointToSegmentDistance:y,closestPointOnSegment:J,clipSegment:Oe,_getEdgeIntersection:fe,_getBitCode:ge,_sqClosestPointOnSegment:Me,isFlat:Ae,_flat:Ie,polylineCenter:at},lt={project:function(o){return new he(o.lng,o.lat)},unproject:function(o){return new xe(o.y,o.x)},bounds:new ee([-180,-90],[180,90])},Pe={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var u=Math.PI/180,p=this.R,b=o.lat*u,R=this.R_MINOR/p,$=Math.sqrt(1-R*R),oe=$*Math.sin(b),ye=Math.tan(Math.PI/4-b/2)/Math.pow((1-oe)/(1+oe),$/2);return b=-p*Math.log(Math.max(ye,1e-10)),new he(o.lng*u*p,b)},unproject:function(o){for(var u=180/Math.PI,p=this.R,b=this.R_MINOR/p,R=Math.sqrt(1-b*b),$=Math.exp(-o.y/p),oe=Math.PI/2-2*Math.atan($),ye=0,be=.1,De;ye<15&&Math.abs(be)>1e-7;ye++)De=R*Math.sin(oe),De=Math.pow((1-De)/(1+De),R/2),be=Math.PI/2-2*Math.atan($*De)-oe,oe+=be;return new xe(oe*u,o.x*u/p)}},Re={__proto__:null,LonLat:lt,Mercator:Pe,SphericalMercator:le},Ze=i({},B,{code:"EPSG:3395",projection:Pe,transformation:function(){var o=.5/(Math.PI*Pe.R);return Be(o,.5,-o,.5)}()}),Tt=i({},B,{code:"EPSG:4326",projection:lt,transformation:Be(1/180,1,-1/180,.5)}),qe=i({},U,{projection:lt,transformation:Be(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var p=u.lng-o.lng,b=u.lat-o.lat;return Math.sqrt(p*p+b*b)},infinite:!0});U.Earth=B,U.EPSG3395=Ze,U.EPSG3857=$e,U.EPSG900913=N,U.EPSG4326=Tt,U.Simple=qe;var nt=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[d(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[d(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});mt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(o);return this._layers[u]?this:(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var u=d(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return d(o)in this._layers},eachLayer:function(o,u){for(var p in this._layers)o.call(u,this._layers[p]);return this},_addLayers:function(o){o=o?A(o)?o:[o]:[];for(var u=0,p=o.length;u<p;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[d(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=d(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,p=this._getZoomSpan();for(var b in this._zoomBoundLayers){var R=this._zoomBoundLayers[b].options;o=R.minZoom===void 0?o:Math.min(o,R.minZoom),u=R.maxZoom===void 0?u:Math.max(u,R.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ot=nt.extend({initialize:function(o,u){E(this,u),this._layers={};var p,b;if(o)for(p=0,b=o.length;p<b;p++)this.addLayer(o[p])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){var u=typeof o=="number"?o:this.getLayerId(o);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u=Array.prototype.slice.call(arguments,1),p,b;for(p in this._layers)b=this._layers[p],b[o]&&b[o].apply(b,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var p in this._layers)o.call(u,this._layers[p]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return d(o)}}),Ke=function(o,u){return new ot(o,u)},We=ot.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),ot.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),ot.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ke;for(var u in this._layers){var p=this._layers[u];o.extend(p.getBounds?p.getBounds():p.getLatLng())}return o}}),Nt=function(o,u){return new We(o,u)},Xr=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){E(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var p=this._getIconUrl(o);if(!p){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(b,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(o,u){var p=this.options,b=p[u+"Size"];typeof b=="number"&&(b=[b,b]);var R=ae(b),$=ae(u==="shadow"&&p.shadowAnchor||p.iconAnchor||R&&R.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(p.className||""),$&&(o.style.marginLeft=-$.x+"px",o.style.marginTop=-$.y+"px"),R&&(o.style.width=R.x+"px",o.style.height=R.y+"px")},_createImg:function(o,u){return u=u||document.createElement("img"),u.src=o,u},_getIconUrl:function(o){return Ge.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function hi(o){return new Xr(o)}var fi=Xr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof fi.imagePath!="string"&&(fi.imagePath=this._detectIconPath()),(this.options.imagePath||fi.imagePath)+Xr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(p,b,R){var $=b.exec(p);return $&&$[R]};return o=u(o,/^url\((['"])?(.+)\1\)$/,2),o&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=yt("div","leaflet-default-icon-path",document.body),u=ro(o,"background-image")||ro(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),po=mn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new qn(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),it(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,p=u._map,b=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,$=Ir(u._icon),oe=p.getPixelBounds(),ye=p.getPixelOrigin(),be=re(oe.min._subtract(ye).add(R),oe.max._subtract(ye).subtract(R));if(!be.contains($)){var De=ae((Math.max(be.max.x,$.x)-be.max.x)/(oe.max.x-be.max.x)-(Math.min(be.min.x,$.x)-be.min.x)/(oe.min.x-be.min.x),(Math.max(be.max.y,$.y)-be.max.y)/(oe.max.y-be.max.y)-(Math.min(be.min.y,$.y)-be.min.y)/(oe.min.y-be.min.y)).multiplyBy(b);p.panBy(De,{animate:!1}),this._draggable._newPos._add(De),this._draggable._startPos._add(De),Bt(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Y(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,p=u._shadow,b=Ir(u._icon),R=u._map.layerPointToLatLng(b);p&&Bt(p,b),u._latlng=R,o.latlng=R,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ud=nt.extend({options:{icon:new fi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){E(this,u),this._latlng=Te(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=Te(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=o.icon.createIcon(this._icon),b=!1;p!==this._icon&&(this._icon&&this._removeIcon(),b=!0,o.title&&(p.title=o.title),p.tagName==="IMG"&&(p.alt=o.alt||"")),it(p,u),o.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(p,"focus",this._panOnFocus,this);var R=o.icon.createShadow(this._shadow),$=!1;R!==this._shadow&&(this._removeShadow(),$=!0),R&&(it(R,u),R.alt=""),this._shadow=R,o.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&$&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xe(this._icon,"focus",this._panOnFocus,this),Dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Dt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Bt(this._icon,o),this._shadow&&Bt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(it(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),po)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new po(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Hr(this._icon,o),this._shadow&&Hr(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,p=u.iconSize?ae(u.iconSize):ae(0,0),b=u.iconAnchor?ae(u.iconAnchor):ae(0,0);o.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:p.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function VE(o,u){return new ud(o,u)}var aa=nt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return E(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),cd=aa.extend({options:{fill:!0,radius:10},initialize:function(o,u){E(this,u),this._latlng=Te(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=Te(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return aa.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,p=this._clickTolerance(),b=[o+p,u+p];this._pxBounds=new ee(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qE(o,u){return new cd(o,u)}var Kf=cd.extend({initialize:function(o,u,p){if(typeof u=="number"&&(u=i({},p,{radius:u})),E(this,u),this._latlng=Te(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ke(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:aa.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,p=this._map,b=p.options.crs;if(b.distance===B.distance){var R=Math.PI/180,$=this._mRadius/B.R/R,oe=p.project([u+$,o]),ye=p.project([u-$,o]),be=oe.add(ye).divideBy(2),De=p.unproject(be).lat,Fe=Math.acos((Math.cos($*R)-Math.sin(u*R)*Math.sin(De*R))/(Math.cos(u*R)*Math.cos(De*R)))/R;(isNaN(Fe)||Fe===0)&&(Fe=$/Math.cos(Math.PI/180*u)),this._point=be.subtract(p.getPixelOrigin()),this._radius=isNaN(Fe)?0:be.x-p.project([De,o-Fe]).x,this._radiusY=be.y-oe.y}else{var Ye=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Ye).x}this._updateBounds()}});function GE(o,u,p){return new Kf(o,u,p)}var Pi=aa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){E(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var u=1/0,p=null,b=Me,R,$,oe=0,ye=this._parts.length;oe<ye;oe++)for(var be=this._parts[oe],De=1,Fe=be.length;De<Fe;De++){R=be[De-1],$=be[De];var Ye=b(o,R,$,!0);Ye<u&&(u=Ye,p=b(o,R,$))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return at(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=Te(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ke,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Ae(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],p=Ae(o),b=0,R=o.length;b<R;b++)p?(u[b]=Te(o[b]),this._bounds.extend(u[b])):u[b]=this._convertLatLngs(o[b]);return u},_project:function(){var o=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new he(o,o);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,p){var b=o[0]instanceof xe,R=o.length,$,oe;if(b){for(oe=[],$=0;$<R;$++)oe[$]=this._map.latLngToLayerPoint(o[$]),p.extend(oe[$]);u.push(oe)}else for($=0;$<R;$++)this._projectLatlngs(o[$],u,p)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,b,R,$,oe,ye,be;for(p=0,R=0,$=this._rings.length;p<$;p++)for(be=this._rings[p],b=0,oe=be.length;b<oe-1;b++)ye=Oe(be[b],be[b+1],o,b,!0),ye&&(u[R]=u[R]||[],u[R].push(ye[0]),(ye[1]!==be[b+1]||b===oe-2)&&(u[R].push(ye[1]),R++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,p=0,b=o.length;p<b;p++)o[p]=M(o[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var p,b,R,$,oe,ye,be=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(p=0,$=this._parts.length;p<$;p++)for(ye=this._parts[p],b=0,oe=ye.length,R=oe-1;b<oe;R=b++)if(!(!u&&b===0)&&y(o,ye[R],ye[b])<=be)return!0;return!1}});function HE(o,u){return new Pi(o,u)}Pi._flat=Ie;var ss=Pi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ql(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var u=Pi.prototype._convertLatLngs.call(this,o),p=u.length;return p>=2&&u[0]instanceof xe&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(o){Pi.prototype._setLatLngs.call(this,o),Ae(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ae(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,p=new he(u,u);if(o=new ee(o.min.subtract(p),o.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,R=this._rings.length,$;b<R;b++)$=Yl(this._rings[b],o,!0),$.length&&this._parts.push($)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u=!1,p,b,R,$,oe,ye,be,De;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for($=0,be=this._parts.length;$<be;$++)for(p=this._parts[$],oe=0,De=p.length,ye=De-1;oe<De;ye=oe++)b=p[oe],R=p[ye],b.y>o.y!=R.y>o.y&&o.x<(R.x-b.x)*(o.y-b.y)/(R.y-b.y)+b.x&&(u=!u);return u||Pi.prototype._containsPoint.call(this,o,!0)}});function ZE(o,u){return new ss(o,u)}var Li=We.extend({initialize:function(o,u){E(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var u=A(o)?o:o.features,p,b,R;if(u){for(p=0,b=u.length;p<b;p++)R=u[p],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var $=this.options;if($.filter&&!$.filter(o))return this;var oe=dd(o,$);return oe?(oe.feature=pd(o),oe.defaultOptions=oe.options,this.resetStyle(oe),$.onEachFeature&&$.onEachFeature(o,oe),this.addLayer(oe)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&(typeof u=="function"&&(u=u(o.feature)),o.setStyle(u))}});function dd(o,u){var p=o.type==="Feature"?o.geometry:o,b=p?p.coordinates:null,R=[],$=u&&u.pointToLayer,oe=u&&u.coordsToLatLng||Yf,ye,be,De,Fe;if(!b&&!p)return null;switch(p.type){case"Point":return ye=oe(b),L0($,o,ye,u);case"MultiPoint":for(De=0,Fe=b.length;De<Fe;De++)ye=oe(b[De]),R.push(L0($,o,ye,u));return new We(R);case"LineString":case"MultiLineString":return be=hd(b,p.type==="LineString"?0:1,oe),new Pi(be,u);case"Polygon":case"MultiPolygon":return be=hd(b,p.type==="Polygon"?1:2,oe),new ss(be,u);case"GeometryCollection":for(De=0,Fe=p.geometries.length;De<Fe;De++){var Ye=dd({geometry:p.geometries[De],type:"Feature",properties:o.properties},u);Ye&&R.push(Ye)}return new We(R);case"FeatureCollection":for(De=0,Fe=p.features.length;De<Fe;De++){var ht=dd(p.features[De],u);ht&&R.push(ht)}return new We(R);default:throw new Error("Invalid GeoJSON object.")}}function L0(o,u,p,b){return o?o(u,p):new ud(p,b&&b.markersInheritOptions&&b)}function Yf(o){return new xe(o[1],o[0],o[2])}function hd(o,u,p){for(var b=[],R=0,$=o.length,oe;R<$;R++)oe=u?hd(o[R],u-1,p):(p||Yf)(o[R]),b.push(oe);return b}function Qf(o,u){return o=Te(o),o.alt!==void 0?[v(o.lng,u),v(o.lat,u),v(o.alt,u)]:[v(o.lng,u),v(o.lat,u)]}function fd(o,u,p,b){for(var R=[],$=0,oe=o.length;$<oe;$++)R.push(u?fd(o[$],Ae(o[$])?0:u-1,p,b):Qf(o[$],b));return!u&&p&&R.length>0&&R.push(R[0].slice()),R}function ls(o,u){return o.feature?i({},o.feature,{geometry:u}):pd(u)}function pd(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var ep={toGeoJSON:function(o){return ls(this,{type:"Point",coordinates:Qf(this.getLatLng(),o)})}};ud.include(ep),Kf.include(ep),cd.include(ep),Pi.include({toGeoJSON:function(o){var u=!Ae(this._latlngs),p=fd(this._latlngs,u?1:0,!1,o);return ls(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),ss.include({toGeoJSON:function(o){var u=!Ae(this._latlngs),p=u&&!Ae(this._latlngs[0]),b=fd(this._latlngs,p?2:u?1:0,!0,o);return u||(b=[b]),ls(this,{type:(p?"Multi":"")+"Polygon",coordinates:b})}}),ot.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(o).geometry.coordinates)}),ls(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(o);var p=u==="GeometryCollection",b=[];return this.eachLayer(function(R){if(R.toGeoJSON){var $=R.toGeoJSON(o);if(p)b.push($.geometry);else{var oe=pd($);oe.type==="FeatureCollection"?b.push.apply(b,oe.features):b.push(oe)}}}),p?ls(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function I0(o,u){return new Li(o,u)}var WE=I0,md=nt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,p){this._url=o,this._bounds=_e(u),E(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(it(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&$n(this._image),this},bringToBack:function(){return this._map&&Vn(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=_e(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",u=this._image=o?this._url:yt("img");if(it(u,"leaflet-image-layer"),this._zoomAnimated&&it(u,"leaflet-zoom-animated"),this.options.className&&it(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onload=s(this.fire,this,"load"),u.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Oi(this._image,p,u)},_reset:function(){var o=this._image,u=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();Bt(o,u.min),o.style.width=p.x+"px",o.style.height=p.y+"px"},_updateOpacity:function(){Hr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),XE=function(o,u,p){return new md(o,u,p)},M0=md.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",u=this._image=o?this._url:yt("video");if(it(u,"leaflet-image-layer"),this._zoomAnimated&&it(u,"leaflet-zoom-animated"),this.options.className&&it(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onloadeddata=s(this.fire,this,"load"),o){for(var p=u.getElementsByTagName("source"),b=[],R=0;R<p.length;R++)b.push(p[R].src);this._url=p.length>0?b:[u.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var $=0;$<this._url.length;$++){var oe=yt("source");oe.src=this._url[$],u.appendChild(oe)}}});function JE(o,u,p){return new M0(o,u,p)}var F0=md.extend({_initImage:function(){var o=this._image=this._url;it(o,"leaflet-image-layer"),this._zoomAnimated&&it(o,"leaflet-zoom-animated"),this.options.className&&it(o,this.options.className),o.onselectstart=g,o.onmousemove=g}});function KE(o,u,p){return new F0(o,u,p)}var pi=nt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,u){o&&(o instanceof xe||A(o))?(this._latlng=Te(o),E(this,u)):(E(this,o),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Hr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Hr(this._container,1),this.bringToFront(),this.options.interactive&&(it(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Hr(this._container,0),this._removeTimeout=setTimeout(s(Dt,void 0,this._container),200)):Dt(this._container),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Te(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$n(this._container),this},bringToBack:function(){return this._map&&Vn(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof We){u=null;var p=this._source._layers;for(var b in p)if(p[b]._map){u=p[b];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else if(u.getBounds)o=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=ae(this.options.offset),p=this._getAnchor();this._zoomAnimated?Bt(this._container,o.add(p)):u=u.add(o).add(p);var b=this._containerBottom=-u.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=b+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});mt.include({_initOverlay:function(o,u,p,b){var R=u;return R instanceof o||(R=new o(b).setContent(u)),p&&R.setLatLng(p),R}}),nt.include({_initOverlay:function(o,u,p,b){var R=p;return R instanceof o?(E(R,b),R._source=this):(R=u&&!b?u:new o(b,this),R.setContent(p)),R}});var gd=pi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,pi.prototype.openOn.call(this,o)},onAdd:function(o){pi.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof aa||this._source.on("preclick",Fr))},onRemove:function(o){pi.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof aa||this._source.off("preclick",Fr))},getEvents:function(){var o=pi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=yt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=yt("div",o+"-content-wrapper",u);if(this._contentNode=yt("div",o+"-content",p),ia(u),ns(this._contentNode),tt(u,"contextmenu",Fr),this._tipContainer=yt("div",o+"-tip-container",u),this._tip=yt("div",o+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=yt("a",o+"-close-button",u);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',tt(b,"click",function(R){sr(R),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var p=o.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var b=o.offsetHeight,R=this.options.maxHeight,$="leaflet-popup-scrolled";R&&b>R?(u.height=R+"px",it(o,$)):qt(o,$),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),p=this._getAnchor();Bt(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,u=parseInt(ro(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,b=this._containerWidth,R=new he(this._containerLeft,-p-this._containerBottom);R._add(Ir(this._container));var $=o.layerPointToContainerPoint(R),oe=ae(this.options.autoPanPadding),ye=ae(this.options.autoPanPaddingTopLeft||oe),be=ae(this.options.autoPanPaddingBottomRight||oe),De=o.getSize(),Fe=0,Ye=0;$.x+b+be.x>De.x&&(Fe=$.x+b-De.x+be.x),$.x-Fe-ye.x<0&&(Fe=$.x-ye.x),$.y+p+be.y>De.y&&(Ye=$.y+p-De.y+be.y),$.y-Ye-ye.y<0&&(Ye=$.y-ye.y),(Fe||Ye)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Fe,Ye]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),YE=function(o,u){return new gd(o,u)};mt.mergeOptions({closePopupOnClick:!0}),mt.include({openPopup:function(o,u,p){return this._initOverlay(gd,o,u,p).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),nt.include({bindPopup:function(o,u){return this._popup=this._initOverlay(gd,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof We||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){di(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof aa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var vd=pi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){pi.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){pi.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=pi.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",u=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=yt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,p,b=this._map,R=this._container,$=b.latLngToContainerPoint(b.getCenter()),oe=b.layerPointToContainerPoint(o),ye=this.options.direction,be=R.offsetWidth,De=R.offsetHeight,Fe=ae(this.options.offset),Ye=this._getAnchor();ye==="top"?(u=be/2,p=De):ye==="bottom"?(u=be/2,p=0):ye==="center"?(u=be/2,p=De/2):ye==="right"?(u=0,p=De/2):ye==="left"?(u=be,p=De/2):oe.x<$.x?(ye="right",u=0,p=De/2):(ye="left",u=be+(Fe.x+Ye.x)*2,p=De/2),o=o.subtract(ae(u,p,!0)).add(Fe).add(Ye),qt(R,"leaflet-tooltip-right"),qt(R,"leaflet-tooltip-left"),qt(R,"leaflet-tooltip-top"),qt(R,"leaflet-tooltip-bottom"),it(R,"leaflet-tooltip-"+ye),Bt(R,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Hr(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),QE=function(o,u){return new vd(o,u)};mt.include({openTooltip:function(o,u,p){return this._initOverlay(vd,o,u,p).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),nt.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vd,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var u=o?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof We||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&(tt(u,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),tt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var u=o.latlng,p,b;this._tooltip.options.sticky&&o.originalEvent&&(p=this._map.mouseEventToContainerPoint(o.originalEvent),b=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(u)}});var B0=Xr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&o.tagName==="DIV"?o:document.createElement("div"),p=this.options;if(p.html instanceof Element?(ea(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var b=ae(p.bgPos);u.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function eS(o){return new B0(o)}Xr.Default=fi;var tu=nt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ge.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){E(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Dt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof he?o:new he(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var u=this.getPane().children,p=-o(-1/0,1/0),b=0,R=u.length,$;b<R;b++)$=u[b].style.zIndex,u[b]!==this._container&&$&&(p=o(p,+$));isFinite(p)&&(this.options.zIndex=p+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ge.ielt9){Hr(this._container,this.options.opacity);var o=+new Date,u=!1,p=!1;for(var b in this._tiles){var R=this._tiles[b];if(!(!R.current||!R.loaded)){var $=Math.min(1,(o-R.loaded)/200);Hr(R.el,$),$<1?u=!0:(R.active?p=!0:this._onOpaqueTile(R),R.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(z(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(o!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===o?(this._levels[p].el.style.zIndex=u-Math.abs(o-p),this._onUpdateLevel(p)):(Dt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var b=this._levels[o],R=this._map;return b||(b=this._levels[o]={},b.el=yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=u,b.origin=R.project(R.unproject(R.getPixelOrigin()),o).round(),b.zoom=o,this._setZoomTransform(b,R.getCenter(),R.getZoom()),g(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var o,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)u=this._tiles[o],u.retain=u.current;for(o in this._tiles)if(u=this._tiles[o],u.current&&!u.active){var b=u.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Dt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,p,b){var R=Math.floor(o/2),$=Math.floor(u/2),oe=p-1,ye=new he(+R,+$);ye.z=+oe;var be=this._tileCoordsToKey(ye),De=this._tiles[be];return De&&De.active?(De.retain=!0,!0):(De&&De.loaded&&(De.retain=!0),oe>b?this._retainParent(R,$,oe,b):!1)},_retainChildren:function(o,u,p,b){for(var R=2*o;R<2*o+2;R++)for(var $=2*u;$<2*u+2;$++){var oe=new he(R,$);oe.z=p+1;var ye=this._tileCoordsToKey(oe),be=this._tiles[ye];if(be&&be.active){be.retain=!0;continue}else be&&be.loaded&&(be.retain=!0);p+1<b&&this._retainChildren(R,$,p+1,b)}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return u.minNativeZoom!==void 0&&o<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,p,b){var R=Math.round(u);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var $=this.options.updateWhenZooming&&R!==this._tileZoom;(!b||$)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(o),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],o,u)},_setZoomTransform:function(o,u,p){var b=this._map.getZoomScale(p,o.zoom),R=o.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(u,p)).round();Ge.any3d?Oi(o.el,R,b):Bt(o.el,R)},_resetGrid:function(){var o=this._map,u=o.options.crs,p=this._tileSize=this.getTileSize(),b=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],b).x/p.x),Math.ceil(o.project([0,u.wrapLng[1]],b).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],b).y/p.x),Math.ceil(o.project([u.wrapLat[1],0],b).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),b=u.getZoomScale(p,this._tileZoom),R=u.project(o,this._tileZoom).floor(),$=u.getSize().divideBy(b*2);return new ee(R.subtract($),R.add($))},_update:function(o){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(o===void 0&&(o=u.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(o),R=this._pxBoundsToTileRange(b),$=R.getCenter(),oe=[],ye=this.options.keepBuffer,be=new ee(R.getBottomLeft().subtract([ye,-ye]),R.getTopRight().add([ye,-ye]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var De in this._tiles){var Fe=this._tiles[De].coords;(Fe.z!==this._tileZoom||!be.contains(new he(Fe.x,Fe.y)))&&(this._tiles[De].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(o,p);return}for(var Ye=R.min.y;Ye<=R.max.y;Ye++)for(var ht=R.min.x;ht<=R.max.x;ht++){var zr=new he(ht,Ye);if(zr.z=this._tileZoom,!!this._isValidTile(zr)){var gr=this._tiles[this._tileCoordsToKey(zr)];gr?gr.current=!0:oe.push(zr)}}if(oe.sort(function(Jr,cs){return Jr.distanceTo($)-cs.distanceTo($)}),oe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Dn=document.createDocumentFragment();for(ht=0;ht<oe.length;ht++)this._addTile(oe[ht],Dn);this._level.el.appendChild(Dn)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(o.x<p.min.x||o.x>p.max.x)||!u.wrapLat&&(o.y<p.min.y||o.y>p.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(o);return _e(this.options.bounds).overlaps(b)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,p=this.getTileSize(),b=o.scaleBy(p),R=b.add(p),$=u.unproject(b,o.z),oe=u.unproject(R,o.z);return[$,oe]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),p=new ke(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),p=new he(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(o){var u=this._tiles[o];u&&(Dt(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){it(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=g,o.onmousemove=g,Ge.ielt9&&this.options.opacity<1&&Hr(o,this.options.opacity)},_addTile:function(o,u){var p=this._getTilePos(o),b=this._tileCoordsToKey(o),R=this.createTile(this._wrapCoords(o),s(this._tileReady,this,o));this._initTile(R),this.createTile.length<2&&Y(s(this._tileReady,this,o,null,R)),Bt(R,p),this._tiles[b]={el:R,coords:o,current:!0},u.appendChild(R),this.fire("tileloadstart",{tile:R,coords:o})},_tileReady:function(o,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:o});var b=this._tileCoordsToKey(o);p=this._tiles[b],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Hr(p.el,0),z(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(it(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ge.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new he(this._wrapX?f(o.x,this._wrapX):o.x,this._wrapY?f(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new ee(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function tS(o){return new tu(o)}var us=tu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,u=E(this,u),u.detectRetina&&Ge.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&u===void 0&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var p=document.createElement("img");return tt(p,"load",s(this._tileOnLoad,this,u,p)),tt(p,"error",s(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(o),p},getTileUrl:function(o){var u={r:Ge.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=p),u["-y"]=p}return w(this._url,i(u,this.options))},_tileOnLoad:function(o,u){Ge.ielt9?setTimeout(s(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,p){var b=this.options.errorTileUrl;b&&u.getAttribute("src")!==b&&(u.src=b),o(p,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,b=this.options.zoomOffset;return p&&(o=u-o),o+b},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(u=this._tiles[o].el,u.onload=g,u.onerror=g,!u.complete)){u.src=T;var p=this._tiles[o].coords;Dt(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",T),tu.prototype._removeTile.call(this,o)},_tileReady:function(o,u,p){if(!(!this._map||p&&p.getAttribute("src")===T))return tu.prototype._tileReady.call(this,o,u,p)}});function z0(o,u){return new us(o,u)}var U0=us.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var p=i({},this.defaultWmsParams);for(var b in u)b in this.options||(p[b]=u[b]);u=E(this,u);var R=u.detectRetina&&Ge.retina?2:1,$=this.getTileSize();p.width=$.x*R,p.height=$.y*R,this.wmsParams=p},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,us.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),p=this._crs,b=re(p.project(u[0]),p.project(u[1])),R=b.min,$=b.max,oe=(this._wmsVersion>=1.3&&this._crs===Tt?[R.y,R.x,$.y,$.x]:[R.x,R.y,$.x,$.y]).join(","),ye=us.prototype.getTileUrl.call(this,o);return ye+j(this.wmsParams,ye,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+oe},setParams:function(o,u){return i(this.wmsParams,o),u||this.redraw(),this}});function rS(o,u){return new U0(o,u)}us.WMS=U0,z0.wms=rS;var Ii=nt.extend({options:{padding:.1},initialize:function(o){E(this,o),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),it(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var p=this._map.getZoomScale(u,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,u),$=b.multiplyBy(-p).add(R).subtract(this._map._getNewPixelOrigin(o,u));Ge.any3d?Oi(this._container,$,p):Bt(this._container,$)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new ee(p,p.add(u.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$0=Ii.extend({options:{tolerance:0},getEvents:function(){var o=Ii.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ii.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");tt(o,"mousemove",this._onMouseMove,this),tt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,Dt(this._container),Xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var u in this._layers)o=this._layers[u],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ii.prototype._update.call(this);var o=this._bounds,u=this._container,p=o.getSize(),b=Ge.retina?2:1;Bt(u,o.min),u.width=b*p.x,u.height=b*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Ge.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Ii.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[d(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,p=u.next,b=u.prev;p?p.prev=b:this._drawLast=b,b?b.next=p:this._drawFirst=p,delete o._order,delete this._layers[d(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var u=o.options.dashArray.split(/[, ]+/),p=[],b,R;for(R=0;R<u.length;R++){if(b=Number(u[R]),isNaN(b))return;p.push(b)}o.options._dashArray=p}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)o=b.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var p,b,R,$,oe=o._parts,ye=oe.length,be=this._ctx;if(ye){for(be.beginPath(),p=0;p<ye;p++){for(b=0,R=oe[p].length;b<R;b++)$=oe[p][b],be[b?"lineTo":"moveTo"]($.x,$.y);u&&be.closePath()}this._fillStroke(be,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var u=o._point,p=this._ctx,b=Math.max(Math.round(o._radius),1),R=(Math.max(Math.round(o._radiusY),1)||b)/b;R!==1&&(p.save(),p.scale(1,R)),p.beginPath(),p.arc(u.x,u.y/R,b,0,Math.PI*2,!1),R!==1&&p.restore(),this._fillStroke(p,o)}},_fillStroke:function(o,u){var p=u.options;p.fill&&(o.globalAlpha=p.fillOpacity,o.fillStyle=p.fillColor||p.color,o.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=p.opacity,o.lineWidth=p.weight,o.strokeStyle=p.color,o.lineCap=p.lineCap,o.lineJoin=p.lineJoin,o.stroke())},_onClick:function(o){for(var u=this._map.mouseEventToLayerPoint(o),p,b,R=this._drawFirst;R;R=R.next)p=R.layer,p.options.interactive&&p._containsPoint(u)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(p))&&(b=p);this._fireEvent(b?[b]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(qt(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var p,b,R=this._drawFirst;R;R=R.next)p=R.layer,p.options.interactive&&p._containsPoint(u)&&(b=p);b!==this._hoveredLayer&&(this._handleMouseOut(o),b&&(it(this._container,"leaflet-interactive"),this._fireEvent([b],o,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,p){this._map._fireDOMEvent(u,p||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var p=u.next,b=u.prev;if(p)p.prev=b;else return;b?b.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var p=u.next,b=u.prev;if(b)b.next=p;else return;p?p.prev=b:b&&(this._drawLast=b),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function V0(o){return Ge.canvas?new $0(o):null}var ru=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),nS={_initContainer:function(){this._container=yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ii.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=ru("shape");it(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=ru("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;Dt(u),o.removeInteractiveTarget(u),delete this._layers[d(o)]},_updateStyle:function(o){var u=o._stroke,p=o._fill,b=o.options,R=o._container;R.stroked=!!b.stroke,R.filled=!!b.fill,b.stroke?(u||(u=o._stroke=ru("stroke")),R.appendChild(u),u.weight=b.weight+"px",u.color=b.color,u.opacity=b.opacity,b.dashArray?u.dashStyle=A(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=b.lineCap.replace("butt","flat"),u.joinstyle=b.lineJoin):u&&(R.removeChild(u),o._stroke=null),b.fill?(p||(p=o._fill=ru("fill")),R.appendChild(p),p.color=b.fillColor||b.color,p.opacity=b.fillOpacity):p&&(R.removeChild(p),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),p=Math.round(o._radius),b=Math.round(o._radiusY||p);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+b+" 0,"+65535*360)},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){$n(o._container)},_bringToBack:function(o){Vn(o._container)}},yd=Ge.vml?ru:te,nu=Ii.extend({_initContainer:function(){this._container=yd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Dt(this._container),Xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ii.prototype._update.call(this);var o=this._bounds,u=o.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),Bt(p,o.min),p.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=yd("path");o.options.className&&it(u,o.options.className),o.options.interactive&&it(u,"leaflet-interactive"),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Dt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[d(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,p=o.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,X(o._parts,u))},_updateCircle:function(o){var u=o._point,p=Math.max(Math.round(o._radius),1),b=Math.max(Math.round(o._radiusY),1)||p,R="a"+p+","+b+" 0 1,0 ",$=o._empty()?"M0 0":"M"+(u.x-p)+","+u.y+R+p*2+",0 "+R+-p*2+",0 ";this._setPath(o,$)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){$n(o._path)},_bringToBack:function(o){Vn(o._path)}});Ge.vml&&nu.include(nS);function q0(o){return Ge.svg||Ge.vml?new nu(o):null}mt.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var u=this._paneRenderers[o];return u===void 0&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&V0(o)||q0(o)}});var G0=ss.extend({initialize:function(o,u){ss.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=_e(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function iS(o,u){return new G0(o,u)}nu.create=yd,nu.pointsToPath=X,Li.geometryToLayer=dd,Li.coordsToLatLng=Yf,Li.coordsToLatLngs=hd,Li.latLngToCoords=Qf,Li.latLngsToCoords=fd,Li.getFeature=ls,Li.asFeature=pd,mt.mergeOptions({boxZoom:!0});var H0=mn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ao(),es(),this._startPoint=this._map.mouseEventToContainerPoint(o),tt(document,{contextmenu:di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=yt("div","leaflet-zoom-box",this._container),it(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new ee(this._point,this._startPoint),p=u.getSize();Bt(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Dt(this._box),qt(this._container,"leaflet-crosshair")),oo(),Gl(),Xe(document,{contextmenu:di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var u=new ke(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});mt.addInitHook("addHandler","boxZoom",H0),mt.mergeOptions({doubleClickZoom:!0});var Z0=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,p=u.getZoom(),b=u.options.zoomDelta,R=o.originalEvent.shiftKey?p-b:p+b;u.options.doubleClickZoom==="center"?u.setZoom(R):u.setZoomAround(o.containerPoint,R)}});mt.addInitHook("addHandler","doubleClickZoom",Z0),mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var W0=mn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new qn(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}it(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qt(this._map._container,"leaflet-grab"),qt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=_e(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),p=this._initialWorldOffset,b=this._draggable._newPos.x,R=(b-u+p)%o+u-p,$=(b+u+p)%o-u-p,oe=Math.abs(R+p)<Math.abs($+p)?R:$;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=oe},_onDragEnd:function(o){var u=this._map,p=u.options,b=!p.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),b)u.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),$=(this._lastTime-this._times[0])/1e3,oe=p.easeLinearity,ye=R.multiplyBy(oe/$),be=ye.distanceTo([0,0]),De=Math.min(p.inertiaMaxSpeed,be),Fe=ye.multiplyBy(De/be),Ye=De/(p.inertiaDeceleration*oe),ht=Fe.multiplyBy(-Ye/2).round();!ht.x&&!ht.y?u.fire("moveend"):(ht=u._limitOffset(ht,u.options.maxBounds),Y(function(){u.panBy(ht,{duration:Ye,easeLinearity:oe,noMoveStart:!0,animate:!0})}))}}});mt.addInitHook("addHandler","dragging",W0),mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var X0=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),tt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,p=o.scrollTop||u.scrollTop,b=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(b,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var u=this._panKeys={},p=this.keyCodes,b,R;for(b=0,R=p.left.length;b<R;b++)u[p.left[b]]=[-1*o,0];for(b=0,R=p.right.length;b<R;b++)u[p.right[b]]=[o,0];for(b=0,R=p.down.length;b<R;b++)u[p.down[b]]=[0,o];for(b=0,R=p.up.length;b<R;b++)u[p.up[b]]=[0,-1*o]},_setZoomDelta:function(o){var u=this._zoomKeys={},p=this.keyCodes,b,R;for(b=0,R=p.zoomIn.length;b<R;b++)u[p.zoomIn[b]]=o;for(b=0,R=p.zoomOut.length;b<R;b++)u[p.zoomOut[b]]=-o},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var u=o.keyCode,p=this._map,b;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(b=this._panKeys[u],o.shiftKey&&(b=ae(b).multiplyBy(3)),p.options.maxBounds&&(b=p._limitOffset(ae(b),p.options.maxBounds)),p.options.worldCopyJump){var R=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(b)));p.panTo(R)}else p.panBy(b)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;di(o)}}});mt.addInitHook("addHandler","keyboard",X0),mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var J0=mn.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=kn(o),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var b=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),b),di(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),p=this._map.options.zoomSnap||0;o._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,$=p?Math.ceil(R/p)*p:R,oe=o._limitZoom(u+(this._delta>0?$:-$))-u;this._delta=0,this._startTime=null,oe&&(o.options.scrollWheelZoom==="center"?o.setZoom(u+oe):o.setZoomAround(this._lastMousePos,u+oe))}});mt.addInitHook("addHandler","scrollWheelZoom",J0);var aS=600;mt.mergeOptions({tapHold:Ge.touchNative&&Ge.safari&&Ge.mobile,tapTolerance:15});var K0=mn.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var u=o.touches[0];this._startPos=this._newPos=new he(u.clientX,u.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",sr),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),aS),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Xe(document,"touchend",sr),Xe(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Xe(document,"touchend touchcancel contextmenu",this._cancel,this),Xe(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new he(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var p=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});mt.addInitHook("addHandler","tapHold",K0),mt.mergeOptions({touchZoom:Ge.touch,bounceAtZoomLimits:!0});var Y0=mn.extend({addHooks:function(){it(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(!(!o.touches||o.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(o.touches[0]),b=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(b)._divideBy(2))),this._startDist=p.distanceTo(b),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),sr(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(o.touches[0]),b=u.mouseEventToContainerPoint(o.touches[1]),R=p.distanceTo(b)/this._startDist;if(this._zoom=u.getScaleZoom(R,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&R<1||this._zoom>u.getMaxZoom()&&R>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var $=p._add(b)._divideBy(2)._subtract(this._centerPoint);if(R===1&&$.x===0&&$.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract($),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var oe=s(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(oe,this,!0),sr(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Xe(document,"touchmove",this._onTouchMove,this),Xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});mt.addInitHook("addHandler","touchZoom",Y0),mt.BoxZoom=H0,mt.DoubleClickZoom=Z0,mt.Drag=W0,mt.Keyboard=X0,mt.ScrollWheelZoom=J0,mt.TapHold=K0,mt.TouchZoom=Y0,r.Bounds=ee,r.Browser=Ge,r.CRS=U,r.Canvas=$0,r.Circle=Kf,r.CircleMarker=cd,r.Class=P,r.Control=Br,r.DivIcon=B0,r.DivOverlay=pi,r.DomEvent=rd,r.DomUtil=rs,r.Draggable=qn,r.Evented=ce,r.FeatureGroup=We,r.GeoJSON=Li,r.GridLayer=tu,r.Handler=mn,r.Icon=Xr,r.ImageOverlay=md,r.LatLng=xe,r.LatLngBounds=ke,r.Layer=nt,r.LayerGroup=ot,r.LineUtil=rt,r.Map=mt,r.Marker=ud,r.Mixin=ld,r.Path=aa,r.Point=he,r.PolyUtil=m,r.Polygon=ss,r.Polyline=Pi,r.Popup=gd,r.PosAnimation=nd,r.Projection=Re,r.Rectangle=G0,r.Renderer=Ii,r.SVG=nu,r.SVGOverlay=F0,r.TileLayer=us,r.Tooltip=vd,r.Transformation=Le,r.Util=ie,r.VideoOverlay=M0,r.bind=s,r.bounds=re,r.canvas=V0,r.circle=GE,r.circleMarker=qE,r.control=Ri,r.divIcon=eS,r.extend=i,r.featureGroup=Nt,r.geoJSON=I0,r.geoJson=WE,r.gridLayer=tS,r.icon=hi,r.imageOverlay=XE,r.latLng=Te,r.latLngBounds=_e,r.layerGroup=Ke,r.map=ho,r.marker=VE,r.point=ae,r.polygon=ZE,r.polyline=HE,r.popup=YE,r.rectangle=iS,r.setOptions=E,r.stamp=d,r.svg=q0,r.svgOverlay=KE,r.tileLayer=z0,r.tooltip=QE,r.transformation=Be,r.version=n,r.videoOverlay=JE;var oS=window.L;r.noConflict=function(){return window.L=oS,this},window.L=r})})(vg,vg.exports);var Pa=vg.exports;function Af(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function Tf(e,t){return t==null?function(n,i){const a=ve.useRef();return a.current||(a.current=e(n,i)),a}:function(n,i){const a=ve.useRef();a.current||(a.current=e(n,i));const s=ve.useRef(n),{instance:c}=a.current;return ve.useEffect(function(){s.current!==n&&(t(c,n,s.current),s.current=n)},[c,n,i]),a}}function a1(e,t){ve.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function o1(e){return function(r){const n=Sf(),i=e(Zv(r,n),n);return _j(n.map,r.attribution),i1(i.current,r.eventHandlers),a1(i.current,n),i}}function Sj(e,t){const r=ve.useRef();ve.useEffect(function(){if(t.pathOptions!==r.current){const i=t.pathOptions??{};e.instance.setStyle(i),r.current=i}},[e,t])}function Aj(e){return function(r){const n=Sf(),i=e(Zv(r,n),n);return i1(i.current,r.eventHandlers),a1(i.current,n),Sj(i.current,r),i}}function Tj(e,t){const r=Tf(e,t),n=o1(r);return Hv(n)}function Nj(e,t){const r=Tf(e,t),n=Aj(r);return Hv(n)}function kj(e,t){const r=Tf(e,t),n=o1(r);return Cj(n)}function Dj(e,t,r){const{opacity:n,zIndex:i}=t;n!=null&&n!==r.opacity&&e.setOpacity(n),i!=null&&i!==r.zIndex&&e.setZIndex(i)}function jj(e,t,r){t.bounds instanceof Pa.LatLngBounds&&t.bounds!==r.bounds&&e.setBounds(t.bounds),t.opacity!=null&&t.opacity!==r.opacity&&e.setOpacity(t.opacity),t.zIndex!=null&&t.zIndex!==r.zIndex&&e.setZIndex(t.zIndex)}const s1=Nj(function({data:t,...r},n){const i=new Pa.GeoJSON(t,r);return Af(i,Ef(n,{overlayContainer:i}))},function(t,r,n){r.style!==n.style&&(r.style==null?t.resetStyle():t.setStyle(r.style))}),l1=Tj(function({bounds:t,url:r,...n},i){const a=new Pa.ImageOverlay(r,t,n);return Af(a,Ef(i,{overlayContainer:a}))},function(t,r,n){if(jj(t,r,n),r.bounds!==n.bounds){const i=r.bounds instanceof Pa.LatLngBounds?r.bounds:new Pa.LatLngBounds(r.bounds);t.setBounds(i)}r.url!==n.url&&t.setUrl(r.url)}),Oj=Tf(function({children:t,...r},n){const i=new Pa.Control.Layers(void 0,void 0,r);return Af(i,Ef(n,{layersControl:i}))},function(t,r,n){r.collapsed!==n.collapsed&&(r.collapsed===!0?t.collapse():t.expand())}),Rj=Ej(Oj),La=Hv(Rj);function u1(e){return function(r){const n=Sf(),i=ve.useRef(r),[a,s]=ve.useState(null),{layersControl:c,map:d}=n,h=ve.useCallback(v=>{c!=null&&(i.current.checked&&d.addLayer(v),e(c,v,i.current.name),s(v))},[c,d]),f=ve.useCallback(v=>{c==null||c.removeLayer(v),s(null)},[c]),g=ve.useMemo(()=>Ef(n,{layerContainer:{addLayer:h,removeLayer:f}}),[n,h,f]);return ve.useEffect(()=>{a!==null&&i.current!==r&&(r.checked===!0&&(i.current.checked==null||i.current.checked===!1)?d.addLayer(a):i.current.checked===!0&&(r.checked==null||r.checked===!1)&&d.removeLayer(a),i.current=r)}),r.children?Do.createElement(Gv,{value:g},r.children):null}}La.BaseLayer=u1(function(t,r,n){t.addBaseLayer(r,n)});La.Overlay=u1(function(t,r,n){t.addOverlay(r,n)});function yg(){return yg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(this,arguments)}function Pj({bounds:e,boundsOptions:t,center:r,children:n,className:i,id:a,placeholder:s,style:c,whenReady:d,zoom:h,...f},g){const[v]=ve.useState({className:i,id:a,style:c}),[_,k]=ve.useState(null);ve.useImperativeHandle(g,()=>(_==null?void 0:_.map)??null,[_]);const E=ve.useCallback(x=>{if(x!==null&&_===null){const w=new Pa.Map(x,f);r!=null&&h!=null?w.setView(r,h):e!=null&&w.fitBounds(e,t),d!=null&&w.whenReady(d),k(wj(w))}},[]);ve.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const j=_?Do.createElement(Gv,{value:_},n):s??null;return Do.createElement("div",yg({},v,{ref:E}),j)}const c1=ve.forwardRef(Pj),d1=kj(function({url:t,...r},n){const i=new Pa.TileLayer(t,Zv(r,n));return Af(i,n)},function(t,r,n){Dj(t,r,n);const{url:i}=r;i!=null&&i!==n.url&&t.setUrl(i)});function Ud(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var h1={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,a){function s(h,f){if(!i[h]){if(!n[h]){var g=typeof Ud=="function"&&Ud;if(!f&&g)return g(h,!0);if(c)return c(h,!0);var v=new Error("Cannot find module '"+h+"'");throw v.code="MODULE_NOT_FOUND",v}var _=i[h]={exports:{}};n[h][0].call(_.exports,function(k){var E=n[h][1][k];return s(E||k)},_,_.exports,r,n,i,a)}return i[h].exports}for(var c=typeof Ud=="function"&&Ud,d=0;d<a.length;d++)s(a[d]);return s}({1:[function(r,n,i){var a=r("./utils"),s=r("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var h,f,g,v,_,k,E,j=[],x=0,w=d.length,A=w,S=a.getTypeOf(d)!=="string";x<d.length;)A=w-x,g=S?(h=d[x++],f=x<w?d[x++]:0,x<w?d[x++]:0):(h=d.charCodeAt(x++),f=x<w?d.charCodeAt(x++):0,x<w?d.charCodeAt(x++):0),v=h>>2,_=(3&h)<<4|f>>4,k=1<A?(15&f)<<2|g>>6:64,E=2<A?63&g:64,j.push(c.charAt(v)+c.charAt(_)+c.charAt(k)+c.charAt(E));return j.join("")},i.decode=function(d){var h,f,g,v,_,k,E=0,j=0,x="data:";if(d.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var w,A=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&A--,d.charAt(d.length-2)===c.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=s.uint8array?new Uint8Array(0|A):new Array(0|A);E<d.length;)h=c.indexOf(d.charAt(E++))<<2|(v=c.indexOf(d.charAt(E++)))>>4,f=(15&v)<<4|(_=c.indexOf(d.charAt(E++)))>>2,g=(3&_)<<6|(k=c.indexOf(d.charAt(E++))),w[j++]=h,_!==64&&(w[j++]=f),k!==64&&(w[j++]=g);return w}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),s=r("./stream/DataWorker"),c=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function h(f,g,v,_,k){this.compressedSize=f,this.uncompressedSize=g,this.crc32=v,this.compression=_,this.compressedContent=k}h.prototype={getContentWorker:function(){var f=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),g=this;return f.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,g,v){return f.pipe(new c).pipe(new d("uncompressedSize")).pipe(g.compressWorker(v)).pipe(new d("compressedSize")).withStreamInfo("compression",g)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),s=function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d}();n.exports=function(c,d){return c!==void 0&&c.length?a.getTypeOf(c)!=="string"?function(h,f,g,v){var _=s,k=v+g;h^=-1;for(var E=v;E<k;E++)h=h>>>8^_[255&(h^f[E])];return-1^h}(0|d,c,c.length,0):function(h,f,g,v){var _=s,k=v+g;h^=-1;for(var E=v;E<k;E++)h=h>>>8^_[255&(h^f.charCodeAt(E))];return-1^h}(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=r("pako"),c=r("./utils"),d=r("./stream/GenericWorker"),h=a?"uint8array":"array";function f(g,v){d.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=v,this.meta={}}i.magic="\b\0",c.inherits(f,d),f.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,g.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(v){g.push({data:v,meta:g.meta})}},i.compressWorker=function(g){return new f("Deflate",g)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(_,k){var E,j="";for(E=0;E<k;E++)j+=String.fromCharCode(255&_),_>>>=8;return j}function s(_,k,E,j,x,w){var A,S,T=_.file,F=_.compression,I=w!==h.utf8encode,D=c.transformTo("string",w(T.name)),C=c.transformTo("string",h.utf8encode(T.name)),G=T.comment,Y=c.transformTo("string",w(G)),z=c.transformTo("string",h.utf8encode(G)),ie=C.length!==T.name.length,P=z.length!==G.length,ue="",pe="",ce="",he=T.dir,O=T.date,ae={crc32:0,compressedSize:0,uncompressedSize:0};k&&!E||(ae.crc32=_.crc32,ae.compressedSize=_.compressedSize,ae.uncompressedSize=_.uncompressedSize);var ee=0;k&&(ee|=8),I||!ie&&!P||(ee|=2048);var re=0,ke=0;he&&(re|=16),x==="UNIX"?(ke=798,re|=function(xe,Te){var U=xe;return xe||(U=Te?16893:33204),(65535&U)<<16}(T.unixPermissions,he)):(ke=20,re|=function(xe){return 63&(xe||0)}(T.dosPermissions)),A=O.getUTCHours(),A<<=6,A|=O.getUTCMinutes(),A<<=5,A|=O.getUTCSeconds()/2,S=O.getUTCFullYear()-1980,S<<=4,S|=O.getUTCMonth()+1,S<<=5,S|=O.getUTCDate(),ie&&(pe=a(1,1)+a(f(D),4)+C,ue+="up"+a(pe.length,2)+pe),P&&(ce=a(1,1)+a(f(Y),4)+z,ue+="uc"+a(ce.length,2)+ce);var _e="";return _e+=`
\0`,_e+=a(ee,2),_e+=F.magic,_e+=a(A,2),_e+=a(S,2),_e+=a(ae.crc32,4),_e+=a(ae.compressedSize,4),_e+=a(ae.uncompressedSize,4),_e+=a(D.length,2),_e+=a(ue.length,2),{fileRecord:g.LOCAL_FILE_HEADER+_e+D+ue,dirRecord:g.CENTRAL_FILE_HEADER+a(ke,2)+_e+a(Y.length,2)+"\0\0\0\0"+a(re,4)+a(j,4)+D+ue+Y}}var c=r("../utils"),d=r("../stream/GenericWorker"),h=r("../utf8"),f=r("../crc32"),g=r("../signature");function v(_,k,E,j){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=E,this.encodeFileName=j,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(v,d),v.prototype.push=function(_){var k=_.meta.percent||0,E=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,d.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:E?(k+100*(E-j-1))/E:100}}))},v.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var k=this.streamFiles&&!_.file.dir;if(k){var E=s(_,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(_){this.accumulate=!1;var k=this.streamFiles&&!_.file.dir,E=s(_,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),k)this.push({data:function(j){return g.DATA_DESCRIPTOR+a(j.crc32,4)+a(j.compressedSize,4)+a(j.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:E.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var _=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var E=this.bytesWritten-_,j=function(x,w,A,S,T){var F=c.transformTo("string",T(S));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(x,2)+a(x,2)+a(w,4)+a(A,4)+a(F.length,2)+F}(this.dirRecords.length,E,_,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(_){this._sources.push(_);var k=this;return _.on("data",function(E){k.processChunk(E)}),_.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),_.on("error",function(E){k.error(E)}),this},v.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(_){var k=this._sources;if(!d.prototype.error.call(this,_))return!1;for(var E=0;E<k.length;E++)try{k[E].error(_)}catch{}return!0},v.prototype.lock=function(){d.prototype.lock.call(this);for(var _=this._sources,k=0;k<_.length;k++)_[k].lock()},n.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),s=r("./ZipFileWorker");i.generateWorker=function(c,d,h){var f=new s(d.streamFiles,h,d.platform,d.encodeFileName),g=0;try{c.forEach(function(v,_){g++;var k=function(w,A){var S=w||A,T=a[S];if(!T)throw new Error(S+" is not a valid compression method !");return T}(_.options.compression,d.compression),E=_.options.compressionOptions||d.compressionOptions||{},j=_.dir,x=_.date;_._compressWorker(k,E).withStreamInfo("file",{name:v,dir:j,date:x,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(v){f.error(v)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var c in this)typeof this[c]!="function"&&(s[c]=this[c]);return s}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(s,c){return new a().loadAsync(s,c)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),s=r("./external"),c=r("./utf8"),d=r("./zipEntries"),h=r("./stream/Crc32Probe"),f=r("./nodejsUtils");function g(v){return new s.Promise(function(_,k){var E=v.decompressed.getContentWorker().pipe(new h);E.on("error",function(j){k(j)}).on("end",function(){E.streamInfo.crc32!==v.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}n.exports=function(v,_){var k=this;return _=a.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),f.isNode&&f.isStream(v)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",v,!0,_.optimizedBinaryString,_.base64).then(function(E){var j=new d(_);return j.load(E),j}).then(function(E){var j=[s.Promise.resolve(E)],x=E.files;if(_.checkCRC32)for(var w=0;w<x.length;w++)j.push(g(x[w]));return s.Promise.all(j)}).then(function(E){for(var j=E.shift(),x=j.files,w=0;w<x.length;w++){var A=x[w],S=A.fileNameStr,T=a.resolve(A.fileNameStr);k.file(T,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:_.createFolders}),A.dir||(k.file(T).unsafeOriginalName=S)}return j.zipComment.length&&(k.comment=j.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),s=r("../stream/GenericWorker");function c(d,h){s.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}a.inherits(c,s),c.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function s(c,d,h){a.call(this,d),this._helper=c;var f=this;c.on("data",function(g,v){f.push(g)||f._helper.pause(),h&&h(v)}).on("error",function(g){f.emit("error",g)}).on("end",function(){f.push(null)})}r("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(T,F,I){var D,C=c.getTypeOf(F),G=c.extend(I||{},f);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions=="string"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(T=x(T)),G.createFolders&&(D=j(T))&&w.call(this,D,!0);var Y=C==="string"&&G.binary===!1&&G.base64===!1;I&&I.binary!==void 0||(G.binary=!Y),(F instanceof g&&F.uncompressedSize===0||G.dir||!F||F.length===0)&&(G.base64=!1,G.binary=!0,F="",G.compression="STORE",C="string");var z=null;z=F instanceof g||F instanceof d?F:k.isNode&&k.isStream(F)?new E(T,F):c.prepareContent(T,F,G.binary,G.optimizedBinaryString,G.base64);var ie=new v(T,z,G);this.files[T]=ie}var s=r("./utf8"),c=r("./utils"),d=r("./stream/GenericWorker"),h=r("./stream/StreamHelper"),f=r("./defaults"),g=r("./compressedObject"),v=r("./zipObject"),_=r("./generate"),k=r("./nodejsUtils"),E=r("./nodejs/NodejsStreamInputAdapter"),j=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var F=T.lastIndexOf("/");return 0<F?T.substring(0,F):""},x=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},w=function(T,F){return F=F!==void 0?F:f.createFolders,T=x(T),this.files[T]||a.call(this,T,null,{dir:!0,createFolders:F}),this.files[T]};function A(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var F,I,D;for(F in this.files)D=this.files[F],(I=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&T(I,D)},filter:function(T){var F=[];return this.forEach(function(I,D){T(I,D)&&F.push(D)}),F},file:function(T,F,I){if(arguments.length!==1)return T=this.root+T,a.call(this,T,F,I),this;if(A(T)){var D=T;return this.filter(function(G,Y){return!Y.dir&&D.test(G)})}var C=this.files[this.root+T];return C&&!C.dir?C:null},folder:function(T){if(!T)return this;if(A(T))return this.filter(function(C,G){return G.dir&&T.test(C)});var F=this.root+T,I=w.call(this,F),D=this.clone();return D.root=I.name,D},remove:function(T){T=this.root+T;var F=this.files[T];if(F||(T.slice(-1)!=="/"&&(T+="/"),F=this.files[T]),F&&!F.dir)delete this.files[T];else for(var I=this.filter(function(C,G){return G.name.slice(0,T.length)===T}),D=0;D<I.length;D++)delete this.files[I[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var F,I={};try{if((I=c.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");c.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var D=I.comment||this.comment||"";F=_.generateWorker(this,I,D)}catch(C){(F=new d("error")).error(C)}return new h(F,I.type||"string",I.mimeType)},generateAsync:function(T,F){return this.generateInternalStream(T).accumulate(F)},generateNodeStream:function(T,F){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(F)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function s(c){a.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}r("../utils").inherits(s,a),s.prototype.byteAt=function(c){return this.data[this.zero+c]},s.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),g=c.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===d&&this.data[v+1]===h&&this.data[v+2]===f&&this.data[v+3]===g)return v-this.zero;return-1},s.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),g=c.charCodeAt(3),v=this.readData(4);return d===v[0]&&h===v[1]&&f===v[2]&&g===v[3]},s.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function s(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,h=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=c,h},readString:function(c){return a.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},n.exports=s},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function s(c){a.call(this,c)}r("../utils").inherits(s,a),s.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function s(c){a.call(this,c)}r("../utils").inherits(s,a),s.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},s.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},s.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},s.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function s(c){a.call(this,c)}r("../utils").inherits(s,a),s.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),s=r("../support"),c=r("./ArrayReader"),d=r("./StringReader"),h=r("./NodeBufferReader"),f=r("./Uint8ArrayReader");n.exports=function(g){var v=a.getTypeOf(g);return a.checkSupport(v),v!=="string"||s.uint8array?v==="nodebuffer"?new h(g):s.uint8array?new f(a.transformTo("uint8array",g)):new c(a.transformTo("array",g)):new d(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),s=r("../utils");function c(d){a.call(this,"ConvertWorker to "+d),this.destType=d}s.inherits(c,a),c.prototype.processChunk=function(d){this.push({data:s.transformTo(this.destType,d.data),meta:d.meta})},n.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),s=r("../crc32");function c(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(c,a),c.prototype.processChunk=function(d){this.streamInfo.crc32=s(d.data,this.streamInfo.crc32||0),this.push(d)},n.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),s=r("./GenericWorker");function c(d){s.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}a.inherits(c,s),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}s.prototype.processChunk.call(this,d)},n.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),s=r("./GenericWorker");function c(d){s.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=a.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}a.inherits(c,s),c.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,c){return this._listeners[s].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,c){if(this._listeners[s])for(var d=0;d<this._listeners[s].length;d++)this._listeners[s][d].call(this,c)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var c=this;return s.on("data",function(d){c.processChunk(d)}),s.on("end",function(){c.end()}),s.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,c){return this.extraStreamInfo[s]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),s=r("./ConvertWorker"),c=r("./GenericWorker"),d=r("../base64"),h=r("../support"),f=r("../external"),g=null;if(h.nodestream)try{g=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(k,E){return new f.Promise(function(j,x){var w=[],A=k._internalType,S=k._outputType,T=k._mimeType;k.on("data",function(F,I){w.push(F),E&&E(I)}).on("error",function(F){w=[],x(F)}).on("end",function(){try{var F=function(I,D,C){switch(I){case"blob":return a.newBlob(a.transformTo("arraybuffer",D),C);case"base64":return d.encode(D);default:return a.transformTo(I,D)}}(S,function(I,D){var C,G=0,Y=null,z=0;for(C=0;C<D.length;C++)z+=D[C].length;switch(I){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(Y=new Uint8Array(z),C=0;C<D.length;C++)Y.set(D[C],G),G+=D[C].length;return Y;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+I+"'")}}(A,w),T);j(F)}catch(I){x(I)}w=[]}).resume()})}function _(k,E,j){var x=E;switch(E){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=E,this._mimeType=j,a.checkSupport(x),this._worker=k.pipe(new s(x)),k.lock()}catch(w){this._worker=new c("error"),this._worker.error(w)}}_.prototype={accumulate:function(k){return v(this,k)},on:function(k,E){var j=this;return k==="data"?this._worker.on(k,function(x){E.call(j,x.data,x.meta)}):this._worker.on(k,function(){a.delay(E,arguments,j)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},k)}},n.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),s=r("./support"),c=r("./nodejsUtils"),d=r("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function g(){d.call(this,"utf-8 decode"),this.leftOver=null}function v(){d.call(this,"utf-8 encode")}i.utf8encode=function(_){return s.nodebuffer?c.newBufferFrom(_,"utf-8"):function(k){var E,j,x,w,A,S=k.length,T=0;for(w=0;w<S;w++)(64512&(j=k.charCodeAt(w)))==55296&&w+1<S&&(64512&(x=k.charCodeAt(w+1)))==56320&&(j=65536+(j-55296<<10)+(x-56320),w++),T+=j<128?1:j<2048?2:j<65536?3:4;for(E=s.uint8array?new Uint8Array(T):new Array(T),w=A=0;A<T;w++)(64512&(j=k.charCodeAt(w)))==55296&&w+1<S&&(64512&(x=k.charCodeAt(w+1)))==56320&&(j=65536+(j-55296<<10)+(x-56320),w++),j<128?E[A++]=j:(j<2048?E[A++]=192|j>>>6:(j<65536?E[A++]=224|j>>>12:(E[A++]=240|j>>>18,E[A++]=128|j>>>12&63),E[A++]=128|j>>>6&63),E[A++]=128|63&j);return E}(_)},i.utf8decode=function(_){return s.nodebuffer?a.transformTo("nodebuffer",_).toString("utf-8"):function(k){var E,j,x,w,A=k.length,S=new Array(2*A);for(E=j=0;E<A;)if((x=k[E++])<128)S[j++]=x;else if(4<(w=h[x]))S[j++]=65533,E+=w-1;else{for(x&=w===2?31:w===3?15:7;1<w&&E<A;)x=x<<6|63&k[E++],w--;1<w?S[j++]=65533:x<65536?S[j++]=x:(x-=65536,S[j++]=55296|x>>10&1023,S[j++]=56320|1023&x)}return S.length!==j&&(S.subarray?S=S.subarray(0,j):S.length=j),a.applyFromCharCode(S)}(_=a.transformTo(s.uint8array?"uint8array":"array",_))},a.inherits(g,d),g.prototype.processChunk=function(_){var k=a.transformTo(s.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var E=k;(k=new Uint8Array(E.length+this.leftOver.length)).set(this.leftOver,0),k.set(E,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var j=function(w,A){var S;for((A=A||w.length)>w.length&&(A=w.length),S=A-1;0<=S&&(192&w[S])==128;)S--;return S<0||S===0?A:S+h[w[S]]>A?S:A}(k),x=k;j!==k.length&&(s.uint8array?(x=k.subarray(0,j),this.leftOver=k.subarray(j,k.length)):(x=k.slice(0,j),this.leftOver=k.slice(j,k.length))),this.push({data:i.utf8decode(x),meta:_.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,a.inherits(v,d),v.prototype.processChunk=function(_){this.push({data:i.utf8encode(_.data),meta:_.meta})},i.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),s=r("./base64"),c=r("./nodejsUtils"),d=r("./external");function h(E){return E}function f(E,j){for(var x=0;x<E.length;++x)j[x]=255&E.charCodeAt(x);return j}r("setimmediate"),i.newBlob=function(E,j){i.checkSupport("blob");try{return new Blob([E],{type:j})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(E),x.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(E,j,x){var w=[],A=0,S=E.length;if(S<=x)return String.fromCharCode.apply(null,E);for(;A<S;)j==="array"||j==="nodebuffer"?w.push(String.fromCharCode.apply(null,E.slice(A,Math.min(A+x,S)))):w.push(String.fromCharCode.apply(null,E.subarray(A,Math.min(A+x,S)))),A+=x;return w.join("")},stringifyByChar:function(E){for(var j="",x=0;x<E.length;x++)j+=String.fromCharCode(E[x]);return j},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function v(E){var j=65536,x=i.getTypeOf(E),w=!0;if(x==="uint8array"?w=g.applyCanBeUsed.uint8array:x==="nodebuffer"&&(w=g.applyCanBeUsed.nodebuffer),w)for(;1<j;)try{return g.stringifyByChunk(E,x,j)}catch{j=Math.floor(j/2)}return g.stringifyByChar(E)}function _(E,j){for(var x=0;x<E.length;x++)j[x]=E[x];return j}i.applyFromCharCode=v;var k={};k.string={string:h,array:function(E){return f(E,new Array(E.length))},arraybuffer:function(E){return k.string.uint8array(E).buffer},uint8array:function(E){return f(E,new Uint8Array(E.length))},nodebuffer:function(E){return f(E,c.allocBuffer(E.length))}},k.array={string:v,array:h,arraybuffer:function(E){return new Uint8Array(E).buffer},uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return c.newBufferFrom(E)}},k.arraybuffer={string:function(E){return v(new Uint8Array(E))},array:function(E){return _(new Uint8Array(E),new Array(E.byteLength))},arraybuffer:h,uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return c.newBufferFrom(new Uint8Array(E))}},k.uint8array={string:v,array:function(E){return _(E,new Array(E.length))},arraybuffer:function(E){return E.buffer},uint8array:h,nodebuffer:function(E){return c.newBufferFrom(E)}},k.nodebuffer={string:v,array:function(E){return _(E,new Array(E.length))},arraybuffer:function(E){return k.nodebuffer.uint8array(E).buffer},uint8array:function(E){return _(E,new Uint8Array(E.length))},nodebuffer:h},i.transformTo=function(E,j){if(j=j||"",!E)return j;i.checkSupport(E);var x=i.getTypeOf(j);return k[x][E](j)},i.resolve=function(E){for(var j=E.split("/"),x=[],w=0;w<j.length;w++){var A=j[w];A==="."||A===""&&w!==0&&w!==j.length-1||(A===".."?x.pop():x.push(A))}return x.join("/")},i.getTypeOf=function(E){return typeof E=="string"?"string":Object.prototype.toString.call(E)==="[object Array]"?"array":a.nodebuffer&&c.isBuffer(E)?"nodebuffer":a.uint8array&&E instanceof Uint8Array?"uint8array":a.arraybuffer&&E instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(E){if(!a[E.toLowerCase()])throw new Error(E+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(E){var j,x,w="";for(x=0;x<(E||"").length;x++)w+="\\x"+((j=E.charCodeAt(x))<16?"0":"")+j.toString(16).toUpperCase();return w},i.delay=function(E,j,x){setImmediate(function(){E.apply(x||null,j||[])})},i.inherits=function(E,j){function x(){}x.prototype=j.prototype,E.prototype=new x},i.extend=function(){var E,j,x={};for(E=0;E<arguments.length;E++)for(j in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],j)&&x[j]===void 0&&(x[j]=arguments[E][j]);return x},i.prepareContent=function(E,j,x,w,A){return d.Promise.resolve(j).then(function(S){return a.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new d.Promise(function(T,F){var I=new FileReader;I.onload=function(D){T(D.target.result)},I.onerror=function(D){F(D.target.error)},I.readAsArrayBuffer(S)}):S}).then(function(S){var T=i.getTypeOf(S);return T?(T==="arraybuffer"?S=i.transformTo("uint8array",S):T==="string"&&(A?S=s.decode(S):x&&w!==!0&&(S=function(F){return f(F,a.uint8array?new Uint8Array(F.length):new Array(F.length))}(S))),S):d.Promise.reject(new Error("Can't read the data of '"+E+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),s=r("./utils"),c=r("./signature"),d=r("./zipEntry"),h=r("./support");function f(g){this.files=[],this.loadOptions=g}f.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(v)+", expected "+s.pretty(g)+")")}},isSignature:function(g,v){var _=this.reader.index;this.reader.setIndex(g);var k=this.reader.readString(4)===v;return this.reader.setIndex(_),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),v=h.uint8array?"uint8array":"array",_=s.transformTo(v,g);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,v,_,k=this.zip64EndOfCentralSize-44;0<k;)g=this.reader.readInt(2),v=this.reader.readInt(4),_=this.reader.readData(v),this.zip64ExtensibleData[g]={id:g,length:v,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,v;for(g=0;g<this.files.length;g++)v=this.files[g],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(g=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var v=g;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var k=v-_;if(0<k)this.isSignature(v,c.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(g){this.reader=a(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),s=r("./utils"),c=r("./compressedObject"),d=r("./crc32"),h=r("./utf8"),f=r("./compressions"),g=r("./support");function v(_,k){this.options=_,this.loadOptions=k}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var k,E;if(_.skip(22),this.fileNameLength=_.readInt(2),E=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(E),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=function(j){for(var x in f)if(Object.prototype.hasOwnProperty.call(f,x)&&f[x].magic===j)return f[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,k,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var k=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(k),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var k,E,j,x=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<x;)k=_.readInt(2),E=_.readInt(2),j=_.readData(E),this.extraFields[k]={id:k,length:E,value:j};_.setIndex(x)},handleUTF8:function(){var _=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var E=s.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(E)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var x=s.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var k=a(_.value);return k.readInt(1)!==1||d(this.fileName)!==k.readInt(4)?null:h.utf8decode(k.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var k=a(_.value);return k.readInt(1)!==1||d(this.fileComment)!==k.readInt(4)?null:h.utf8decode(k.readData(_.length-5))}return null}},n.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(k,E,j){this.name=k,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=E,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var s=r("./stream/StreamHelper"),c=r("./stream/DataWorker"),d=r("./utf8"),h=r("./compressedObject"),f=r("./stream/GenericWorker");a.prototype={internalStream:function(k){var E=null,j="string";try{if(!k)throw new Error("No output type specified.");var x=(j=k.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),E=this._decompressWorker();var w=!this._dataBinary;w&&!x&&(E=E.pipe(new d.Utf8EncodeWorker)),!w&&x&&(E=E.pipe(new d.Utf8DecodeWorker))}catch(A){(E=new f("error")).error(A)}return new s(E,j,"")},async:function(k,E){return this.internalStream(k).accumulate(E)},nodeStream:function(k,E){return this.internalStream(k||"nodebuffer").toNodejsStream(E)},_compressWorker:function(k,E){if(this._data instanceof h&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(j,k,E)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new c(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<g.length;_++)a.prototype[g[_]]=v;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var s,c,d=a.MutationObserver||a.WebKitMutationObserver;if(d){var h=0,f=new d(k),g=a.document.createTextNode("");f.observe(g,{characterData:!0}),s=function(){g.data=h=++h%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var E=a.document.createElement("script");E.onreadystatechange=function(){k(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},a.document.documentElement.appendChild(E)}:function(){setTimeout(k,0)};else{var v=new a.MessageChannel;v.port1.onmessage=k,s=function(){v.port2.postMessage(0)}}var _=[];function k(){var E,j;c=!0;for(var x=_.length;x;){for(j=_,_=[],E=-1;++E<x;)j[E]();x=_.length}c=!1}n.exports=function(E){_.push(E)!==1||c||s()}}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function s(){}var c={},d=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function g(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,x!==s&&E(this,x)}function v(x,w,A){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function _(x,w,A){a(function(){var S;try{S=w(A)}catch(T){return c.reject(x,T)}S===x?c.reject(x,new TypeError("Cannot resolve promise with itself")):c.resolve(x,S)})}function k(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function E(x,w){var A=!1;function S(I){A||(A=!0,c.reject(x,I))}function T(I){A||(A=!0,c.resolve(x,I))}var F=j(function(){w(T,S)});F.status==="error"&&S(F.value)}function j(x,w){var A={};try{A.value=x(w),A.status="success"}catch(S){A.status="error",A.value=S}return A}(n.exports=g).prototype.finally=function(x){if(typeof x!="function")return this;var w=this.constructor;return this.then(function(A){return w.resolve(x()).then(function(){return A})},function(A){return w.resolve(x()).then(function(){throw A})})},g.prototype.catch=function(x){return this.then(null,x)},g.prototype.then=function(x,w){if(typeof x!="function"&&this.state===h||typeof w!="function"&&this.state===d)return this;var A=new this.constructor(s);return this.state!==f?_(A,this.state===h?x:w,this.outcome):this.queue.push(new v(A,x,w)),A},v.prototype.callFulfilled=function(x){c.resolve(this.promise,x)},v.prototype.otherCallFulfilled=function(x){_(this.promise,this.onFulfilled,x)},v.prototype.callRejected=function(x){c.reject(this.promise,x)},v.prototype.otherCallRejected=function(x){_(this.promise,this.onRejected,x)},c.resolve=function(x,w){var A=j(k,w);if(A.status==="error")return c.reject(x,A.value);var S=A.value;if(S)E(x,S);else{x.state=h,x.outcome=w;for(var T=-1,F=x.queue.length;++T<F;)x.queue[T].callFulfilled(w)}return x},c.reject=function(x,w){x.state=d,x.outcome=w;for(var A=-1,S=x.queue.length;++A<S;)x.queue[A].callRejected(w);return x},g.resolve=function(x){return x instanceof this?x:c.resolve(new this(s),x)},g.reject=function(x){var w=new this(s);return c.reject(w,x)},g.all=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=x.length,S=!1;if(!A)return this.resolve([]);for(var T=new Array(A),F=0,I=-1,D=new this(s);++I<A;)C(x[I],I);return D;function C(G,Y){w.resolve(G).then(function(z){T[Y]=z,++F!==A||S||(S=!0,c.resolve(D,T))},function(z){S||(S=!0,c.reject(D,z))})}},g.race=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=x.length,S=!1;if(!A)return this.resolve([]);for(var T=-1,F=new this(s);++T<A;)I=x[T],w.resolve(I).then(function(D){S||(S=!0,c.resolve(F,D))},function(D){S||(S=!0,c.reject(F,D))});var I;return F}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),s=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/messages"),h=r("./zlib/zstream"),f=Object.prototype.toString,g=0,v=-1,_=0,k=8;function E(x){if(!(this instanceof E))return new E(x);this.options=s.assign({level:v,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},x||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var A=a.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(A!==g)throw new Error(d[A]);if(w.header&&a.deflateSetHeader(this.strm,w.header),w.dictionary){var S;if(S=typeof w.dictionary=="string"?c.string2buf(w.dictionary):f.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(A=a.deflateSetDictionary(this.strm,S))!==g)throw new Error(d[A]);this._dict_set=!0}}function j(x,w){var A=new E(w);if(A.push(x,!0),A.err)throw A.msg||d[A.err];return A.result}E.prototype.push=function(x,w){var A,S,T=this.strm,F=this.options.chunkSize;if(this.ended)return!1;S=w===~~w?w:w===!0?4:0,typeof x=="string"?T.input=c.string2buf(x):f.call(x)==="[object ArrayBuffer]"?T.input=new Uint8Array(x):T.input=x,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new s.Buf8(F),T.next_out=0,T.avail_out=F),(A=a.deflate(T,S))!==1&&A!==g)return this.onEnd(A),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(s.shrinkBuf(T.output,T.next_out))):this.onData(s.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&A!==1);return S===4?(A=a.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===g):S!==2||(this.onEnd(g),!(T.avail_out=0))},E.prototype.onData=function(x){this.chunks.push(x)},E.prototype.onEnd=function(x){x===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=E,i.deflate=j,i.deflateRaw=function(x,w){return(w=w||{}).raw=!0,j(x,w)},i.gzip=function(x,w){return(w=w||{}).gzip=!0,j(x,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),s=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/constants"),h=r("./zlib/messages"),f=r("./zlib/zstream"),g=r("./zlib/gzheader"),v=Object.prototype.toString;function _(E){if(!(this instanceof _))return new _(E);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},E||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||E&&E.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&!(15&j.windowBits)&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var x=a.inflateInit2(this.strm,j.windowBits);if(x!==d.Z_OK)throw new Error(h[x]);this.header=new g,a.inflateGetHeader(this.strm,this.header)}function k(E,j){var x=new _(j);if(x.push(E,!0),x.err)throw x.msg||h[x.err];return x.result}_.prototype.push=function(E,j){var x,w,A,S,T,F,I=this.strm,D=this.options.chunkSize,C=this.options.dictionary,G=!1;if(this.ended)return!1;w=j===~~j?j:j===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof E=="string"?I.input=c.binstring2buf(E):v.call(E)==="[object ArrayBuffer]"?I.input=new Uint8Array(E):I.input=E,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new s.Buf8(D),I.next_out=0,I.avail_out=D),(x=a.inflate(I,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&C&&(F=typeof C=="string"?c.string2buf(C):v.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,x=a.inflateSetDictionary(this.strm,F)),x===d.Z_BUF_ERROR&&G===!0&&(x=d.Z_OK,G=!1),x!==d.Z_STREAM_END&&x!==d.Z_OK)return this.onEnd(x),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&x!==d.Z_STREAM_END&&(I.avail_in!==0||w!==d.Z_FINISH&&w!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=c.utf8border(I.output,I.next_out),S=I.next_out-A,T=c.buf2string(I.output,A),I.next_out=S,I.avail_out=D-S,S&&s.arraySet(I.output,I.output,A,S,0),this.onData(T)):this.onData(s.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(G=!0)}while((0<I.avail_in||I.avail_out===0)&&x!==d.Z_STREAM_END);return x===d.Z_STREAM_END&&(w=d.Z_FINISH),w===d.Z_FINISH?(x=a.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d.Z_OK):w!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(I.avail_out=0))},_.prototype.onData=function(E){this.chunks.push(E)},_.prototype.onEnd=function(E){E===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},i.Inflate=_,i.inflate=k,i.inflateRaw=function(E,j){return(j=j||{}).raw=!0,k(E,j)},i.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var g in f)f.hasOwnProperty(g)&&(d[g]=f[g])}}return d},i.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var s={arraySet:function(d,h,f,g,v){if(h.subarray&&d.subarray)d.set(h.subarray(f,f+g),v);else for(var _=0;_<g;_++)d[v+_]=h[f+_]},flattenChunks:function(d){var h,f,g,v,_,k;for(h=g=0,f=d.length;h<f;h++)g+=d[h].length;for(k=new Uint8Array(g),h=v=0,f=d.length;h<f;h++)_=d[h],k.set(_,v),v+=_.length;return k}},c={arraySet:function(d,h,f,g,v){for(var _=0;_<g;_++)d[v+_]=h[f+_]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),s=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new a.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(g,v){if(v<65537&&(g.subarray&&c||!g.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(g,v));for(var _="",k=0;k<v;k++)_+=String.fromCharCode(g[k]);return _}d[254]=d[254]=1,i.string2buf=function(g){var v,_,k,E,j,x=g.length,w=0;for(E=0;E<x;E++)(64512&(_=g.charCodeAt(E)))==55296&&E+1<x&&(64512&(k=g.charCodeAt(E+1)))==56320&&(_=65536+(_-55296<<10)+(k-56320),E++),w+=_<128?1:_<2048?2:_<65536?3:4;for(v=new a.Buf8(w),E=j=0;j<w;E++)(64512&(_=g.charCodeAt(E)))==55296&&E+1<x&&(64512&(k=g.charCodeAt(E+1)))==56320&&(_=65536+(_-55296<<10)+(k-56320),E++),_<128?v[j++]=_:(_<2048?v[j++]=192|_>>>6:(_<65536?v[j++]=224|_>>>12:(v[j++]=240|_>>>18,v[j++]=128|_>>>12&63),v[j++]=128|_>>>6&63),v[j++]=128|63&_);return v},i.buf2binstring=function(g){return f(g,g.length)},i.binstring2buf=function(g){for(var v=new a.Buf8(g.length),_=0,k=v.length;_<k;_++)v[_]=g.charCodeAt(_);return v},i.buf2string=function(g,v){var _,k,E,j,x=v||g.length,w=new Array(2*x);for(_=k=0;_<x;)if((E=g[_++])<128)w[k++]=E;else if(4<(j=d[E]))w[k++]=65533,_+=j-1;else{for(E&=j===2?31:j===3?15:7;1<j&&_<x;)E=E<<6|63&g[_++],j--;1<j?w[k++]=65533:E<65536?w[k++]=E:(E-=65536,w[k++]=55296|E>>10&1023,w[k++]=56320|1023&E)}return f(w,k)},i.utf8border=function(g,v){var _;for((v=v||g.length)>g.length&&(v=g.length),_=v-1;0<=_&&(192&g[_])==128;)_--;return _<0||_===0?v:_+d[g[_]]>v?_:v}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,s,c,d){for(var h=65535&a|0,f=a>>>16&65535|0,g=0;c!==0;){for(c-=g=2e3<c?2e3:c;f=f+(h=h+s[d++]|0)|0,--g;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var s,c=[],d=0;d<256;d++){s=d;for(var h=0;h<8;h++)s=1&s?3988292384^s>>>1:s>>>1;c[d]=s}return c}();n.exports=function(s,c,d,h){var f=a,g=h+d;s^=-1;for(var v=h;v<g;v++)s=s>>>8^f[255&(s^c[v])];return-1^s}},{}],46:[function(r,n,i){var a,s=r("../utils/common"),c=r("./trees"),d=r("./adler32"),h=r("./crc32"),f=r("./messages"),g=0,v=4,_=0,k=-2,E=-1,j=4,x=2,w=8,A=9,S=286,T=30,F=19,I=2*S+1,D=15,C=3,G=258,Y=G+C+1,z=42,ie=113,P=1,ue=2,pe=3,ce=4;function he(N,te){return N.msg=f[te],te}function O(N){return(N<<1)-(4<N?9:0)}function ae(N){for(var te=N.length;0<=--te;)N[te]=0}function ee(N){var te=N.state,X=te.pending;X>N.avail_out&&(X=N.avail_out),X!==0&&(s.arraySet(N.output,te.pending_buf,te.pending_out,X,N.next_out),N.next_out+=X,te.pending_out+=X,N.total_out+=X,N.avail_out-=X,te.pending-=X,te.pending===0&&(te.pending_out=0))}function re(N,te){c._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,te),N.block_start=N.strstart,ee(N.strm)}function ke(N,te){N.pending_buf[N.pending++]=te}function _e(N,te){N.pending_buf[N.pending++]=te>>>8&255,N.pending_buf[N.pending++]=255&te}function xe(N,te){var X,q,V=N.max_chain_length,Z=N.strstart,Q=N.prev_length,W=N.nice_match,H=N.strstart>N.w_size-Y?N.strstart-(N.w_size-Y):0,me=N.window,Ce=N.w_mask,we=N.prev,Ne=N.strstart+G,ze=me[Z+Q-1],Ve=me[Z+Q];N.prev_length>=N.good_match&&(V>>=2),W>N.lookahead&&(W=N.lookahead);do if(me[(X=te)+Q]===Ve&&me[X+Q-1]===ze&&me[X]===me[Z]&&me[++X]===me[Z+1]){Z+=2,X++;do;while(me[++Z]===me[++X]&&me[++Z]===me[++X]&&me[++Z]===me[++X]&&me[++Z]===me[++X]&&me[++Z]===me[++X]&&me[++Z]===me[++X]&&me[++Z]===me[++X]&&me[++Z]===me[++X]&&Z<Ne);if(q=G-(Ne-Z),Z=Ne-G,Q<q){if(N.match_start=te,W<=(Q=q))break;ze=me[Z+Q-1],Ve=me[Z+Q]}}while((te=we[te&Ce])>H&&--V!=0);return Q<=N.lookahead?Q:N.lookahead}function Te(N){var te,X,q,V,Z,Q,W,H,me,Ce,we=N.w_size;do{if(V=N.window_size-N.lookahead-N.strstart,N.strstart>=we+(we-Y)){for(s.arraySet(N.window,N.window,we,we,0),N.match_start-=we,N.strstart-=we,N.block_start-=we,te=X=N.hash_size;q=N.head[--te],N.head[te]=we<=q?q-we:0,--X;);for(te=X=we;q=N.prev[--te],N.prev[te]=we<=q?q-we:0,--X;);V+=we}if(N.strm.avail_in===0)break;if(Q=N.strm,W=N.window,H=N.strstart+N.lookahead,me=V,Ce=void 0,Ce=Q.avail_in,me<Ce&&(Ce=me),X=Ce===0?0:(Q.avail_in-=Ce,s.arraySet(W,Q.input,Q.next_in,Ce,H),Q.state.wrap===1?Q.adler=d(Q.adler,W,Ce,H):Q.state.wrap===2&&(Q.adler=h(Q.adler,W,Ce,H)),Q.next_in+=Ce,Q.total_in+=Ce,Ce),N.lookahead+=X,N.lookahead+N.insert>=C)for(Z=N.strstart-N.insert,N.ins_h=N.window[Z],N.ins_h=(N.ins_h<<N.hash_shift^N.window[Z+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[Z+C-1])&N.hash_mask,N.prev[Z&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=Z,Z++,N.insert--,!(N.lookahead+N.insert<C)););}while(N.lookahead<Y&&N.strm.avail_in!==0)}function U(N,te){for(var X,q;;){if(N.lookahead<Y){if(Te(N),N.lookahead<Y&&te===g)return P;if(N.lookahead===0)break}if(X=0,N.lookahead>=C&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+C-1])&N.hash_mask,X=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),X!==0&&N.strstart-X<=N.w_size-Y&&(N.match_length=xe(N,X)),N.match_length>=C)if(q=c._tr_tally(N,N.strstart-N.match_start,N.match_length-C),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=C){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+C-1])&N.hash_mask,X=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else q=c._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(q&&(re(N,!1),N.strm.avail_out===0))return P}return N.insert=N.strstart<C-1?N.strstart:C-1,te===v?(re(N,!0),N.strm.avail_out===0?pe:ce):N.last_lit&&(re(N,!1),N.strm.avail_out===0)?P:ue}function B(N,te){for(var X,q,V;;){if(N.lookahead<Y){if(Te(N),N.lookahead<Y&&te===g)return P;if(N.lookahead===0)break}if(X=0,N.lookahead>=C&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+C-1])&N.hash_mask,X=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=C-1,X!==0&&N.prev_length<N.max_lazy_match&&N.strstart-X<=N.w_size-Y&&(N.match_length=xe(N,X),N.match_length<=5&&(N.strategy===1||N.match_length===C&&4096<N.strstart-N.match_start)&&(N.match_length=C-1)),N.prev_length>=C&&N.match_length<=N.prev_length){for(V=N.strstart+N.lookahead-C,q=c._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-C),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=V&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+C-1])&N.hash_mask,X=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=C-1,N.strstart++,q&&(re(N,!1),N.strm.avail_out===0))return P}else if(N.match_available){if((q=c._tr_tally(N,0,N.window[N.strstart-1]))&&re(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return P}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(q=c._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<C-1?N.strstart:C-1,te===v?(re(N,!0),N.strm.avail_out===0?pe:ce):N.last_lit&&(re(N,!1),N.strm.avail_out===0)?P:ue}function se(N,te,X,q,V){this.good_length=N,this.max_lazy=te,this.nice_length=X,this.max_chain=q,this.func=V}function le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*I),this.dyn_dtree=new s.Buf16(2*(2*T+1)),this.bl_tree=new s.Buf16(2*(2*F+1)),ae(this.dyn_ltree),ae(this.dyn_dtree),ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(D+1),this.heap=new s.Buf16(2*S+1),ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*S+1),ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Le(N){var te;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=x,(te=N.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?z:ie,N.adler=te.wrap===2?0:1,te.last_flush=g,c._tr_init(te),_):he(N,k)}function Be(N){var te=Le(N);return te===_&&function(X){X.window_size=2*X.w_size,ae(X.head),X.max_lazy_match=a[X.level].max_lazy,X.good_match=a[X.level].good_length,X.nice_match=a[X.level].nice_length,X.max_chain_length=a[X.level].max_chain,X.strstart=0,X.block_start=0,X.lookahead=0,X.insert=0,X.match_length=X.prev_length=C-1,X.match_available=0,X.ins_h=0}(N.state),te}function $e(N,te,X,q,V,Z){if(!N)return k;var Q=1;if(te===E&&(te=6),q<0?(Q=0,q=-q):15<q&&(Q=2,q-=16),V<1||A<V||X!==w||q<8||15<q||te<0||9<te||Z<0||j<Z)return he(N,k);q===8&&(q=9);var W=new le;return(N.state=W).strm=N,W.wrap=Q,W.gzhead=null,W.w_bits=q,W.w_size=1<<W.w_bits,W.w_mask=W.w_size-1,W.hash_bits=V+7,W.hash_size=1<<W.hash_bits,W.hash_mask=W.hash_size-1,W.hash_shift=~~((W.hash_bits+C-1)/C),W.window=new s.Buf8(2*W.w_size),W.head=new s.Buf16(W.hash_size),W.prev=new s.Buf16(W.w_size),W.lit_bufsize=1<<V+6,W.pending_buf_size=4*W.lit_bufsize,W.pending_buf=new s.Buf8(W.pending_buf_size),W.d_buf=1*W.lit_bufsize,W.l_buf=3*W.lit_bufsize,W.level=te,W.strategy=Z,W.method=X,Be(N)}a=[new se(0,0,0,0,function(N,te){var X=65535;for(X>N.pending_buf_size-5&&(X=N.pending_buf_size-5);;){if(N.lookahead<=1){if(Te(N),N.lookahead===0&&te===g)return P;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var q=N.block_start+X;if((N.strstart===0||N.strstart>=q)&&(N.lookahead=N.strstart-q,N.strstart=q,re(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-Y&&(re(N,!1),N.strm.avail_out===0))return P}return N.insert=0,te===v?(re(N,!0),N.strm.avail_out===0?pe:ce):(N.strstart>N.block_start&&(re(N,!1),N.strm.avail_out),P)}),new se(4,4,8,4,U),new se(4,5,16,8,U),new se(4,6,32,32,U),new se(4,4,16,16,B),new se(8,16,32,32,B),new se(8,16,128,128,B),new se(8,32,128,256,B),new se(32,128,258,1024,B),new se(32,258,258,4096,B)],i.deflateInit=function(N,te){return $e(N,te,w,15,8,0)},i.deflateInit2=$e,i.deflateReset=Be,i.deflateResetKeep=Le,i.deflateSetHeader=function(N,te){return N&&N.state?N.state.wrap!==2?k:(N.state.gzhead=te,_):k},i.deflate=function(N,te){var X,q,V,Z;if(!N||!N.state||5<te||te<0)return N?he(N,k):k;if(q=N.state,!N.output||!N.input&&N.avail_in!==0||q.status===666&&te!==v)return he(N,N.avail_out===0?-5:k);if(q.strm=N,X=q.last_flush,q.last_flush=te,q.status===z)if(q.wrap===2)N.adler=0,ke(q,31),ke(q,139),ke(q,8),q.gzhead?(ke(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),ke(q,255&q.gzhead.time),ke(q,q.gzhead.time>>8&255),ke(q,q.gzhead.time>>16&255),ke(q,q.gzhead.time>>24&255),ke(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),ke(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(ke(q,255&q.gzhead.extra.length),ke(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(N.adler=h(N.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(ke(q,0),ke(q,0),ke(q,0),ke(q,0),ke(q,0),ke(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),ke(q,3),q.status=ie);else{var Q=w+(q.w_bits-8<<4)<<8;Q|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(Q|=32),Q+=31-Q%31,q.status=ie,_e(q,Q),q.strstart!==0&&(_e(q,N.adler>>>16),_e(q,65535&N.adler)),N.adler=1}if(q.status===69)if(q.gzhead.extra){for(V=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>V&&(N.adler=h(N.adler,q.pending_buf,q.pending-V,V)),ee(N),V=q.pending,q.pending!==q.pending_buf_size));)ke(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>V&&(N.adler=h(N.adler,q.pending_buf,q.pending-V,V)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){V=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>V&&(N.adler=h(N.adler,q.pending_buf,q.pending-V,V)),ee(N),V=q.pending,q.pending===q.pending_buf_size)){Z=1;break}Z=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,ke(q,Z)}while(Z!==0);q.gzhead.hcrc&&q.pending>V&&(N.adler=h(N.adler,q.pending_buf,q.pending-V,V)),Z===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){V=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>V&&(N.adler=h(N.adler,q.pending_buf,q.pending-V,V)),ee(N),V=q.pending,q.pending===q.pending_buf_size)){Z=1;break}Z=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,ke(q,Z)}while(Z!==0);q.gzhead.hcrc&&q.pending>V&&(N.adler=h(N.adler,q.pending_buf,q.pending-V,V)),Z===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&ee(N),q.pending+2<=q.pending_buf_size&&(ke(q,255&N.adler),ke(q,N.adler>>8&255),N.adler=0,q.status=ie)):q.status=ie),q.pending!==0){if(ee(N),N.avail_out===0)return q.last_flush=-1,_}else if(N.avail_in===0&&O(te)<=O(X)&&te!==v)return he(N,-5);if(q.status===666&&N.avail_in!==0)return he(N,-5);if(N.avail_in!==0||q.lookahead!==0||te!==g&&q.status!==666){var W=q.strategy===2?function(H,me){for(var Ce;;){if(H.lookahead===0&&(Te(H),H.lookahead===0)){if(me===g)return P;break}if(H.match_length=0,Ce=c._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,Ce&&(re(H,!1),H.strm.avail_out===0))return P}return H.insert=0,me===v?(re(H,!0),H.strm.avail_out===0?pe:ce):H.last_lit&&(re(H,!1),H.strm.avail_out===0)?P:ue}(q,te):q.strategy===3?function(H,me){for(var Ce,we,Ne,ze,Ve=H.window;;){if(H.lookahead<=G){if(Te(H),H.lookahead<=G&&me===g)return P;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=C&&0<H.strstart&&(we=Ve[Ne=H.strstart-1])===Ve[++Ne]&&we===Ve[++Ne]&&we===Ve[++Ne]){ze=H.strstart+G;do;while(we===Ve[++Ne]&&we===Ve[++Ne]&&we===Ve[++Ne]&&we===Ve[++Ne]&&we===Ve[++Ne]&&we===Ve[++Ne]&&we===Ve[++Ne]&&we===Ve[++Ne]&&Ne<ze);H.match_length=G-(ze-Ne),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=C?(Ce=c._tr_tally(H,1,H.match_length-C),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(Ce=c._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),Ce&&(re(H,!1),H.strm.avail_out===0))return P}return H.insert=0,me===v?(re(H,!0),H.strm.avail_out===0?pe:ce):H.last_lit&&(re(H,!1),H.strm.avail_out===0)?P:ue}(q,te):a[q.level].func(q,te);if(W!==pe&&W!==ce||(q.status=666),W===P||W===pe)return N.avail_out===0&&(q.last_flush=-1),_;if(W===ue&&(te===1?c._tr_align(q):te!==5&&(c._tr_stored_block(q,0,0,!1),te===3&&(ae(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),ee(N),N.avail_out===0))return q.last_flush=-1,_}return te!==v?_:q.wrap<=0?1:(q.wrap===2?(ke(q,255&N.adler),ke(q,N.adler>>8&255),ke(q,N.adler>>16&255),ke(q,N.adler>>24&255),ke(q,255&N.total_in),ke(q,N.total_in>>8&255),ke(q,N.total_in>>16&255),ke(q,N.total_in>>24&255)):(_e(q,N.adler>>>16),_e(q,65535&N.adler)),ee(N),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?_:1)},i.deflateEnd=function(N){var te;return N&&N.state?(te=N.state.status)!==z&&te!==69&&te!==73&&te!==91&&te!==103&&te!==ie&&te!==666?he(N,k):(N.state=null,te===ie?he(N,-3):_):k},i.deflateSetDictionary=function(N,te){var X,q,V,Z,Q,W,H,me,Ce=te.length;if(!N||!N.state||(Z=(X=N.state).wrap)===2||Z===1&&X.status!==z||X.lookahead)return k;for(Z===1&&(N.adler=d(N.adler,te,Ce,0)),X.wrap=0,Ce>=X.w_size&&(Z===0&&(ae(X.head),X.strstart=0,X.block_start=0,X.insert=0),me=new s.Buf8(X.w_size),s.arraySet(me,te,Ce-X.w_size,X.w_size,0),te=me,Ce=X.w_size),Q=N.avail_in,W=N.next_in,H=N.input,N.avail_in=Ce,N.next_in=0,N.input=te,Te(X);X.lookahead>=C;){for(q=X.strstart,V=X.lookahead-(C-1);X.ins_h=(X.ins_h<<X.hash_shift^X.window[q+C-1])&X.hash_mask,X.prev[q&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=q,q++,--V;);X.strstart=q,X.lookahead=C-1,Te(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=C-1,X.match_available=0,N.next_in=W,N.input=H,N.avail_in=Q,X.wrap=Z,_},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,s){var c,d,h,f,g,v,_,k,E,j,x,w,A,S,T,F,I,D,C,G,Y,z,ie,P,ue;c=a.state,d=a.next_in,P=a.input,h=d+(a.avail_in-5),f=a.next_out,ue=a.output,g=f-(s-a.avail_out),v=f+(a.avail_out-257),_=c.dmax,k=c.wsize,E=c.whave,j=c.wnext,x=c.window,w=c.hold,A=c.bits,S=c.lencode,T=c.distcode,F=(1<<c.lenbits)-1,I=(1<<c.distbits)-1;e:do{A<15&&(w+=P[d++]<<A,A+=8,w+=P[d++]<<A,A+=8),D=S[w&F];t:for(;;){if(w>>>=C=D>>>24,A-=C,(C=D>>>16&255)===0)ue[f++]=65535&D;else{if(!(16&C)){if(!(64&C)){D=S[(65535&D)+(w&(1<<C)-1)];continue t}if(32&C){c.mode=12;break e}a.msg="invalid literal/length code",c.mode=30;break e}G=65535&D,(C&=15)&&(A<C&&(w+=P[d++]<<A,A+=8),G+=w&(1<<C)-1,w>>>=C,A-=C),A<15&&(w+=P[d++]<<A,A+=8,w+=P[d++]<<A,A+=8),D=T[w&I];r:for(;;){if(w>>>=C=D>>>24,A-=C,!(16&(C=D>>>16&255))){if(!(64&C)){D=T[(65535&D)+(w&(1<<C)-1)];continue r}a.msg="invalid distance code",c.mode=30;break e}if(Y=65535&D,A<(C&=15)&&(w+=P[d++]<<A,(A+=8)<C&&(w+=P[d++]<<A,A+=8)),_<(Y+=w&(1<<C)-1)){a.msg="invalid distance too far back",c.mode=30;break e}if(w>>>=C,A-=C,(C=f-g)<Y){if(E<(C=Y-C)&&c.sane){a.msg="invalid distance too far back",c.mode=30;break e}if(ie=x,(z=0)===j){if(z+=k-C,C<G){for(G-=C;ue[f++]=x[z++],--C;);z=f-Y,ie=ue}}else if(j<C){if(z+=k+j-C,(C-=j)<G){for(G-=C;ue[f++]=x[z++],--C;);if(z=0,j<G){for(G-=C=j;ue[f++]=x[z++],--C;);z=f-Y,ie=ue}}}else if(z+=j-C,C<G){for(G-=C;ue[f++]=x[z++],--C;);z=f-Y,ie=ue}for(;2<G;)ue[f++]=ie[z++],ue[f++]=ie[z++],ue[f++]=ie[z++],G-=3;G&&(ue[f++]=ie[z++],1<G&&(ue[f++]=ie[z++]))}else{for(z=f-Y;ue[f++]=ue[z++],ue[f++]=ue[z++],ue[f++]=ue[z++],2<(G-=3););G&&(ue[f++]=ue[z++],1<G&&(ue[f++]=ue[z++]))}break}}break}}while(d<h&&f<v);d-=G=A>>3,w&=(1<<(A-=G<<3))-1,a.next_in=d,a.next_out=f,a.avail_in=d<h?h-d+5:5-(d-h),a.avail_out=f<v?v-f+257:257-(f-v),c.hold=w,c.bits=A}},{}],49:[function(r,n,i){var a=r("../utils/common"),s=r("./adler32"),c=r("./crc32"),d=r("./inffast"),h=r("./inftrees"),f=1,g=2,v=0,_=-2,k=1,E=852,j=592;function x(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(z){var ie;return z&&z.state?(ie=z.state,z.total_in=z.total_out=ie.total=0,z.msg="",ie.wrap&&(z.adler=1&ie.wrap),ie.mode=k,ie.last=0,ie.havedict=0,ie.dmax=32768,ie.head=null,ie.hold=0,ie.bits=0,ie.lencode=ie.lendyn=new a.Buf32(E),ie.distcode=ie.distdyn=new a.Buf32(j),ie.sane=1,ie.back=-1,v):_}function S(z){var ie;return z&&z.state?((ie=z.state).wsize=0,ie.whave=0,ie.wnext=0,A(z)):_}function T(z,ie){var P,ue;return z&&z.state?(ue=z.state,ie<0?(P=0,ie=-ie):(P=1+(ie>>4),ie<48&&(ie&=15)),ie&&(ie<8||15<ie)?_:(ue.window!==null&&ue.wbits!==ie&&(ue.window=null),ue.wrap=P,ue.wbits=ie,S(z))):_}function F(z,ie){var P,ue;return z?(ue=new w,(z.state=ue).window=null,(P=T(z,ie))!==v&&(z.state=null),P):_}var I,D,C=!0;function G(z){if(C){var ie;for(I=new a.Buf32(512),D=new a.Buf32(32),ie=0;ie<144;)z.lens[ie++]=8;for(;ie<256;)z.lens[ie++]=9;for(;ie<280;)z.lens[ie++]=7;for(;ie<288;)z.lens[ie++]=8;for(h(f,z.lens,0,288,I,0,z.work,{bits:9}),ie=0;ie<32;)z.lens[ie++]=5;h(g,z.lens,0,32,D,0,z.work,{bits:5}),C=!1}z.lencode=I,z.lenbits=9,z.distcode=D,z.distbits=5}function Y(z,ie,P,ue){var pe,ce=z.state;return ce.window===null&&(ce.wsize=1<<ce.wbits,ce.wnext=0,ce.whave=0,ce.window=new a.Buf8(ce.wsize)),ue>=ce.wsize?(a.arraySet(ce.window,ie,P-ce.wsize,ce.wsize,0),ce.wnext=0,ce.whave=ce.wsize):(ue<(pe=ce.wsize-ce.wnext)&&(pe=ue),a.arraySet(ce.window,ie,P-ue,pe,ce.wnext),(ue-=pe)?(a.arraySet(ce.window,ie,P-ue,ue,0),ce.wnext=ue,ce.whave=ce.wsize):(ce.wnext+=pe,ce.wnext===ce.wsize&&(ce.wnext=0),ce.whave<ce.wsize&&(ce.whave+=pe))),0}i.inflateReset=S,i.inflateReset2=T,i.inflateResetKeep=A,i.inflateInit=function(z){return F(z,15)},i.inflateInit2=F,i.inflate=function(z,ie){var P,ue,pe,ce,he,O,ae,ee,re,ke,_e,xe,Te,U,B,se,le,Le,Be,$e,N,te,X,q,V=0,Z=new a.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return _;(P=z.state).mode===12&&(P.mode=13),he=z.next_out,pe=z.output,ae=z.avail_out,ce=z.next_in,ue=z.input,O=z.avail_in,ee=P.hold,re=P.bits,ke=O,_e=ae,te=v;e:for(;;)switch(P.mode){case k:if(P.wrap===0){P.mode=13;break}for(;re<16;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}if(2&P.wrap&&ee===35615){Z[P.check=0]=255&ee,Z[1]=ee>>>8&255,P.check=c(P.check,Z,2,0),re=ee=0,P.mode=2;break}if(P.flags=0,P.head&&(P.head.done=!1),!(1&P.wrap)||(((255&ee)<<8)+(ee>>8))%31){z.msg="incorrect header check",P.mode=30;break}if((15&ee)!=8){z.msg="unknown compression method",P.mode=30;break}if(re-=4,N=8+(15&(ee>>>=4)),P.wbits===0)P.wbits=N;else if(N>P.wbits){z.msg="invalid window size",P.mode=30;break}P.dmax=1<<N,z.adler=P.check=1,P.mode=512&ee?10:12,re=ee=0;break;case 2:for(;re<16;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}if(P.flags=ee,(255&P.flags)!=8){z.msg="unknown compression method",P.mode=30;break}if(57344&P.flags){z.msg="unknown header flags set",P.mode=30;break}P.head&&(P.head.text=ee>>8&1),512&P.flags&&(Z[0]=255&ee,Z[1]=ee>>>8&255,P.check=c(P.check,Z,2,0)),re=ee=0,P.mode=3;case 3:for(;re<32;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}P.head&&(P.head.time=ee),512&P.flags&&(Z[0]=255&ee,Z[1]=ee>>>8&255,Z[2]=ee>>>16&255,Z[3]=ee>>>24&255,P.check=c(P.check,Z,4,0)),re=ee=0,P.mode=4;case 4:for(;re<16;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}P.head&&(P.head.xflags=255&ee,P.head.os=ee>>8),512&P.flags&&(Z[0]=255&ee,Z[1]=ee>>>8&255,P.check=c(P.check,Z,2,0)),re=ee=0,P.mode=5;case 5:if(1024&P.flags){for(;re<16;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}P.length=ee,P.head&&(P.head.extra_len=ee),512&P.flags&&(Z[0]=255&ee,Z[1]=ee>>>8&255,P.check=c(P.check,Z,2,0)),re=ee=0}else P.head&&(P.head.extra=null);P.mode=6;case 6:if(1024&P.flags&&(O<(xe=P.length)&&(xe=O),xe&&(P.head&&(N=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Array(P.head.extra_len)),a.arraySet(P.head.extra,ue,ce,xe,N)),512&P.flags&&(P.check=c(P.check,ue,xe,ce)),O-=xe,ce+=xe,P.length-=xe),P.length))break e;P.length=0,P.mode=7;case 7:if(2048&P.flags){if(O===0)break e;for(xe=0;N=ue[ce+xe++],P.head&&N&&P.length<65536&&(P.head.name+=String.fromCharCode(N)),N&&xe<O;);if(512&P.flags&&(P.check=c(P.check,ue,xe,ce)),O-=xe,ce+=xe,N)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=8;case 8:if(4096&P.flags){if(O===0)break e;for(xe=0;N=ue[ce+xe++],P.head&&N&&P.length<65536&&(P.head.comment+=String.fromCharCode(N)),N&&xe<O;);if(512&P.flags&&(P.check=c(P.check,ue,xe,ce)),O-=xe,ce+=xe,N)break e}else P.head&&(P.head.comment=null);P.mode=9;case 9:if(512&P.flags){for(;re<16;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}if(ee!==(65535&P.check)){z.msg="header crc mismatch",P.mode=30;break}re=ee=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),z.adler=P.check=0,P.mode=12;break;case 10:for(;re<32;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}z.adler=P.check=x(ee),re=ee=0,P.mode=11;case 11:if(P.havedict===0)return z.next_out=he,z.avail_out=ae,z.next_in=ce,z.avail_in=O,P.hold=ee,P.bits=re,2;z.adler=P.check=1,P.mode=12;case 12:if(ie===5||ie===6)break e;case 13:if(P.last){ee>>>=7&re,re-=7&re,P.mode=27;break}for(;re<3;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}switch(P.last=1&ee,re-=1,3&(ee>>>=1)){case 0:P.mode=14;break;case 1:if(G(P),P.mode=20,ie!==6)break;ee>>>=2,re-=2;break e;case 2:P.mode=17;break;case 3:z.msg="invalid block type",P.mode=30}ee>>>=2,re-=2;break;case 14:for(ee>>>=7&re,re-=7&re;re<32;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}if((65535&ee)!=(ee>>>16^65535)){z.msg="invalid stored block lengths",P.mode=30;break}if(P.length=65535&ee,re=ee=0,P.mode=15,ie===6)break e;case 15:P.mode=16;case 16:if(xe=P.length){if(O<xe&&(xe=O),ae<xe&&(xe=ae),xe===0)break e;a.arraySet(pe,ue,ce,xe,he),O-=xe,ce+=xe,ae-=xe,he+=xe,P.length-=xe;break}P.mode=12;break;case 17:for(;re<14;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}if(P.nlen=257+(31&ee),ee>>>=5,re-=5,P.ndist=1+(31&ee),ee>>>=5,re-=5,P.ncode=4+(15&ee),ee>>>=4,re-=4,286<P.nlen||30<P.ndist){z.msg="too many length or distance symbols",P.mode=30;break}P.have=0,P.mode=18;case 18:for(;P.have<P.ncode;){for(;re<3;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}P.lens[Q[P.have++]]=7&ee,ee>>>=3,re-=3}for(;P.have<19;)P.lens[Q[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,X={bits:P.lenbits},te=h(0,P.lens,0,19,P.lencode,0,P.work,X),P.lenbits=X.bits,te){z.msg="invalid code lengths set",P.mode=30;break}P.have=0,P.mode=19;case 19:for(;P.have<P.nlen+P.ndist;){for(;se=(V=P.lencode[ee&(1<<P.lenbits)-1])>>>16&255,le=65535&V,!((B=V>>>24)<=re);){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}if(le<16)ee>>>=B,re-=B,P.lens[P.have++]=le;else{if(le===16){for(q=B+2;re<q;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}if(ee>>>=B,re-=B,P.have===0){z.msg="invalid bit length repeat",P.mode=30;break}N=P.lens[P.have-1],xe=3+(3&ee),ee>>>=2,re-=2}else if(le===17){for(q=B+3;re<q;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}re-=B,N=0,xe=3+(7&(ee>>>=B)),ee>>>=3,re-=3}else{for(q=B+7;re<q;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}re-=B,N=0,xe=11+(127&(ee>>>=B)),ee>>>=7,re-=7}if(P.have+xe>P.nlen+P.ndist){z.msg="invalid bit length repeat",P.mode=30;break}for(;xe--;)P.lens[P.have++]=N}}if(P.mode===30)break;if(P.lens[256]===0){z.msg="invalid code -- missing end-of-block",P.mode=30;break}if(P.lenbits=9,X={bits:P.lenbits},te=h(f,P.lens,0,P.nlen,P.lencode,0,P.work,X),P.lenbits=X.bits,te){z.msg="invalid literal/lengths set",P.mode=30;break}if(P.distbits=6,P.distcode=P.distdyn,X={bits:P.distbits},te=h(g,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,X),P.distbits=X.bits,te){z.msg="invalid distances set",P.mode=30;break}if(P.mode=20,ie===6)break e;case 20:P.mode=21;case 21:if(6<=O&&258<=ae){z.next_out=he,z.avail_out=ae,z.next_in=ce,z.avail_in=O,P.hold=ee,P.bits=re,d(z,_e),he=z.next_out,pe=z.output,ae=z.avail_out,ce=z.next_in,ue=z.input,O=z.avail_in,ee=P.hold,re=P.bits,P.mode===12&&(P.back=-1);break}for(P.back=0;se=(V=P.lencode[ee&(1<<P.lenbits)-1])>>>16&255,le=65535&V,!((B=V>>>24)<=re);){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}if(se&&!(240&se)){for(Le=B,Be=se,$e=le;se=(V=P.lencode[$e+((ee&(1<<Le+Be)-1)>>Le)])>>>16&255,le=65535&V,!(Le+(B=V>>>24)<=re);){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}ee>>>=Le,re-=Le,P.back+=Le}if(ee>>>=B,re-=B,P.back+=B,P.length=le,se===0){P.mode=26;break}if(32&se){P.back=-1,P.mode=12;break}if(64&se){z.msg="invalid literal/length code",P.mode=30;break}P.extra=15&se,P.mode=22;case 22:if(P.extra){for(q=P.extra;re<q;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}P.length+=ee&(1<<P.extra)-1,ee>>>=P.extra,re-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=23;case 23:for(;se=(V=P.distcode[ee&(1<<P.distbits)-1])>>>16&255,le=65535&V,!((B=V>>>24)<=re);){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}if(!(240&se)){for(Le=B,Be=se,$e=le;se=(V=P.distcode[$e+((ee&(1<<Le+Be)-1)>>Le)])>>>16&255,le=65535&V,!(Le+(B=V>>>24)<=re);){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}ee>>>=Le,re-=Le,P.back+=Le}if(ee>>>=B,re-=B,P.back+=B,64&se){z.msg="invalid distance code",P.mode=30;break}P.offset=le,P.extra=15&se,P.mode=24;case 24:if(P.extra){for(q=P.extra;re<q;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}P.offset+=ee&(1<<P.extra)-1,ee>>>=P.extra,re-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){z.msg="invalid distance too far back",P.mode=30;break}P.mode=25;case 25:if(ae===0)break e;if(xe=_e-ae,P.offset>xe){if((xe=P.offset-xe)>P.whave&&P.sane){z.msg="invalid distance too far back",P.mode=30;break}Te=xe>P.wnext?(xe-=P.wnext,P.wsize-xe):P.wnext-xe,xe>P.length&&(xe=P.length),U=P.window}else U=pe,Te=he-P.offset,xe=P.length;for(ae<xe&&(xe=ae),ae-=xe,P.length-=xe;pe[he++]=U[Te++],--xe;);P.length===0&&(P.mode=21);break;case 26:if(ae===0)break e;pe[he++]=P.length,ae--,P.mode=21;break;case 27:if(P.wrap){for(;re<32;){if(O===0)break e;O--,ee|=ue[ce++]<<re,re+=8}if(_e-=ae,z.total_out+=_e,P.total+=_e,_e&&(z.adler=P.check=P.flags?c(P.check,pe,_e,he-_e):s(P.check,pe,_e,he-_e)),_e=ae,(P.flags?ee:x(ee))!==P.check){z.msg="incorrect data check",P.mode=30;break}re=ee=0}P.mode=28;case 28:if(P.wrap&&P.flags){for(;re<32;){if(O===0)break e;O--,ee+=ue[ce++]<<re,re+=8}if(ee!==(4294967295&P.total)){z.msg="incorrect length check",P.mode=30;break}re=ee=0}P.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return _}return z.next_out=he,z.avail_out=ae,z.next_in=ce,z.avail_in=O,P.hold=ee,P.bits=re,(P.wsize||_e!==z.avail_out&&P.mode<30&&(P.mode<27||ie!==4))&&Y(z,z.output,z.next_out,_e-z.avail_out)?(P.mode=31,-4):(ke-=z.avail_in,_e-=z.avail_out,z.total_in+=ke,z.total_out+=_e,P.total+=_e,P.wrap&&_e&&(z.adler=P.check=P.flags?c(P.check,pe,_e,z.next_out-_e):s(P.check,pe,_e,z.next_out-_e)),z.data_type=P.bits+(P.last?64:0)+(P.mode===12?128:0)+(P.mode===20||P.mode===15?256:0),(ke==0&&_e===0||ie===4)&&te===v&&(te=-5),te)},i.inflateEnd=function(z){if(!z||!z.state)return _;var ie=z.state;return ie.window&&(ie.window=null),z.state=null,v},i.inflateGetHeader=function(z,ie){var P;return z&&z.state&&2&(P=z.state).wrap?((P.head=ie).done=!1,v):_},i.inflateSetDictionary=function(z,ie){var P,ue=ie.length;return z&&z.state?(P=z.state).wrap!==0&&P.mode!==11?_:P.mode===11&&s(1,ie,ue,0)!==P.check?-3:Y(z,ie,ue,ue)?(P.mode=31,-4):(P.havedict=1,v):_},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,g,v,_,k,E,j,x){var w,A,S,T,F,I,D,C,G,Y=x.bits,z=0,ie=0,P=0,ue=0,pe=0,ce=0,he=0,O=0,ae=0,ee=0,re=null,ke=0,_e=new a.Buf16(16),xe=new a.Buf16(16),Te=null,U=0;for(z=0;z<=15;z++)_e[z]=0;for(ie=0;ie<_;ie++)_e[g[v+ie]]++;for(pe=Y,ue=15;1<=ue&&_e[ue]===0;ue--);if(ue<pe&&(pe=ue),ue===0)return k[E++]=20971520,k[E++]=20971520,x.bits=1,0;for(P=1;P<ue&&_e[P]===0;P++);for(pe<P&&(pe=P),z=O=1;z<=15;z++)if(O<<=1,(O-=_e[z])<0)return-1;if(0<O&&(f===0||ue!==1))return-1;for(xe[1]=0,z=1;z<15;z++)xe[z+1]=xe[z]+_e[z];for(ie=0;ie<_;ie++)g[v+ie]!==0&&(j[xe[g[v+ie]]++]=ie);if(I=f===0?(re=Te=j,19):f===1?(re=s,ke-=257,Te=c,U-=257,256):(re=d,Te=h,-1),z=P,F=E,he=ie=ee=0,S=-1,T=(ae=1<<(ce=pe))-1,f===1&&852<ae||f===2&&592<ae)return 1;for(;;){for(D=z-he,G=j[ie]<I?(C=0,j[ie]):j[ie]>I?(C=Te[U+j[ie]],re[ke+j[ie]]):(C=96,0),w=1<<z-he,P=A=1<<ce;k[F+(ee>>he)+(A-=w)]=D<<24|C<<16|G|0,A!==0;);for(w=1<<z-1;ee&w;)w>>=1;if(w!==0?(ee&=w-1,ee+=w):ee=0,ie++,--_e[z]==0){if(z===ue)break;z=g[v+j[ie]]}if(pe<z&&(ee&T)!==S){for(he===0&&(he=pe),F+=P,O=1<<(ce=z-he);ce+he<ue&&!((O-=_e[ce+he])<=0);)ce++,O<<=1;if(ae+=1<<ce,f===1&&852<ae||f===2&&592<ae)return 1;k[S=ee&T]=pe<<24|ce<<16|F-E|0}}return ee!==0&&(k[F+ee]=z-he<<24|64<<16|0),x.bits=pe,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),s=0,c=1;function d(V){for(var Z=V.length;0<=--Z;)V[Z]=0}var h=0,f=29,g=256,v=g+1+f,_=30,k=19,E=2*v+1,j=15,x=16,w=7,A=256,S=16,T=17,F=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(v+2));d(Y);var z=new Array(2*_);d(z);var ie=new Array(512);d(ie);var P=new Array(256);d(P);var ue=new Array(f);d(ue);var pe,ce,he,O=new Array(_);function ae(V,Z,Q,W,H){this.static_tree=V,this.extra_bits=Z,this.extra_base=Q,this.elems=W,this.max_length=H,this.has_stree=V&&V.length}function ee(V,Z){this.dyn_tree=V,this.max_code=0,this.stat_desc=Z}function re(V){return V<256?ie[V]:ie[256+(V>>>7)]}function ke(V,Z){V.pending_buf[V.pending++]=255&Z,V.pending_buf[V.pending++]=Z>>>8&255}function _e(V,Z,Q){V.bi_valid>x-Q?(V.bi_buf|=Z<<V.bi_valid&65535,ke(V,V.bi_buf),V.bi_buf=Z>>x-V.bi_valid,V.bi_valid+=Q-x):(V.bi_buf|=Z<<V.bi_valid&65535,V.bi_valid+=Q)}function xe(V,Z,Q){_e(V,Q[2*Z],Q[2*Z+1])}function Te(V,Z){for(var Q=0;Q|=1&V,V>>>=1,Q<<=1,0<--Z;);return Q>>>1}function U(V,Z,Q){var W,H,me=new Array(j+1),Ce=0;for(W=1;W<=j;W++)me[W]=Ce=Ce+Q[W-1]<<1;for(H=0;H<=Z;H++){var we=V[2*H+1];we!==0&&(V[2*H]=Te(me[we]++,we))}}function B(V){var Z;for(Z=0;Z<v;Z++)V.dyn_ltree[2*Z]=0;for(Z=0;Z<_;Z++)V.dyn_dtree[2*Z]=0;for(Z=0;Z<k;Z++)V.bl_tree[2*Z]=0;V.dyn_ltree[2*A]=1,V.opt_len=V.static_len=0,V.last_lit=V.matches=0}function se(V){8<V.bi_valid?ke(V,V.bi_buf):0<V.bi_valid&&(V.pending_buf[V.pending++]=V.bi_buf),V.bi_buf=0,V.bi_valid=0}function le(V,Z,Q,W){var H=2*Z,me=2*Q;return V[H]<V[me]||V[H]===V[me]&&W[Z]<=W[Q]}function Le(V,Z,Q){for(var W=V.heap[Q],H=Q<<1;H<=V.heap_len&&(H<V.heap_len&&le(Z,V.heap[H+1],V.heap[H],V.depth)&&H++,!le(Z,W,V.heap[H],V.depth));)V.heap[Q]=V.heap[H],Q=H,H<<=1;V.heap[Q]=W}function Be(V,Z,Q){var W,H,me,Ce,we=0;if(V.last_lit!==0)for(;W=V.pending_buf[V.d_buf+2*we]<<8|V.pending_buf[V.d_buf+2*we+1],H=V.pending_buf[V.l_buf+we],we++,W===0?xe(V,H,Z):(xe(V,(me=P[H])+g+1,Z),(Ce=I[me])!==0&&_e(V,H-=ue[me],Ce),xe(V,me=re(--W),Q),(Ce=D[me])!==0&&_e(V,W-=O[me],Ce)),we<V.last_lit;);xe(V,A,Z)}function $e(V,Z){var Q,W,H,me=Z.dyn_tree,Ce=Z.stat_desc.static_tree,we=Z.stat_desc.has_stree,Ne=Z.stat_desc.elems,ze=-1;for(V.heap_len=0,V.heap_max=E,Q=0;Q<Ne;Q++)me[2*Q]!==0?(V.heap[++V.heap_len]=ze=Q,V.depth[Q]=0):me[2*Q+1]=0;for(;V.heap_len<2;)me[2*(H=V.heap[++V.heap_len]=ze<2?++ze:0)]=1,V.depth[H]=0,V.opt_len--,we&&(V.static_len-=Ce[2*H+1]);for(Z.max_code=ze,Q=V.heap_len>>1;1<=Q;Q--)Le(V,me,Q);for(H=Ne;Q=V.heap[1],V.heap[1]=V.heap[V.heap_len--],Le(V,me,1),W=V.heap[1],V.heap[--V.heap_max]=Q,V.heap[--V.heap_max]=W,me[2*H]=me[2*Q]+me[2*W],V.depth[H]=(V.depth[Q]>=V.depth[W]?V.depth[Q]:V.depth[W])+1,me[2*Q+1]=me[2*W+1]=H,V.heap[1]=H++,Le(V,me,1),2<=V.heap_len;);V.heap[--V.heap_max]=V.heap[1],function(Ve,gt){var kt,St,Vt,et,Et,Ft,At=gt.dyn_tree,bt=gt.max_code,cr=gt.stat_desc.static_tree,Tn=gt.stat_desc.has_stree,mr=gt.stat_desc.extra_bits,Un=gt.stat_desc.extra_base,rr=gt.stat_desc.max_length,or=0;for(et=0;et<=j;et++)Ve.bl_count[et]=0;for(At[2*Ve.heap[Ve.heap_max]+1]=0,kt=Ve.heap_max+1;kt<E;kt++)rr<(et=At[2*At[2*(St=Ve.heap[kt])+1]+1]+1)&&(et=rr,or++),At[2*St+1]=et,bt<St||(Ve.bl_count[et]++,Et=0,Un<=St&&(Et=mr[St-Un]),Ft=At[2*St],Ve.opt_len+=Ft*(et+Et),Tn&&(Ve.static_len+=Ft*(cr[2*St+1]+Et)));if(or!==0){do{for(et=rr-1;Ve.bl_count[et]===0;)et--;Ve.bl_count[et]--,Ve.bl_count[et+1]+=2,Ve.bl_count[rr]--,or-=2}while(0<or);for(et=rr;et!==0;et--)for(St=Ve.bl_count[et];St!==0;)bt<(Vt=Ve.heap[--kt])||(At[2*Vt+1]!==et&&(Ve.opt_len+=(et-At[2*Vt+1])*At[2*Vt],At[2*Vt+1]=et),St--)}}(V,Z),U(me,ze,V.bl_count)}function N(V,Z,Q){var W,H,me=-1,Ce=Z[1],we=0,Ne=7,ze=4;for(Ce===0&&(Ne=138,ze=3),Z[2*(Q+1)+1]=65535,W=0;W<=Q;W++)H=Ce,Ce=Z[2*(W+1)+1],++we<Ne&&H===Ce||(we<ze?V.bl_tree[2*H]+=we:H!==0?(H!==me&&V.bl_tree[2*H]++,V.bl_tree[2*S]++):we<=10?V.bl_tree[2*T]++:V.bl_tree[2*F]++,me=H,ze=(we=0)===Ce?(Ne=138,3):H===Ce?(Ne=6,3):(Ne=7,4))}function te(V,Z,Q){var W,H,me=-1,Ce=Z[1],we=0,Ne=7,ze=4;for(Ce===0&&(Ne=138,ze=3),W=0;W<=Q;W++)if(H=Ce,Ce=Z[2*(W+1)+1],!(++we<Ne&&H===Ce)){if(we<ze)for(;xe(V,H,V.bl_tree),--we!=0;);else H!==0?(H!==me&&(xe(V,H,V.bl_tree),we--),xe(V,S,V.bl_tree),_e(V,we-3,2)):we<=10?(xe(V,T,V.bl_tree),_e(V,we-3,3)):(xe(V,F,V.bl_tree),_e(V,we-11,7));me=H,ze=(we=0)===Ce?(Ne=138,3):H===Ce?(Ne=6,3):(Ne=7,4)}}d(O);var X=!1;function q(V,Z,Q,W){_e(V,(h<<1)+(W?1:0),3),function(H,me,Ce,we){se(H),ke(H,Ce),ke(H,~Ce),a.arraySet(H.pending_buf,H.window,me,Ce,H.pending),H.pending+=Ce}(V,Z,Q)}i._tr_init=function(V){X||(function(){var Z,Q,W,H,me,Ce=new Array(j+1);for(H=W=0;H<f-1;H++)for(ue[H]=W,Z=0;Z<1<<I[H];Z++)P[W++]=H;for(P[W-1]=H,H=me=0;H<16;H++)for(O[H]=me,Z=0;Z<1<<D[H];Z++)ie[me++]=H;for(me>>=7;H<_;H++)for(O[H]=me<<7,Z=0;Z<1<<D[H]-7;Z++)ie[256+me++]=H;for(Q=0;Q<=j;Q++)Ce[Q]=0;for(Z=0;Z<=143;)Y[2*Z+1]=8,Z++,Ce[8]++;for(;Z<=255;)Y[2*Z+1]=9,Z++,Ce[9]++;for(;Z<=279;)Y[2*Z+1]=7,Z++,Ce[7]++;for(;Z<=287;)Y[2*Z+1]=8,Z++,Ce[8]++;for(U(Y,v+1,Ce),Z=0;Z<_;Z++)z[2*Z+1]=5,z[2*Z]=Te(Z,5);pe=new ae(Y,I,g+1,v,j),ce=new ae(z,D,0,_,j),he=new ae(new Array(0),C,0,k,w)}(),X=!0),V.l_desc=new ee(V.dyn_ltree,pe),V.d_desc=new ee(V.dyn_dtree,ce),V.bl_desc=new ee(V.bl_tree,he),V.bi_buf=0,V.bi_valid=0,B(V)},i._tr_stored_block=q,i._tr_flush_block=function(V,Z,Q,W){var H,me,Ce=0;0<V.level?(V.strm.data_type===2&&(V.strm.data_type=function(we){var Ne,ze=4093624447;for(Ne=0;Ne<=31;Ne++,ze>>>=1)if(1&ze&&we.dyn_ltree[2*Ne]!==0)return s;if(we.dyn_ltree[18]!==0||we.dyn_ltree[20]!==0||we.dyn_ltree[26]!==0)return c;for(Ne=32;Ne<g;Ne++)if(we.dyn_ltree[2*Ne]!==0)return c;return s}(V)),$e(V,V.l_desc),$e(V,V.d_desc),Ce=function(we){var Ne;for(N(we,we.dyn_ltree,we.l_desc.max_code),N(we,we.dyn_dtree,we.d_desc.max_code),$e(we,we.bl_desc),Ne=k-1;3<=Ne&&we.bl_tree[2*G[Ne]+1]===0;Ne--);return we.opt_len+=3*(Ne+1)+5+5+4,Ne}(V),H=V.opt_len+3+7>>>3,(me=V.static_len+3+7>>>3)<=H&&(H=me)):H=me=Q+5,Q+4<=H&&Z!==-1?q(V,Z,Q,W):V.strategy===4||me===H?(_e(V,2+(W?1:0),3),Be(V,Y,z)):(_e(V,4+(W?1:0),3),function(we,Ne,ze,Ve){var gt;for(_e(we,Ne-257,5),_e(we,ze-1,5),_e(we,Ve-4,4),gt=0;gt<Ve;gt++)_e(we,we.bl_tree[2*G[gt]+1],3);te(we,we.dyn_ltree,Ne-1),te(we,we.dyn_dtree,ze-1)}(V,V.l_desc.max_code+1,V.d_desc.max_code+1,Ce+1),Be(V,V.dyn_ltree,V.dyn_dtree)),B(V),W&&se(V)},i._tr_tally=function(V,Z,Q){return V.pending_buf[V.d_buf+2*V.last_lit]=Z>>>8&255,V.pending_buf[V.d_buf+2*V.last_lit+1]=255&Z,V.pending_buf[V.l_buf+V.last_lit]=255&Q,V.last_lit++,Z===0?V.dyn_ltree[2*Q]++:(V.matches++,Z--,V.dyn_ltree[2*(P[Q]+g+1)]++,V.dyn_dtree[2*re(Z)]++),V.last_lit===V.lit_bufsize-1},i._tr_align=function(V){_e(V,2,3),xe(V,A,Y),function(Z){Z.bi_valid===16?(ke(Z,Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0):8<=Z.bi_valid&&(Z.pending_buf[Z.pending++]=255&Z.bi_buf,Z.bi_buf>>=8,Z.bi_valid-=8)}(V)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(s,c){if(!s.setImmediate){var d,h,f,g,v=1,_={},k=!1,E=s.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(s);j=j&&j.setTimeout?j:s,d={}.toString.call(s.process)==="[object process]"?function(S){process.nextTick(function(){w(S)})}:function(){if(s.postMessage&&!s.importScripts){var S=!0,T=s.onmessage;return s.onmessage=function(){S=!1},s.postMessage("","*"),s.onmessage=T,S}}()?(g="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",A,!1):s.attachEvent("onmessage",A),function(S){s.postMessage(g+S,"*")}):s.MessageChannel?((f=new MessageChannel).port1.onmessage=function(S){w(S.data)},function(S){f.port2.postMessage(S)}):E&&"onreadystatechange"in E.createElement("script")?(h=E.documentElement,function(S){var T=E.createElement("script");T.onreadystatechange=function(){w(S),T.onreadystatechange=null,h.removeChild(T),T=null},h.appendChild(T)}):function(S){setTimeout(w,0,S)},j.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var T=new Array(arguments.length-1),F=0;F<T.length;F++)T[F]=arguments[F+1];var I={callback:S,args:T};return _[v]=I,d(v),v++},j.clearImmediate=x}function x(S){delete _[S]}function w(S){if(k)setTimeout(w,0,S);else{var T=_[S];if(T){k=!0;try{(function(F){var I=F.callback,D=F.args;switch(D.length){case 0:I();break;case 1:I(D[0]);break;case 2:I(D[0],D[1]);break;case 3:I(D[0],D[1],D[2]);break;default:I.apply(c,D)}})(T)}finally{x(S),k=!1}}}}function A(S){S.source===s&&typeof S.data=="string"&&S.data.indexOf(g)===0&&w(+S.data.slice(g.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(h1);var f1=h1.exports;const Lj=Sc(f1);function Si(e,t){return Array.from(e.getElementsByTagName(t))}function Bh(e){return e[0]==="#"?e:`#${e}`}function Ij(e,t,r){return Array.from(e.getElementsByTagNameNS(r,t))}function wn(e){return e==null||e.normalize(),e&&e.textContent||""}function Ai(e,t,r){const n=e.getElementsByTagName(t);return n.length?n[0]:null}function oi(e,t,r){const n={};if(!e)return n;const i=e.getElementsByTagName(t),a=i.length?i[0]:null;return a&&r?r(a,n):n}function ll(e,t,r){const n=wn(Ai(e,t));return n&&r?r(n)||{}:{}}function ks(e,t,r){const n=parseFloat(wn(Ai(e,t)));if(!isNaN(n))return r&&r(n),n}function p1(e,t){const r={};for(const n of t)ll(e,n,i=>{r[n]=i});return r}function m1(e){return(e==null?void 0:e.nodeType)===1}function g1(e,t){const r={},n=t=="stroke"||t==="fill"?t:t+"-color";return e[0]==="#"&&(e=e.substring(1)),e.length===6||e.length===3?r[n]="#"+e:e.length===8&&(r[t+"-opacity"]=parseInt(e.substring(0,2),16)/255,r[n]="#"+e.substring(6,8)+e.substring(4,6)+e.substring(2,4)),r}function zh(e,t,r){const n={};return ks(e,t,i=>{n[r]=i}),n}function Wv(e,t){return oi(e,"color",r=>g1(wn(r),t))}function v1(e){return oi(e,"Icon",(t,r)=>(ll(t,"href",n=>{r.icon=n}),r))}function Mj(e){return oi(e,"IconStyle",t=>Object.assign(Wv(t,"icon"),zh(t,"scale","icon-scale"),zh(t,"heading","icon-heading"),oi(t,"hotSpot",r=>{const n=parseFloat(r.getAttribute("x")||""),i=parseFloat(r.getAttribute("y")||""),a=r.getAttribute("xunits")||"",s=r.getAttribute("yunits")||"";return!isNaN(n)&&!isNaN(i)?{"icon-offset":[n,i],"icon-offset-units":[a,s]}:{}}),v1(t)))}function Fj(e){return oi(e,"LabelStyle",t=>Object.assign(Wv(t,"label"),zh(t,"scale","label-scale")))}function Bj(e){return oi(e,"LineStyle",t=>Object.assign(Wv(t,"stroke"),zh(t,"width","stroke-width")))}function zj(e){return oi(e,"PolyStyle",(t,r)=>Object.assign(r,oi(t,"color",n=>g1(wn(n),"fill")),ll(t,"fill",n=>{if(n==="0")return{"fill-opacity":0}}),ll(t,"outline",n=>{if(n==="0")return{"stroke-opacity":0}})))}function Xv(e){return Object.assign({},zj(e),Bj(e),Fj(e),Mj(e))}const gs=e=>Number(e),xg={string:e=>e,int:gs,uint:gs,short:gs,ushort:gs,float:gs,double:gs,bool:e=>!!e};function y1(e,t){return oi(e,"ExtendedData",(r,n)=>{for(const i of Si(r,"Data"))n[i.getAttribute("name")||""]=wn(Ai(i,"value"));for(const i of Si(r,"SimpleData")){const a=i.getAttribute("name")||"",s=t[a]||xg.string;n[a]=s(wn(i))}return n})}function x1(e){const t=Ai(e,"description");for(const r of Array.from((t==null?void 0:t.childNodes)||[]))if(r.nodeType===4)return{description:{"@type":"html",value:wn(r)}};return{}}function _1(e){return oi(e,"TimeSpan",t=>({timespan:{begin:wn(Ai(t,"begin")),end:wn(Ai(t,"end"))}}))}function b1(e){return oi(e,"TimeStamp",t=>({timestamp:wn(Ai(t,"when"))}))}function w1(e,t){return ll(e,"styleUrl",r=>(r=Bh(r),t[r]?Object.assign({styleUrl:r},t[r]):{styleUrl:r}))}const Uj=/\s*/g,$j=/^\s*|\s*$/g,Vj=/\s+/;function C1(e){return e.replace(Uj,"").split(",").map(parseFloat).filter(t=>!isNaN(t)).slice(0,3)}function _g(e){return e.replace($j,"").split(Vj).map(C1).filter(t=>t.length>=2)}function qj(e){let t=Si(e,"coord");t.length===0&&(t=Ij(e,"coord","*"));const r=t.map(n=>wn(n).split(" ").map(parseFloat));return r.length===0?null:{geometry:r.length>2?{type:"LineString",coordinates:r}:{type:"Point",coordinates:r[0]},times:Si(e,"when").map(n=>wn(n))}}function E1(e){if(e.length===0)return e;const t=e[0],r=e[e.length-1];let n=!0;for(let i=0;i<Math.max(t.length,r.length);i++)if(t[i]!==r[i]){n=!1;break}return n?e:e.concat([e[0]])}function dh(e){return wn(Ai(e,"coordinates"))}function S1(e){let t=[],r=[];for(let n=0;n<e.childNodes.length;n++){const i=e.childNodes.item(n);if(m1(i))switch(i.tagName){case"MultiGeometry":case"MultiTrack":case"gx:MultiTrack":{const a=S1(i);t=t.concat(a.geometries),r=r.concat(a.coordTimes);break}case"Point":{const a=C1(dh(i));a.length>=2&&t.push({type:"Point",coordinates:a});break}case"LinearRing":case"LineString":{const a=_g(dh(i));a.length>=2&&t.push({type:"LineString",coordinates:a});break}case"Polygon":{const a=[];for(const s of Si(i,"LinearRing")){const c=E1(_g(dh(s)));c.length>=4&&a.push(c)}a.length&&t.push({type:"Polygon",coordinates:a});break}case"Track":case"gx:Track":{const a=qj(i);if(!a)break;const{times:s,geometry:c}=a;t.push(c),s.length&&r.push(s);break}}}return{geometries:t,coordTimes:r}}function Gj(e){return e.length===0?null:e.length===1?e[0]:{type:"GeometryCollection",geometries:e}}function Hj(e,t,r,n){var h;const{coordTimes:i,geometries:a}=S1(e),s=Gj(a);if(!s&&n.skipNullGeometry)return null;const c={type:"Feature",geometry:s,properties:Object.assign(p1(e,["name","address","visibility","open","phoneNumber","description"]),x1(e),w1(e,t),Xv(e),y1(e,r),_1(e),b1(e),i.length?{coordinateProperties:{times:i.length===1?i[0]:i}}:{})};((h=c.properties)==null?void 0:h.visibility)!==void 0&&(c.properties.visibility=c.properties.visibility!=="0");const d=e.getAttribute("id");return d!==null&&d!==""&&(c.id=d),c}function Zj(e){return Ai(e,"gx:LatLonQuad")?{geometry:{type:"Polygon",coordinates:[E1(_g(dh(e)))]}}:Jj(e)}const Wj=Math.PI/180;function Xj(e,t,r){const n=[(e[0]+e[2])/2,(e[1]+e[3])/2];return[t[0].map(i=>{const a=i[1]-n[1],s=i[0]-n[0],c=Math.sqrt(Math.pow(a,2)+Math.pow(s,2)),d=Math.atan2(a,s)+r*Wj;return[n[0]+Math.cos(d)*c,n[1]+Math.sin(d)*c]})]}function Jj(e){const t=Ai(e,"LatLonBox");if(t){const r=ks(t,"north"),n=ks(t,"west"),i=ks(t,"east"),a=ks(t,"south"),s=ks(t,"rotation");if(typeof r=="number"&&typeof a=="number"&&typeof n=="number"&&typeof i=="number"){const c=[n,a,i,r];let d=[[[n,r],[i,r],[i,a],[n,a],[n,r]]];return typeof s=="number"&&(d=Xj(c,d,s)),{bbox:c,geometry:{type:"Polygon",coordinates:d}}}}return null}function Kj(e,t,r,n){var d;const i=Zj(e),a=(i==null?void 0:i.geometry)||null;if(!a&&n.skipNullGeometry)return null;const s={type:"Feature",geometry:a,properties:Object.assign({"@geometry-type":"groundoverlay"},p1(e,["name","address","visibility","open","phoneNumber","description"]),x1(e),w1(e,t),Xv(e),v1(e),y1(e,r),_1(e),b1(e))};i!=null&&i.bbox&&(s.bbox=i.bbox),((d=s.properties)==null?void 0:d.visibility)!==void 0&&(s.properties.visibility=s.properties.visibility!=="0");const c=e.getAttribute("id");return c!==null&&c!==""&&(s.id=c),s}function Yj(e){let t=e.getAttribute("id");const r=e.parentNode;return!t&&m1(r)&&r.localName==="CascadingStyle"&&(t=r.getAttribute("kml:id")||r.getAttribute("id")),Bh(t||"")}function Qj(e){const t={};for(const r of Si(e,"Style"))t[Yj(r)]=Xv(r);for(const r of Si(e,"StyleMap")){const n=Bh(r.getAttribute("id")||"");ll(r,"styleUrl",i=>{i=Bh(i),t[i]&&(t[n]=t[i])})}return t}function e3(e){const t={};for(const r of Si(e,"SimpleField"))t[r.getAttribute("name")||""]=xg[r.getAttribute("type")||""]||xg.string;return t}function*t3(e,t={skipNullGeometry:!1}){const r=Qj(e),n=e3(e);for(const i of Si(e,"Placemark")){const a=Hj(i,r,n,t);a&&(yield a)}for(const i of Si(e,"GroundOverlay")){const a=Kj(i,r,n,t);a&&(yield a)}}function A1(e,t={skipNullGeometry:!1}){return{type:"FeatureCollection",features:Array.from(t3(e,t))}}var T1={};T1.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"};var Jv={},bg=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Rx=new RegExp("[\\-\\.0-9"+bg.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Px=new RegExp("^"+bg.source+Rx.source+"*(?::"+bg.source+Rx.source+"*)?$"),fu=0,sa=1,vs=2,pu=3,ys=4,xs=5,mu=6,$d=7;function ul(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,ul)}ul.prototype=new Error;ul.prototype.name=ul.name;function N1(){}N1.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),k1(t,t={}),r3(e,t,r,n,this.errorHandler),n.endDocument()}};function r3(e,t,r,n,i){function a(pe){if(pe>65535){pe-=65536;var ce=55296+(pe>>10),he=56320+(pe&1023);return String.fromCharCode(ce,he)}else return String.fromCharCode(pe)}function s(pe){var ce=pe.slice(1,-1);return ce in r?r[ce]:ce.charAt(0)==="#"?a(parseInt(ce.substr(1).replace("x","0x"))):(i.error("entity not found:"+pe),pe)}function c(pe){if(pe>E){var ce=e.substring(E,pe).replace(/&#?\w+;/g,s);v&&d(E),n.characters(ce,0,pe-E),E=pe}}function d(pe,ce){for(;pe>=f&&(ce=g.exec(e));)h=ce.index,f=h+ce[0].length,v.lineNumber++;v.columnNumber=pe-h+1}for(var h=0,f=0,g=/.*(?:\r\n?|\n)|.*$/g,v=n.locator,_=[{currentNSMap:t}],k={},E=0;;){try{var j=e.indexOf("<",E);if(j<0){if(!e.substr(E).match(/^\s*$/)){var x=n.doc,w=x.createTextNode(e.substr(E));x.appendChild(w),n.currentElement=w}return}switch(j>E&&c(j),e.charAt(j+1)){case"/":var Y=e.indexOf(">",j+3),A=e.substring(j+2,Y),S=_.pop();Y<0?(A=e.substring(j+2).replace(/[\s<].*/,""),i.error("end tag name: "+A+" is not complete:"+S.tagName),Y=j+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,""),i.error("end tag name: "+A+" maybe not complete"),Y=j+1+A.length);var T=S.localNSMap,F=S.tagName==A,I=F||S.tagName&&S.tagName.toLowerCase()==A.toLowerCase();if(I){if(n.endElement(S.uri,S.localName,A),T)for(var D in T)n.endPrefixMapping(D);F||i.fatalError("end tag name: "+A+" is not match the current start tagName:"+S.tagName)}else _.push(S);Y++;break;case"?":v&&d(j),Y=s3(e,j,n);break;case"!":v&&d(j),Y=o3(e,j,n,i);break;default:v&&d(j);var C=new D1,G=_[_.length-1].currentNSMap,Y=n3(e,j,C,G,s,i),z=C.length;if(!C.closed&&a3(e,Y,C.tagName,k)&&(C.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),v&&z){for(var ie=Lx(v,{}),P=0;P<z;P++){var ue=C[P];d(ue.offset),ue.locator=Lx(v,{})}n.locator=ie,Ix(C,n,G)&&_.push(C),n.locator=v}else Ix(C,n,G)&&_.push(C);C.uri==="http://www.w3.org/1999/xhtml"&&!C.closed?Y=i3(e,Y,C.tagName,s,n):Y++}}catch(pe){if(pe instanceof ul)throw pe;i.error("element parse error: "+pe),Y=-1}Y>E?E=Y:c(Math.max(j,E)+1)}}function Lx(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function n3(e,t,r,n,i,a){function s(v,_,k){v in r.attributeNames&&a.fatalError("Attribute "+v+" redefined"),r.addValue(v,_,k)}for(var c,d,h=++t,f=fu;;){var g=e.charAt(h);switch(g){case"=":if(f===sa)c=e.slice(t,h),f=pu;else if(f===vs)f=pu;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(f===pu||f===sa)if(f===sa&&(a.warning('attribute value must after "="'),c=e.slice(t,h)),t=h+1,h=e.indexOf(g,t),h>0)d=e.slice(t,h).replace(/&#?\w+;/g,i),s(c,d,t-1),f=xs;else throw new Error("attribute value no end '"+g+"' match");else if(f==ys)d=e.slice(t,h).replace(/&#?\w+;/g,i),s(c,d,t),a.warning('attribute "'+c+'" missed start quot('+g+")!!"),t=h+1,f=xs;else throw new Error('attribute value must after "="');break;case"/":switch(f){case fu:r.setTagName(e.slice(t,h));case xs:case mu:case $d:f=$d,r.closed=!0;case ys:case sa:case vs:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),f==fu&&r.setTagName(e.slice(t,h)),h;case">":switch(f){case fu:r.setTagName(e.slice(t,h));case xs:case mu:case $d:break;case ys:case sa:d=e.slice(t,h),d.slice(-1)==="/"&&(r.closed=!0,d=d.slice(0,-1));case vs:f===vs&&(d=c),f==ys?(a.warning('attribute "'+d+'" missed quot(")!'),s(c,d.replace(/&#?\w+;/g,i),t)):((n[""]!=="http://www.w3.org/1999/xhtml"||!d.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),s(d,d,t));break;case pu:throw new Error("attribute value missed!!")}return h;case"":g=" ";default:if(g<=" ")switch(f){case fu:r.setTagName(e.slice(t,h)),f=mu;break;case sa:c=e.slice(t,h),f=vs;break;case ys:var d=e.slice(t,h).replace(/&#?\w+;/g,i);a.warning('attribute "'+d+'" missed quot(")!!'),s(c,d,t);case xs:f=mu;break}else switch(f){case vs:r.tagName,(n[""]!=="http://www.w3.org/1999/xhtml"||!c.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),s(c,c,t),t=h,f=sa;break;case xs:a.warning('attribute space is required"'+c+'"!!');case mu:f=sa,t=h;break;case pu:f=ys,t=h;break;case $d:throw new Error("elements closed character '/' and '>' must be connected to")}}h++}}function Ix(e,t,r){for(var n=e.tagName,i=null,g=e.length;g--;){var a=e[g],s=a.qName,c=a.value,v=s.indexOf(":");if(v>0)var d=a.prefix=s.slice(0,v),h=s.slice(v+1),f=d==="xmlns"&&h;else h=s,d=null,f=s==="xmlns"&&"";a.localName=h,f!==!1&&(i==null&&(i={},k1(r,r={})),r[f]=i[f]=c,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,c))}for(var g=e.length;g--;){a=e[g];var d=a.prefix;d&&(d==="xml"&&(a.uri="http://www.w3.org/XML/1998/namespace"),d!=="xmlns"&&(a.uri=r[d||""]))}var v=n.indexOf(":");v>0?(d=e.prefix=n.slice(0,v),h=e.localName=n.slice(v+1)):(d=null,h=e.localName=n);var _=e.uri=r[d||""];if(t.startElement(_,h,n,e),e.closed){if(t.endElement(_,h,n),i)for(d in i)t.endPrefixMapping(d)}else return e.currentNSMap=r,e.localNSMap=i,!0}function i3(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(r)?(i.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,n),i.characters(s,0,s.length),a)}return t+1}function a3(e,t,r,n){var i=n[r];return i==null&&(i=e.lastIndexOf("</"+r+">"),i<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function k1(e,t){for(var r in e)t[r]=e[r]}function o3(e,t,r,n){var i=e.charAt(t+2);switch(i){case"-":if(e.charAt(t+3)==="-"){var a=e.indexOf("-->",t+4);return a>t?(r.comment(e,t+4,a-t-4),a+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var a=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,a-t-9),r.endCDATA(),a+3}var s=l3(e,t),c=s.length;if(c>1&&/!doctype/i.test(s[0][0])){var d=s[1][0],h=!1,f=!1;c>3&&(/^public$/i.test(s[2][0])?(h=s[3][0],f=c>4&&s[4][0]):/^system$/i.test(s[2][0])&&(f=s[3][0]));var g=s[c-1];return r.startDTD(d,h,f),r.endDTD(),g.index+g[0].length}}return-1}function s3(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function D1(){this.attributeNames={}}D1.prototype={setTagName:function(e){if(!Px.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!Px.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function l3(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}Jv.XMLReader=N1;Jv.ParseError=ul;var Rc={};function Pc(e,t){for(var r in e)t[r]=e[r]}function un(e,t){var r=e.prototype;if(!(r instanceof t)){let n=function(){};n.prototype=t.prototype,n=new n,Pc(r,n),e.prototype=r=n}r.constructor!=e&&(typeof e!="function"&&console.error("unknow Class:"+e),r.constructor=e)}var u3="http://www.w3.org/1999/xhtml",cn={},ii=cn.ELEMENT_NODE=1,cl=cn.ATTRIBUTE_NODE=2,Uh=cn.TEXT_NODE=3,j1=cn.CDATA_SECTION_NODE=4,O1=cn.ENTITY_REFERENCE_NODE=5,c3=cn.ENTITY_NODE=6,R1=cn.PROCESSING_INSTRUCTION_NODE=7,P1=cn.COMMENT_NODE=8,L1=cn.DOCUMENT_NODE=9,I1=cn.DOCUMENT_TYPE_NODE=10,Xi=cn.DOCUMENT_FRAGMENT_NODE=11,d3=cn.NOTATION_NODE=12,Or={},_r={};Or.INDEX_SIZE_ERR=(_r[1]="Index size error",1);Or.DOMSTRING_SIZE_ERR=(_r[2]="DOMString size error",2);var h3=Or.HIERARCHY_REQUEST_ERR=(_r[3]="Hierarchy request error",3);Or.WRONG_DOCUMENT_ERR=(_r[4]="Wrong document",4);Or.INVALID_CHARACTER_ERR=(_r[5]="Invalid character",5);Or.NO_DATA_ALLOWED_ERR=(_r[6]="No data allowed",6);Or.NO_MODIFICATION_ALLOWED_ERR=(_r[7]="No modification allowed",7);var f3=Or.NOT_FOUND_ERR=(_r[8]="Not found",8);Or.NOT_SUPPORTED_ERR=(_r[9]="Not supported",9);var Mx=Or.INUSE_ATTRIBUTE_ERR=(_r[10]="Attribute in use",10);Or.INVALID_STATE_ERR=(_r[11]="Invalid state",11);Or.SYNTAX_ERR=(_r[12]="Syntax error",12);Or.INVALID_MODIFICATION_ERR=(_r[13]="Invalid modification",13);Or.NAMESPACE_ERR=(_r[14]="Invalid namespace",14);Or.INVALID_ACCESS_ERR=(_r[15]="Invalid access",15);function Io(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,_r[e]),this.message=_r[e],Error.captureStackTrace&&Error.captureStackTrace(this,Io);return r.code=e,t&&(this.message=this.message+": "+t),r}Io.prototype=Error.prototype;Pc(Or,Io);function Ia(){}Ia.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)Vs(this[n],r,e,t);return r.join("")}};function dl(e,t){this._node=e,this._refresh=t,Kv(this)}function Kv(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);Z1(e,"length",r.length),Pc(r,e),e._inc=t}}dl.prototype.item=function(e){return Kv(this),this[e]};un(dl,Ia);function $h(){}function M1(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function Fx(e,t,r,n){if(n?t[M1(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&B1(i,e,n),p3(i,e,r))}}function Bx(e,t,r){var n=M1(t,r);if(n>=0){for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var a=e.ownerDocument;a&&(B1(a,e,r),r.ownerElement=null)}}else throw Io(f3,new Error(e.tagName+"@"+r))}$h.prototype={length:0,item:Ia.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new Io(Mx);var r=this.getNamedItem(e.nodeName);return Fx(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t=e.ownerElement,r;if(t&&t!=this._ownerElement)throw new Io(Mx);return r=this.getNamedItemNS(e.namespaceURI,e.localName),Fx(this._ownerElement,this,e,r),r},removeNamedItem:function(e){var t=this.getNamedItem(e);return Bx(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return Bx(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}};function F1(e){if(this._features={},e)for(var t in e)this._features=e[t]}F1.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!!(r&&(!t||t in r))},createDocument:function(e,t,r){var n=new Lc;if(n.implementation=this,n.childNodes=new Ia,n.doctype=r,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new r0;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}};function Rr(){}Rr.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return U1(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return z1(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return wg(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Uh&&e.nodeType==Uh?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(r[n]==e)return n}t=t.nodeType==cl?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==cl?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function zx(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}Pc(cn,Rr);Pc(cn,Rr.prototype);function ac(e,t){if(t(e))return!0;if(e=e.firstChild)do if(ac(e,t))return!0;while(e=e.nextSibling)}function Lc(){}function p3(e,t,r){e&&e._inc++;var n=r.namespaceURI;n=="http://www.w3.org/2000/xmlns/"&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function B1(e,t,r,n){e&&e._inc++;var i=r.namespaceURI;i=="http://www.w3.org/2000/xmlns/"&&delete t._nsMap[r.prefix?r.localName:""]}function Yv(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,a=0;i;)n[a++]=i,i=i.nextSibling;n.length=a}}}function z1(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,Yv(e.ownerDocument,e),t}function U1(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===Xi){var i=t.firstChild;if(i==null)return t;var a=t.lastChild}else i=a=t;var s=r?r.previousSibling:e.lastChild;i.previousSibling=s,a.nextSibling=r,s?s.nextSibling=i:e.firstChild=i,r==null?e.lastChild=a:r.previousSibling=a;do i.parentNode=e;while(i!==a&&(i=i.nextSibling));return Yv(e.ownerDocument||e,e),t.nodeType==Xi&&(t.firstChild=t.lastChild=null),t}function m3(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t);var n=e.lastChild}var n=e.lastChild;return t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,Yv(e.ownerDocument,e,t),t}Lc.prototype={nodeName:"#document",nodeType:L1,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Xi){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return this.documentElement==null&&e.nodeType==ii&&(this.documentElement=e),U1(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),z1(this,e)},importNode:function(e,t){return H1(this,e,t)},getElementById:function(e){var t=null;return ac(this.documentElement,function(r){if(r.nodeType==ii&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)");return new dl(this,function(r){var n=[];return ac(r.documentElement,function(i){i!==r&&i.nodeType==ii&&t.test(i.getAttribute("class"))&&n.push(i)}),n})},createElement:function(e){var t=new hl;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new Ia;var r=t.attributes=new $h;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new Nf;return e.ownerDocument=this,e.childNodes=new Ia,e},createTextNode:function(e){var t=new Qv;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new e0;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new t0;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new i0;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new Vh;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new n0;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new hl,n=t.split(":"),i=r.attributes=new $h;return r.childNodes=new Ia,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new Vh,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}};un(Lc,Rr);function hl(){this._nsMap={}}hl.prototype={nodeType:ii,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Xi?this.insertBefore(e,null):m3(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new dl(this,function(t){var r=[];return ac(t,function(n){n!==t&&n.nodeType==ii&&(e==="*"||n.tagName==e)&&r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new dl(this,function(r){var n=[];return ac(r,function(i){i!==r&&i.nodeType===ii&&(e==="*"||i.namespaceURI===e)&&(t==="*"||i.localName==t)&&n.push(i)}),n})}};Lc.prototype.getElementsByTagName=hl.prototype.getElementsByTagName;Lc.prototype.getElementsByTagNameNS=hl.prototype.getElementsByTagNameNS;un(hl,Rr);function Vh(){}Vh.prototype.nodeType=cl;un(Vh,Rr);function Ic(){}Ic.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(_r[h3])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),i=this.data.substring(e+t);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};un(Ic,Rr);function Qv(){}Qv.prototype={nodeName:"#text",nodeType:Uh,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};un(Qv,Ic);function e0(){}e0.prototype={nodeName:"#comment",nodeType:P1};un(e0,Ic);function t0(){}t0.prototype={nodeName:"#cdata-section",nodeType:j1};un(t0,Ic);function r0(){}r0.prototype.nodeType=I1;un(r0,Rr);function $1(){}$1.prototype.nodeType=d3;un($1,Rr);function V1(){}V1.prototype.nodeType=c3;un(V1,Rr);function n0(){}n0.prototype.nodeType=O1;un(n0,Rr);function Nf(){}Nf.prototype.nodeName="#document-fragment";Nf.prototype.nodeType=Xi;un(Nf,Rr);function i0(){}i0.prototype.nodeType=R1;un(i0,Rr);function q1(){}q1.prototype.serializeToString=function(e,t,r){return G1.call(e,t,r)};Rr.prototype.toString=G1;function G1(e,t){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,a=n.namespaceURI;if(a&&i==null){var i=n.lookupPrefix(a);if(i==null)var s=[{namespace:a,prefix:null}]}return Vs(this,r,e,t,s),r.join("")}function Ux(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!n&&!i||n==="xml"&&i==="http://www.w3.org/XML/1998/namespace"||i=="http://www.w3.org/2000/xmlns/")return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix==n)return s.namespace!=i}return!0}function Vs(e,t,r,n,i){if(n)if(e=n(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case ii:i||(i=[]),i.length;var a=e.attributes,s=a.length,_=e.firstChild,c=e.tagName;r=u3===e.namespaceURI||r,t.push("<",c);for(var d=0;d<s;d++){var h=a.item(d);h.prefix=="xmlns"?i.push({prefix:h.localName,namespace:h.value}):h.nodeName=="xmlns"&&i.push({prefix:"",namespace:h.value})}for(var d=0;d<s;d++){var h=a.item(d);if(Ux(h,r,i)){var f=h.prefix||"",g=h.namespaceURI,v=f?" xmlns:"+f:" xmlns";t.push(v,'="',g,'"'),i.push({prefix:f,namespace:g})}Vs(h,t,r,n,i)}if(Ux(e,r,i)){var f=e.prefix||"",g=e.namespaceURI;if(g){var v=f?" xmlns:"+f:" xmlns";t.push(v,'="',g,'"'),i.push({prefix:f,namespace:g})}}if(_||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),r&&/^script$/i.test(c))for(;_;)_.data?t.push(_.data):Vs(_,t,r,n,i),_=_.nextSibling;else for(;_;)Vs(_,t,r,n,i),_=_.nextSibling;t.push("</",c,">")}else t.push("/>");return;case L1:case Xi:for(var _=e.firstChild;_;)Vs(_,t,r,n,i),_=_.nextSibling;return;case cl:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,zx),'"');case Uh:return t.push(e.data.replace(/[<&]/g,zx).replace(/]]>/g,"]]&gt;"));case j1:return t.push("<![CDATA[",e.data,"]]>");case P1:return t.push("<!--",e.data,"-->");case I1:var k=e.publicId,E=e.systemId;if(t.push("<!DOCTYPE ",e.name),k)t.push(" PUBLIC ",k),E&&E!="."&&t.push(" ",E),t.push(">");else if(E&&E!=".")t.push(" SYSTEM ",E,">");else{var j=e.internalSubset;j&&t.push(" [",j,"]"),t.push(">")}return;case R1:return t.push("<?",e.target," ",e.data,"?>");case O1:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function H1(e,t,r){var n;switch(t.nodeType){case ii:n=t.cloneNode(!1),n.ownerDocument=e;case Xi:break;case cl:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(H1(e,i,r)),i=i.nextSibling;return n}function wg(e,t,r){var n=new t.constructor;for(var i in t){var a=t[i];typeof a!="object"&&a!=n[i]&&(n[i]=a)}switch(t.childNodes&&(n.childNodes=new Ia),n.ownerDocument=e,n.nodeType){case ii:var s=t.attributes,c=n.attributes=new $h,d=s.length;c._ownerElement=n;for(var h=0;h<d;h++)n.setAttributeNode(wg(e,s.item(h),!0));break;case cl:r=!0}if(r)for(var f=t.firstChild;f;)n.appendChild(wg(e,f,r)),f=f.nextSibling;return n}function Z1(e,t,r){e[t]=r}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case ii:case Xi:var r=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}};Object.defineProperty(dl.prototype,"length",{get:function(){return Kv(this),this.$$length}}),Object.defineProperty(Rr.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case ii:case Xi:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),Z1=function(t,r,n){t["$$"+r]=n}}}catch{}Rc.Node=Rr;Rc.DOMException=Io;Rc.DOMImplementation=F1;Rc.XMLSerializer=q1;function W1(e){this.options=e||{locator:{}}}W1.prototype.parseFromString=function(e,t){var r=this.options,n=new y3,i=r.domBuilder||new kf,a=r.errorHandler,s=r.locator,c=r.xmlns||{},d=/\/x?html?$/.test(t),h=d?v3.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return s&&i.setDocumentLocator(s),n.errorHandler=g3(a,i,s),n.domBuilder=r.domBuilder||i,d&&(c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e&&typeof e=="string"?n.parse(e,c,h):n.errorHandler.error("invalid doc source"),i.doc};function g3(e,t,r){if(!e){if(t instanceof kf)return t;e=t}var n={},i=e instanceof Function;r=r||{};function a(s){var c=e[s];!c&&i&&(c=e.length==2?function(d){e(s,d)}:e),n[s]=c&&function(d){c("[xmldom "+s+"]	"+d+Cg(r))}||function(){}}return a("warning"),a("error"),a("fatalError"),n}function kf(){this.cdata=!1}function _s(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}kf.prototype={startDocument:function(){this.doc=new _3().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),s=n.length;Vd(this,a),this.currentElement=a,this.locator&&_s(this.locator,a);for(var c=0;c<s;c++){var e=n.getURI(c),d=n.getValue(c),r=n.getQName(c),h=i.createAttributeNS(e,r);this.locator&&_s(n.getLocator(c),h),h.value=h.nodeValue=d,a.setAttributeNode(h)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&_s(this.locator,r),Vd(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=$x.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&_s(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=$x.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&_s(this.locator,n),Vd(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&_s(this.locator,i),Vd(this,i)}},warning:function(e){console.warn("[xmldom warning]	"+e,Cg(this.locator))},error:function(e){console.error("[xmldom error]	"+e,Cg(this.locator))},fatalError:function(e){throw new x3(e,this.locator)}};function Cg(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function $x(e,t,r){return typeof e=="string"?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){kf.prototype[e]=function(){return null}});function Vd(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}var v3=T1,X1=Jv,y3=X1.XMLReader,x3=X1.ParseError,_3=Rc.DOMImplementation,J1=W1;async function b3(e){const t=[],r=[".jpg",".jpeg",".png",".gif",".bmp",".tiff",".tif",".webp"];for(const[n,i]of Object.entries(e.files))if(!i.dir){const a=n.toLowerCase();if(r.some(c=>a.endsWith(c)))try{const c=await i.async("blob");let d="image/jpeg";a.endsWith(".png")?d="image/png":a.endsWith(".gif")?d="image/gif":a.endsWith(".bmp")?d="image/bmp":a.endsWith(".tiff")||a.endsWith(".tif")?d="image/tiff":a.endsWith(".webp")&&(d="image/webp");const h=new Blob([c],{type:d}),f=URL.createObjectURL(h);console.log(`Extracted image: ${n} (${d}) - URL: ${f}`),t.push({name:n,url:f,blob:h})}catch(c){console.warn(`Failed to extract image ${n}:`,c)}}return console.log(`Total images extracted: ${t.length}`),t.forEach(n=>console.log(`- ${n.name}: ${n.url}`)),t}function K1(e,t){const r=[],n=e.getElementsByTagName("GroundOverlay");console.log(`Found ${n.length} GroundOverlay elements`);for(let i=0;i<n.length;i++){const a=n[i];try{const s=fa(a,"name")||`Ground Overlay ${i+1}`,c=fa(a,"description")||"",d=a.getElementsByTagName("Icon");let h="";if(d.length>0){const w=d[0].getElementsByTagName("href");w.length>0&&(h=w[0].textContent||"")}if(console.log(`Extracted image: - URL: ${h}`),console.log(`KML : Processing overlay ${s} with image reference: ${h}`),h&&!h.startsWith("http")){const w=t.find(A=>A.name===h||A.name.endsWith(h)||A.name.toLowerCase()===h.toLowerCase()||A.name.toLowerCase().endsWith(h.toLowerCase())||A.name.replace(/\\/g,"/")===h.replace(/\\/g,"/")||A.name.replace(/\\/g,"/").endsWith(h.replace(/\\/g,"/")));if(w)h=w.url,console.log(`Matched image for overlay ${s}: ${h}`);else{console.warn(`No matching image found for overlay ${s} with reference ${h}`),console.log("Available images:",t.map(S=>S.name)),console.log("Looking for:",h);const A=t.find(S=>{var I,D;const T=((I=S.name.split("/").pop())==null?void 0:I.toLowerCase())||"",F=((D=h.split("/").pop())==null?void 0:D.toLowerCase())||"";return T===F});A&&(h=A.url,console.log(`Found flexible match for overlay ${s}: ${h}`))}}const f=qh(a,"LatLonBox");if(!f){console.warn(`No LatLonBox found for overlay ${s}`);continue}if(!h){console.warn(`No image URL found for overlay ${s}`);continue}const g=parseFloat(fa(f,"north")||"0"),v=parseFloat(fa(f,"south")||"0"),_=parseFloat(fa(f,"east")||"0"),k=parseFloat(fa(f,"west")||"0"),E=parseFloat(fa(f,"rotation")||"0");console.log(`Overlay ${s} bounds:`,{north:g,south:v,east:_,west:k});const j=qh(a,"color");let x=1;if(j){const w=j.textContent;w&&w.length===8&&(x=parseInt(w.substring(0,2),16)/255)}r.push({id:`ground-overlay-${i}`,name:s,description:c,imageUrl:h,bounds:{north:g,south:v,east:_,west:k},rotation:E,opacity:x}),console.log(`Successfully added overlay ${s}`)}catch(s){console.warn(`Failed to parse ground overlay ${i}:`,s)}}return console.log(`Total ground overlays parsed: ${r.length}`),r}function fa(e,t,r){const n=e.getElementsByTagName(t);if(n.length>0)return n[0].textContent}function qh(e,t){const r=e.getElementsByTagName(t);if(r.length>0)return r[0]}async function w3(e){try{const r=await new Lj().loadAsync(e),n=[],i=await b3(r);for(const[a,s]of Object.entries(r.files))if(a.toLowerCase().endsWith(".kml")&&!s.dir)try{const c=await s.async("text"),h=new J1().parseFromString(c,"text/xml"),f=qh(h,"parsererror");if(f){console.warn(`Error parsing KML file ${a}:`,f.textContent);continue}const g=K1(h,i),v=A1(h);v&&v.features&&v.features.length>0?n.push({name:`${e.name}/${a}`,data:v,type:"kmz",images:i,groundOverlays:g}):g.length>0&&n.push({name:`${e.name}/${a}`,data:{type:"FeatureCollection",features:[]},type:"kmz",images:i,groundOverlays:g})}catch(c){console.error(`Error processing KML file ${a} from KMZ:`,c)}if(n.length===0)throw new Error("No valid KML files found in KMZ archive");return n}catch(t){throw console.error("Error processing KMZ file:",t),new Error(`Failed to process KMZ file: ${t instanceof Error?t.message:"Unknown error"}`)}}async function Y1(e){const t=e.name.toLowerCase();try{if(t.endsWith(".kmz"))return await w3(e);if(t.endsWith(".kml")){const r=await e.text(),i=new J1().parseFromString(r,"text/xml"),a=qh(i,"parsererror");if(a)throw new Error(`Invalid KML file: ${a.textContent}`);const s=[],c=i.getElementsByTagName("Icon");for(let f=0;f<c.length;f++){const g=c[f],v=fa(g,"href");v&&s.push({name:v,url:v,blob:new Blob})}const d=K1(i,s),h=A1(i);if((!h||!h.features||h.features.length===0)&&d.length===0)throw new Error("KML file contains no valid features or ground overlays");return[{name:e.name,data:h||{type:"FeatureCollection",features:[]},type:"kml",groundOverlays:d}]}else if(t.endsWith(".geojson")||t.endsWith(".json")){const r=await e.text(),n=JSON.parse(r);if(!n||typeof n!="object")throw new Error("Invalid GeoJSON format");if(!n.features&&n.type!=="Feature"&&n.type!=="FeatureCollection")throw new Error("File does not contain valid GeoJSON features");return[{name:e.name,data:n,type:"geojson"}]}else throw new Error("Unsupported file format. Please use KML, KMZ, or GeoJSON files.")}catch(r){throw console.error(`Error processing geo file ${e.name}:`,r),r}}function Vx(e){const t=e.name.toLowerCase();return[".kml",".kmz",".geojson",".json"].some(n=>t.endsWith(n))}function C3(){return".kml,.kmz,.geojson,.json,application/vnd.google-earth.kml+xml,application/vnd.google-earth.kmz,application/geo+json"}function Gh(e){e.forEach(t=>{URL.revokeObjectURL(t.url)})}function Q1({mapType:e,onChange:t}){return l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Map Type:"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("label",{className:"flex items-center space-x-1",children:[l.jsx("input",{type:"radio",value:"standard",checked:e==="standard",onChange:()=>t("standard"),className:"form-radio text-blue-500"}),l.jsx("span",{className:"text-sm",children:"Standard"})]}),l.jsxs("label",{className:"flex items-center space-x-1",children:[l.jsx("input",{type:"radio",value:"satellite",checked:e==="satellite",onChange:()=>t("satellite"),className:"form-radio text-blue-500"}),l.jsx("span",{className:"text-sm",children:"Satellite"})]})]})]})}function E3({geoFiles:e}){const[t,r]=ve.useState([]),[n,i]=ve.useState([[46.227638,2.213749]]),[a,s]=ve.useState(5),[c,d]=ve.useState(!1),[h,f]=ve.useState(null),[g,v]=ve.useState([]),[_,k]=ve.useState("standard"),E=["#3388ff","#ff4444","#33cc33","#ff9900","#9933cc","#00ccff","#ff66b2","#99cc00","#ff8533","#6666ff"],j=ve.useCallback((S,T)=>{var F,I;(F=S.properties)!=null&&F.description?T.bindPopup(S.properties.description):(I=S.properties)!=null&&I.name&&T.bindPopup(S.properties.name)},[]),x=ve.useCallback(S=>{const T=[];return!S||!S.features||S.features.forEach(F=>{if(F.geometry&&F.geometry.coordinates){const I=F.geometry.coordinates;switch(F.geometry.type){case"Point":Array.isArray(I)&&I.length>=2&&T.push([I[1],I[0]]);break;case"LineString":Array.isArray(I)&&I.forEach(D=>{Array.isArray(D)&&D.length>=2&&T.push([D[1],D[0]])});break;case"Polygon":Array.isArray(I)&&I[0]&&I[0].forEach(D=>{Array.isArray(D)&&D.length>=2&&T.push([D[1],D[0]])});break;case"MultiPolygon":Array.isArray(I)&&I.forEach(D=>{Array.isArray(D)&&D[0]&&D[0].forEach(C=>{Array.isArray(C)&&C.length>=2&&T.push([C[1],C[0]])})});break}}}),T},[]),w=ve.useCallback(S=>{const T=[];return S.forEach(F=>{T.push([F.bounds.north,F.bounds.east]),T.push([F.bounds.south,F.bounds.west]),T.push([F.bounds.north,F.bounds.west]),T.push([F.bounds.south,F.bounds.east])}),T},[]);ve.useEffect(()=>()=>{g.forEach(S=>{S&&S.length>0&&Gh(S)})},[g]),ve.useEffect(()=>{(async()=>{if(e.length===0){r([]),i([[46.227638,2.213749]]),s(5),f(null),g.forEach(T=>{T&&T.length>0&&Gh(T)}),v([]);return}d(!0),f(null);try{const T=[],F=[];let I=[],D=0;for(const C of e)try{(await Y1(C)).forEach(Y=>{const z=x(Y.data);if(I=[...I,...z],Y.groundOverlays&&Y.groundOverlays.length>0){const ie=w(Y.groundOverlays);I=[...I,...ie]}T.push({id:`layer-${D}`,name:Y.name,data:Y.data,color:E[D%E.length],type:Y.type,groundOverlays:Y.groundOverlays}),Y.images&&F.push(Y.images),D++})}catch(G){console.error(`Error processing file ${C.name}:`,G),f(Y=>Y?`${Y}
${C.name}: ${G}`:`${C.name}: ${G}`)}I.length>0&&(i(I),s(12)),r(T),v(F)}catch(T){console.error("Error loading geo files:",T),f("Erreur lors du chargement des fichiers géographiques")}finally{d(!1)}})()},[e,x,w]);const A=n.length>1?[n.reduce((S,T)=>S+T[0],0)/n.length,n.reduce((S,T)=>S+T[1],0)/n.length]:[46.227638,2.213749];return l.jsxs("div",{className:"space-y-4",children:[h&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:l.jsxs("div",{className:"text-sm text-red-700",children:[l.jsx("strong",{children:"Erreurs de traitement :"}),l.jsx("pre",{className:"mt-1 whitespace-pre-wrap",children:h})]})}),c&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("div",{className:"text-sm text-blue-700 flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),"Traitement des fichiers géographiques..."]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Q1,{mapType:_,onChange:k}),l.jsx("div",{className:"h-96 w-full rounded-lg overflow-hidden border border-gray-300",children:l.jsxs(c1,{center:A,zoom:a,style:{height:"100%",width:"100%"},children:[l.jsx(d1,{url:_==="standard"?"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:_==="standard"?'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors':'&copy; <a href="https://www.arcgis.com/home/item.html?id=10df227921484f18b483e4ef61416222">Esri</a>, &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),l.jsx(La,{position:"topright",children:t.map(S=>l.jsxs(Do.Fragment,{children:[S.data.features&&S.data.features.length>0&&l.jsx(La.Overlay,{name:`${S.name} (${S.type.toUpperCase()})`,checked:!0,children:l.jsx(s1,{data:S.data,style:()=>({color:S.color,weight:3,opacity:1,fillColor:S.color,fillOpacity:.2}),onEachFeature:j})}),S.groundOverlays&&S.groundOverlays.map((T,F)=>l.jsx(La.Overlay,{name:`${T.name} (Ground Overlay)`,checked:!0,children:l.jsx(l1,{url:T.imageUrl,bounds:[[T.bounds.south,T.bounds.west],[T.bounds.north,T.bounds.east]],opacity:T.opacity||1})},`${S.id}-overlay-${F}`))]},S.id))})]})})]}),t.length>0&&l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Fichiers chargés :"}),l.jsx("ul",{className:"mt-1 space-y-1",children:t.map(S=>l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.color}}),l.jsxs("span",{children:[S.name," (",S.type.toUpperCase(),")"]}),S.groundOverlays&&S.groundOverlays.length>0&&l.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:[S.groundOverlays.length," overlay",S.groundOverlays.length>1?"s":""]}),S.data.features&&S.data.features.length>0&&l.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[S.data.features.length," feature",S.data.features.length>1?"s":""]})]},S.id))}),l.jsx("div",{className:"mt-2 text-xs text-gray-500",children:l.jsxs("details",{children:[l.jsx("summary",{children:"Debug Info"}),l.jsx("pre",{className:"mt-1 text-xs bg-gray-100 p-2 rounded overflow-auto max-h-32",children:JSON.stringify(t.map(S=>{var T,F,I;return{name:S.name,type:S.type,featuresCount:((T=S.data.features)==null?void 0:T.length)||0,overlaysCount:((F=S.groundOverlays)==null?void 0:F.length)||0,overlays:(I=S.groundOverlays)==null?void 0:I.map(D=>({name:D.name,hasImageUrl:!!D.imageUrl,imageUrl:D.imageUrl,bounds:D.bounds}))}}),null,2)})]})})]})]})}function S3({operation:e,onChange:t}){const r=async i=>{const a=i.target.files;if(a){const s=Array.from(a).filter(Vx);if(s.length!==a.length){const c=Array.from(a).filter(d=>!Vx(d));alert(`Fichiers non supportés ignorés: ${c.map(d=>d.name).join(", ")}
Formats supportés: KML, KMZ, GeoJSON`)}s.length>0&&t({...e,geoFiles:[...e.geoFiles||[],...s]})}},n=i=>{const a=[...e.geoFiles||[]];a.splice(i,1),t({...e,geoFiles:a})};return l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Informations sur l'opération"}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Informations générales"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:"Indiquer la distance maximale en km à prendre en compte pour la zone adjacente, à partir des limites de la zone tampon pour les risques liés au sol.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Étendue de la zone adjacente (km)"})}),l.jsx("input",{type:"number",value:e.adjacentAreaExtent,onChange:i=>t({...e,adjacentAreaExtent:parseFloat(i.target.value)||0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:`VLOS : le télépilote maintien une ligne de vue visuelle avec l'UAS à tout moment. 
            Les opérations EVLOS permettent le vol d'un UAS au-delà de la vue visuelle du télépilote en utilisant des ' observateurs entraînés ' pour garder l'aéronef dans leur champ de vision. 
            BVLOS : l'exploitation d'un UAS au-delà d'une distance où le pilote à distance est en mesure de réagir ou d'éviter d'autres utilisateurs de l'espace aérien par des moyens visuels directs`,children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type d'opération"})}),l.jsxs("select",{value:e.operationType,onChange:i=>t({...e,operationType:i.target.value,visualObserversCount:i.target.value==="EVLOS – Vol en vue Etendu"?e.visualObserversCount:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"VLOS – Vol en vue",children:"VLOS – Vol en vue"}),l.jsx("option",{value:"EVLOS – Vol en vue Etendu",children:"EVLOS – Vol en vue Etendu"}),l.jsx("option",{value:"BVLOS – Vol hors vue",children:"BVLOS – Vol hors vue"})]})]}),e.operationType==="EVLOS – Vol en vue Etendu"&&l.jsxs("div",{children:[l.jsx(Ee,{text:"Penser à préciser sur la cartographie un fichier kml précisant la position des observateurs.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre d'observateurs visuels"})}),l.jsx("input",{type:"number",value:e.visualObserversCount,onChange:i=>t({...e,visualObserversCount:parseInt(i.target.value)||0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"GM1 Article 2 - Definitions (11)",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transport de marchandises dangereuses"})}),l.jsxs("select",{value:e.dangerousGoods,onChange:i=>t({...e,dangerousGoods:i.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Insérer l'altitude maximale de vol, exprimée en mètres et en pieds entre parenthèses, du volume opérationnel approuvé (en ajoutant le tampon pour le risque aérien, le cas échéant) en utilisant la référence AGL lorsque la limite supérieure est inférieure à 150 m (492 ft), ou en utilisant la référence MSL lorsque la limite supérieure est supérieure à 150 m (492 ft).",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hauteur maximale du volume d'opération"})}),l.jsx("input",{type:"number",value:e.maxOperationHeight,onChange:i=>t({...e,maxOperationHeight:parseFloat(i.target.value)||0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Opération de jour ou de nuit"}),l.jsxs("select",{value:e.dayNightOperation,onChange:i=>t({...e,dayNightOperation:i.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Jour",children:"Jour"}),l.jsx("option",{value:"Nuit",children:"Nuit"}),l.jsx("option",{value:"Jour & Nuit",children:"Jour & Nuit"})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Heure Locale",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Heure de Démarrage des opérations"})}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{type:"time",value:e.operationStartTime,onChange:i=>t({...e,operationStartTime:i.target.value}),className:"block w-full pr-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),l.jsx(lg,{className:"absolute right-3 top-2 h-5 w-5 text-gray-400"})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Heure Locale",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Heure de Fin des opérations"})}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{type:"time",value:e.operationEndTime,onChange:i=>t({...e,operationEndTime:i.target.value}),className:"block w-full pr-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),l.jsx(lg,{className:"absolute right-3 top-2 h-5 w-5 text-gray-400"})]})]})]}),l.jsx("h3",{className:"text-lg font-medium mt-8",children:"Cohérence des plans de vol et distance de sécurité multi-opérateurs"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:"Indiquer la distance maximale en m à prendre en compte par rapport à la zone d'évolution",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Distance maximale par rapport au télépilote (m)"})}),l.jsx("input",{type:"number",value:e.maxDistanceFromPilot,onChange:i=>t({...e,maxDistanceFromPilot:parseFloat(i.target.value)||0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Niveau de confinement atteint"}),l.jsxs("select",{value:e.confinementLevel,onChange:i=>t({...e,confinementLevel:i.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Basic",children:"Basic"}),l.jsx("option",{value:"Enhanced",children:"Enhanced"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Ee,{text:'Préciser le type de certificat de télépilote, si nécessaire ; sinon, indiquer "Déclaré".',children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Compétence du télépilote"})}),l.jsx("textarea",{value:e.pilotCompetency,onChange:i=>t({...e,pilotCompetency:i.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Ee,{text:`Préciser le type de certificat pour le personnel, autre que le télépilote, essentiel à la sécurité de l'opération, si nécessaire ; sinon, indiquer "Déclaré".`,children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Compétence du personnel, autre que le télépilote, essentielle à la sécurité de l'opération"})}),l.jsx("textarea",{value:e.otherPersonnelCompetency,onChange:i=>t({...e,otherPersonnelCompetency:i.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lister les Types d'événements à signaler à l'autorité compétente [en plus de ceux requis par le règlement (UE) no 376/2014]"}),l.jsx("textarea",{value:e.reportableEvents,onChange:i=>t({...e,reportableEvents:i.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs(Ee,{text:"Déposez des fichiers KML, KMZ ou GeoJSON détaillant la mission",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zone Géographique"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-500 transition-colors",children:[l.jsx("input",{type:"file",accept:C3(),onChange:r,className:"hidden",id:"geo-upload",multiple:!0}),l.jsxs("label",{htmlFor:"geo-upload",className:"flex items-center justify-center gap-2 cursor-pointer",children:[l.jsx(Mh,{className:"w-5 h-5 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Déposer des fichiers KML, KMZ ou GeoJSON ici"})]})]})]}),e.geoFiles&&e.geoFiles.length>0&&l.jsx("div",{className:"mt-4 space-y-2",children:e.geoFiles.map((i,a)=>{var s;return l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[l.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-2",children:[i.name,l.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:(s=i.name.split(".").pop())==null?void 0:s.toUpperCase()})]}),l.jsx("button",{onClick:()=>n(a),className:"text-red-500 hover:text-red-700",children:"Supprimer"})]},a)})}),l.jsx(E3,{geoFiles:e.geoFiles||[]})]})]})}function A3({osos:e,assessment:t,onChange:r}){if(e){const i=["Non Requis","Faible","Moyen","Élevé"];let a=[];t.SAIL.toString().includes("SAIL 1")?a=[0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0]:t.SAIL.toString().includes("SAIL 2")?a=[1,0,1,0,0,1,1,2,1,1,2,1,1,2,1,1,1,0,0]:t.SAIL.toString().includes("SAIL 3")?a=[2,1,2,0,1,1,2,3,2,2,3,2,2,3,2,2,2,1,1]:t.SAIL.toString().includes("SAIL 4")?a=[3,2,2,1,2,2,2,3,2,2,3,2,3,3,2,2,2,2,2]:t.SAIL.toString().includes("SAIL 5")?a=[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2]:t.SAIL.toString().includes("SAIL 6")?a=[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]:t.SAIL.toString().includes("Certifié")&&(a=[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]);const s=a;e=[{id:"OSO1",number:"01",description:"Opérateur UAS compétent et/ou approuvé",requiredLevel:i.at(s.at(0)),status:"Faible",evidence:"",tooltip:"<div>Elément de réponse attendu :<br /> (a) Plan de formation générale. <br /> (b) Formation de l’équipage spécifique sur l’UAS concerné. <br />(c) Expérience de l’opérateur et précédentes opérations. <br />(d) Checklist et manuel d’entretien</div>"},{id:"OSO2",number:"02",description:"Constructeur UAS compétent et/ou approuvé",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO3",number:"03",description:"Maintenance UAS assurée par une entité compétente et/ou approuvée",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO4",number:"04",description:"UAS développé selon des standards reconnus par l’autorité",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO5",number:"05",description:"UAS conçu selon des standards de fiabilité et de sécurité",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO6",number:"06",description:"Performances du Lien C3 appropriées pour la mission",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO7",number:"07",description:"Inspections de l’UAS pour assurer la validité du ConOps",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO8",number:"08",description:"Procédures opérationnelles définies, validées et appliquées",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO9",number:"09",description:"Equipage formé, entrainé régulièrement et capable de faire face aux situations anormales",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO10",number:"10",description:"Retour à la normale en toute sécurité après un problème technique",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO11",number:"11",description:"Des procédures sont en place pour supporter la détérioration des systèmes externes de soutien à l’opération",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO12",number:"12",description:"L’UAS est conçu pour supporter la détérioration des systèmes externes de soutien",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO13",number:"13",description:"Les systèmes externes de soutien sont adéquats pour l’opération",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO14",number:"14",description:"Procédures opérationnelles définies, validées et appliquées",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO15",number:"15",description:"Equipage formé, entrainé régulièrement et capable de faire face aux situations anormales",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO16",number:"16",description:"Coordination intra-équipage",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO17",number:"17",description:"Equipage en capacité d’exploiter",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO18",number:"18",description:"Protection automatique de l’enveloppe de vol, résistance à l’erreur humaine",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO19",number:"19",description:"Retour à la normale en toute sécurité après une erreur humaine",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "}]}else return l.jsx("div",{children:"Loading..."});const n=(i,a)=>{const s=e.map((c,d)=>d===i?{...c,...a}:c);r(s)};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Objectifs de Sécurité Opérationnelle (OSO)"}),e.map((i,a)=>l.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[l.jsxs("h3",{className:"font-medium",children:["OSO #",i.number," - ",i.description]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Niveau requis"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:i.requiredLevel})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Niveau atteint"}),l.jsxs("select",{value:i.status,onChange:s=>n(a,{status:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[l.jsx("option",{value:"Low",children:"Faible"}),l.jsx("option",{value:"Medium",children:"Moyen"}),l.jsx("option",{value:"High",children:"Élevé"})]})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsx("div",{dangerouslySetInnerHTML:{__html:i.tooltip}}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification / Preuves"})}),l.jsx("textarea",{value:i.evidence,onChange:s=>n(a,{evidence:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]},i.id))]})}function T3({geoFiles:e}){const[t,r]=ve.useState([]),[n,i]=ve.useState([[46.227638,2.213749]]),[a,s]=ve.useState(5),[c,d]=ve.useState(!1),[h,f]=ve.useState(null),[g,v]=ve.useState([]),[_,k]=ve.useState("standard"),E=["#3388ff","#ff4444","#33cc33","#ff9900","#9933cc","#00ccff","#ff66b2","#99cc00","#ff8533","#6666ff"],j=ve.useCallback((S,T)=>{var F,I;(F=S.properties)!=null&&F.description?T.bindPopup(S.properties.description):(I=S.properties)!=null&&I.name&&T.bindPopup(S.properties.name)},[]),x=ve.useCallback(S=>{const T=[];return!S||!S.features||S.features.forEach(F=>{if(F.geometry&&F.geometry.coordinates){const I=F.geometry.coordinates;switch(F.geometry.type){case"Point":Array.isArray(I)&&I.length>=2&&T.push([I[1],I[0]]);break;case"LineString":Array.isArray(I)&&I.forEach(D=>{Array.isArray(D)&&D.length>=2&&T.push([D[1],D[0]])});break;case"Polygon":Array.isArray(I)&&I[0]&&I[0].forEach(D=>{Array.isArray(D)&&D.length>=2&&T.push([D[1],D[0]])});break;case"MultiPolygon":Array.isArray(I)&&I.forEach(D=>{Array.isArray(D)&&D[0]&&D[0].forEach(C=>{Array.isArray(C)&&C.length>=2&&T.push([C[1],C[0]])})});break}}}),T},[]),w=ve.useCallback(S=>{const T=[];return S.forEach(F=>{T.push([F.bounds.north,F.bounds.east]),T.push([F.bounds.south,F.bounds.west]),T.push([F.bounds.north,F.bounds.west]),T.push([F.bounds.south,F.bounds.east])}),T},[]);ve.useEffect(()=>()=>{g.forEach(S=>{S&&S.length>0&&Gh(S)})},[g]),ve.useEffect(()=>{(async()=>{if(e.length===0){r([]),i([[46.227638,2.213749]]),s(5),f(null),g.forEach(T=>{T&&T.length>0&&Gh(T)}),v([]);return}d(!0),f(null);try{const T=[],F=[];let I=[],D=0;for(const C of e)try{(await Y1(C)).forEach(Y=>{const z=x(Y.data);if(I=[...I,...z],Y.groundOverlays&&Y.groundOverlays.length>0){const ie=w(Y.groundOverlays);I=[...I,...ie]}T.push({id:`layer-${D}`,name:Y.name,data:Y.data,color:E[D%E.length],type:Y.type,groundOverlays:Y.groundOverlays}),Y.images&&F.push(Y.images),D++})}catch(G){console.error(`Error processing file ${C.name}:`,G),f(Y=>Y?`${Y}
${C.name}: ${G}`:`${C.name}: ${G}`)}I.length>0&&(i(I),s(12)),r(T),v(F)}catch(T){console.error("Error loading geo files:",T),f("Erreur lors du chargement des fichiers géographiques")}finally{d(!1)}})()},[e,x,w]);const A=n.length>1?[n.reduce((S,T)=>S+T[0],0)/n.length,n.reduce((S,T)=>S+T[1],0)/n.length]:[46.227638,2.213749];return l.jsxs("div",{className:"space-y-4",children:[h&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:l.jsxs("div",{className:"text-sm text-red-700",children:[l.jsx("strong",{children:"Erreurs de traitement :"}),l.jsx("pre",{className:"mt-1 whitespace-pre-wrap",children:h})]})}),c&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("div",{className:"text-sm text-blue-700 flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),"Traitement des fichiers géographiques..."]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Q1,{mapType:_,onChange:k}),l.jsx("div",{className:"h-96 w-full rounded-lg overflow-hidden border border-gray-300",children:l.jsxs(c1,{center:A,zoom:a,style:{height:"100%",width:"100%"},children:[l.jsx(d1,{url:_==="standard"?"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png":"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:_==="standard"?'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors':'&copy; <a href="https://www.arcgis.com/home/item.html?id=10df227921484f18b483e4ef61416222">Esri</a>, &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),l.jsx(La,{position:"topright",children:t.map(S=>l.jsxs(Do.Fragment,{children:[S.data.features&&S.data.features.length>0&&l.jsx(La.Overlay,{name:`${S.name} (${S.type.toUpperCase()})`,checked:!0,children:l.jsx(s1,{data:S.data,style:()=>({color:S.color,weight:3,opacity:1,fillColor:S.color,fillOpacity:.2}),onEachFeature:j})}),S.groundOverlays&&S.groundOverlays.map((T,F)=>l.jsx(La.Overlay,{name:`${T.name} (Ground Overlay)`,checked:!0,children:l.jsx(l1,{url:T.imageUrl,bounds:[[T.bounds.south,T.bounds.west],[T.bounds.north,T.bounds.east]],opacity:T.opacity||1})},`${S.id}-overlay-${F}`))]},S.id))})]})})]}),t.length>0&&l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Fichiers chargés :"}),l.jsx("ul",{className:"mt-1 space-y-1",children:t.map(S=>l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.color}}),l.jsxs("span",{children:[S.name," (",S.type.toUpperCase(),")"]}),S.groundOverlays&&S.groundOverlays.length>0&&l.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:[S.groundOverlays.length," overlay",S.groundOverlays.length>1?"s":""]})]},S.id))})]})]})}const N3="/assets/DefinitionOfVolumes-DTGZjJ69.png",k3="/assets/DefinitionOfFootprints-BwoC-ZWb.png",D3="/assets/JARUSorHIModel-cX_XzCxK.png",j3="/assets/JARUSorHIModel_AC-DGhx5KlN.png",O3="/assets/JARUSorHIModel_HC_High-jdKqAng_.png",R3="/assets/JARUSorHIModel_HC_Low-BdjR2L2K.png",P3="/assets/AdjacenteArea-e23ZXH9Y.png";function L3({assessment:e,drone:t,operation:r,onChange:n,showOnly:i}){var he;const a=[{PopDensity:"Zone Contrôlée",MaxdimCS1:"1",MaxdimCS2:"1",MaxdimCS3:"2",MaxdimCS4:"3",MaxdimCS5:"3"},{PopDensity:"<5",MaxdimCS1:"2",MaxdimCS2:"3",MaxdimCS3:"4",MaxdimCS4:"5",MaxdimCS5:"6"},{PopDensity:"<50",MaxdimCS1:"3",MaxdimCS2:"4",MaxdimCS3:"5",MaxdimCS4:"6",MaxdimCS5:"7"},{PopDensity:"<500",MaxdimCS1:"4",MaxdimCS2:"5",MaxdimCS3:"6",MaxdimCS4:"7",MaxdimCS5:"8"},{PopDensity:"<5,000",MaxdimCS1:"5",MaxdimCS2:"6",MaxdimCS3:"7",MaxdimCS4:"8",MaxdimCS5:"9"},{PopDensity:"<50,000",MaxdimCS1:"6",MaxdimCS2:"7",MaxdimCS3:"8",MaxdimCS4:"9",MaxdimCS5:"10"},{PopDensity:">50,000",MaxdimCS1:"7",MaxdimCS2:"8",MaxdimCS3:"Not part of Sora",MaxdimCS4:"Not part of Sora",MaxdimCS5:"Not part of Sora"}],s=()=>{var re;let O=0,ae=e.maxCharacteristicDimension;e.UsemaxCharacteristicDimension==="OUI"&&(ae=e.maxCharacteristicDimensionClass),ae<=1?e.maxSpeed<=25?O=1:e.maxSpeed<=35?O=2:e.maxSpeed<=75?O=3:e.maxSpeed<=150?O=4:e.maxSpeed<=200?O=5:O=6:ae<=3?e.maxSpeed<=35?O=2:e.maxSpeed<=75?O=3:e.maxSpeed<=150?O=4:e.maxSpeed<=200?O=5:O=6:ae<=8?e.maxSpeed<=75?O=3:e.maxSpeed<=150?O=4:e.maxSpeed<=200?O=5:O=6:ae<=20?e.maxSpeed<=150?O=4:e.maxSpeed<=200?O=5:O=6:ae<=40&&e.maxSpeed<=200?O=5:O=6;let ee=e.UsemaxCharacteristicDimension;return console.error({UsemaxCharacteristicDimension:ee,iGRC_colIndex:O}),e.iGRC_colIndex=O,e.iGRCControledZone=parseInt((re=a.at(0))==null?void 0:re[`MaxdimCS${O}`]),O},c=()=>{let O=5,ee=.3+e.maxCharacteristicDimension/2,re=1;return e.ObstaclesModulation==="OUI"?re=.6:re=1,e.maxCharacteristicDimension<=1?O=2*ee*e.dGlide+Math.PI*Math.pow(ee,2):e.maxCharacteristicDimension<8?O=re*(2*ee*(e.dGlide+e.dSlideReduced)+Math.PI*ee*ee):e.maxCharacteristicDimension>=8&&(O=2*ee*(e.dGlide+e.dSlideReduced)+Math.PI*ee*ee),e.CriticalArea=parseFloat(O.toFixed(2)),parseFloat(O.toFixed(2))},d=()=>e.maxCharacteristicDimension<=1?35:10,h=()=>{if(e.DetailedJarusModel=="OUI"){let ae=Math.sqrt(2*290/e.MTOW),ee=.65,re=Math.abs(Math.cos(e.ThetaGlide*Math.PI/180))*e.maxSpeed,xe=.75*9.81,Te=Math.max((ee*re-ae)/xe,0),U=ee*re*Te-.5*xe*Te*Te;return e.dSlideReduced=parseFloat(U.toFixed(2)),e.vnonlethal=parseFloat(ae.toFixed(4)),e.vhorizontale=parseFloat(re.toFixed(4)),e.tsafe=parseFloat(Te.toFixed(4)),e.dSlideReduced}else return 0},f=()=>{let O=1.8;return e.DetailedJarusModel=="OUI"?(e.dGlide=parseFloat((O/Math.tan(e.ThetaGlide*Math.PI/180)).toFixed(2)),parseFloat(e.dGlide.toFixed(2))):0},g=()=>{let O=1;return e.maxCharacteristicDimension<=1?O=.1:e.maxCharacteristicDimension<=3?O=.2*e.maxCharacteristicDimension-.1:e.maxCharacteristicDimension<=8?O=.4*e.maxCharacteristicDimension-.7:e.maxCharacteristicDimension<=20?O=.8333*e.maxCharacteristicDimension-4.1667:e.maxCharacteristicDimension<=40?O=.625*e.maxCharacteristicDimension:O=25,O},v=()=>{let O=1,ae=9.81,ee=1.225,re=g(),_e=Math.sqrt(2*e.MTOW*ae/(ee*re*.8)),xe=.5*e.MTOW*Math.pow(_e,2),Te=1.4*Math.pow(xe,.2);xe<12e3?Te=2.3:xe>3125e3&&(Te=7);let B=.3+e.maxCharacteristicDimension/2;return O=Te*Math.PI*Math.pow(B,2),e.CriticalArea=parseFloat(O.toFixed(2)),console.error({CA:O}),O},_=()=>{let O=e.MTOW,ae=0,ee=0,re=0,ke=0,_e=0,xe=0,Te=0,U=e.maxSpeed,B=0,se=.1,le=9.81,Le=1.225,Be=.7,$e=.8,N=0,te=0,X=0,q=0,V=0,Z=0;const Q=[];for(let W=0;re>=-e.MinOperationalAltitude;W+=se)Z=Math.atan2(xe,U),ae=Math.sqrt(Math.pow(U,2)+Math.pow(xe,2)),N=-.5*Le*Math.pow(ae,2)*Be*$e,te=Math.cos(Z)*N,X=Math.sin(Z)*N,q=Z*(180/Math.PI),V=.5*O*Math.pow(ae,2),Q.push({t:W,HV_t0:U,VV_t0:xe,Velocity_t0:ae,ThetaImpactDeg:q,HD_t0:ke,VD_t0:ee,DragForce_t0:N,DragForceH_t0:te,DragForceV_t0:X,Ek:V}),B=U+te/O*se,Te=xe-(le-X/O)*se,re=ee+.5*(xe+Te)*se,_e=ke+.5*(U+B)*se,ee=re,ke=_e,xe=Te,U=B;return e.ThetaImpact=parseFloat(q.toFixed(2)),console.error({ThetaImpactDeg:q,results:Q}),[q,Q]},k=O=>{n({...e,GlidingCapability:O.target.value,assessmentGRB:O.target.value==="NON"?"Approche Simplifiée, Règle 1:1":e.assessmentGRB})},E=()=>{let O=1,ae=9.81,ee=e.VwindParachute;return e.assessmentGRB==="Approche Simplifiée, Règle 1:1"?O=e.ContingencyVolumeHeight+.5*e.maxCharacteristicDimension:e.assessmentGRB==="Approche Balistique (Hélicoptère ou Multirotor)"?O=e.maxSpeed*Math.sqrt(2*e.ContingencyVolumeHeight/ae)+.5*e.maxCharacteristicDimension:e.assessmentGRB==="Terminaison Aile Fixe"?O=e.ContingencyVolumeHeight/Math.tan(e.ThetaGlide*Math.PI/180):e.assessmentGRB==="Terminaison avec parachute"?O=e.maxSpeed*e.ParachuteTime+ee*e.ContingencyVolumeHeight/e.VzParachute:O=0,e.GRBWidth=parseFloat(O.toFixed(2)),parseFloat(O.toFixed(2))},j=O=>{const ae=O.target.checked;n({...e,GRB_FixedWingPowerOff:ae?"ACTIVATED":"NONACTIVE",assessmentGRB:"Approche Simplifiée, Règle 1:1"})},x=()=>(e.GRB_FixedWingPowerOff="ACTIVATED",!0),w=()=>{let O=1;return e.AdjacentVolumeWidthEqualMaxRange==="NON"?O=Math.max(3*60*e.maxSpeed*1,5e3):O=Math.min(3*60*e.maxSpeed*1,35e3),parseFloat(O.toFixed(1))},A=()=>{let O=1;return O=e.ContingencyVolumeHeight+150,e.AdjacentVolumeHeight=parseFloat(O.toFixed(1)),parseFloat(O.toFixed(1))},S=(O,ae,ee,re,ke)=>{let _e=1;return _e=O+ae+ee+re+ke,e.ContingencyVolumeWidth=parseFloat(_e.toFixed(1)),parseFloat(_e.toFixed(1))},T=(O,ae,ee)=>{let re=1;return re=O+ae+ee+e.FlightGeographyHeight,e.ContingencyVolumeHeight=parseFloat(re.toFixed(1)),parseFloat(re.toFixed(1))},F=()=>{let O=1,ae=1,ee=9.81;if(e.ContingencyParachuteManeuver==="OUI")O=e.ParachuteTime*e.maxSpeed,ae=parseFloat((e.ParachuteTime*.7*e.maxSpeed).toFixed(2));else return e.uasType==="Avion"||e.uasType==="Hybride/VTOL"||e.uasType==="Plus léger que l'air"?(O=e.maxSpeed*e.maxSpeed/(ee*Math.tan(e.PhiMaxPlane*Math.PI/180)),ae=.3*e.maxSpeed*e.maxSpeed/ee):e.uasType==="Hélicoptère"||e.uasType==="Multirotor"?(O=.5*e.maxSpeed*e.maxSpeed/(ee*Math.tan(e.ThetaStopCopter*Math.PI/180)),ae=.5*e.maxSpeed*e.maxSpeed/ee):e.uasType==="Autre"?(O=.5*e.maxSpeed*(90/e.turnRate),ae=.3*e.maxSpeed*e.maxSpeed/ee):O=NaN,e.ContingencyVolumeSCM=parseFloat(O.toFixed(2)),e.ContingencyVolumeHCM=parseFloat(ae.toFixed(2)),[O,ae]},I=()=>{let O=1;return e.CriticalArea<=6.5?O=1:e.CriticalArea<=65?O=3:e.CriticalArea<=650?O=8:e.CriticalArea<=6500?O=20:(e.CriticalArea<=65e3,O=40),e.maxCharacteristicDimensionClass=O,O},D=()=>{let O=6.5;return e.maxCharacteristicDimension<=1?O=6.5:e.maxCharacteristicDimension<=3?O=65:e.maxCharacteristicDimension<=8?O=650:e.maxCharacteristicDimension<=20?O=6500:(e.maxCharacteristicDimension<=40,O=65e3),e.NominalCriticalArea=O,O},[C,G]=ve.useState(null),Y=ve.useRef(null),z=ve.useRef(null),ie=async O=>{const ae=O.target.files;if(ae){const ee=ae[0],re=new FileReader;re.onload=ke=>{var se;const _e=(se=ke.target)==null?void 0:se.result;console.log("File content:",_e);const Te=new DOMParser().parseFromString(_e,"text/html");console.log("Parsed document:",Te);const U=Te.querySelectorAll("h2");let B=null;for(const le of U)if(le.textContent==="Population"){B=le;break}if(B){const le=B.nextElementSibling;if(le&&le.tagName==="TABLE"){const Le=le.outerHTML;e.droseraOutputResult=Le;const N=new DOMParser().parseFromString(Le,"text/html").querySelector("table"),te=N==null?void 0:N.querySelectorAll("tr"),X=[];te&&te.forEach(q=>{const V=q.querySelectorAll("td"),Z=[];V.forEach(Q=>{const W=parseFloat(Q.textContent||"");isNaN(W)||Z.push(W)}),Z.length>0&&X.push(Z)}),console.log("DroseraResTable:",X),e.DroseraResTable=X,n({...e,droseraOutputFile:[ee],populationTable:Le,DroseraResTable:X})}else console.error("No table found right after the <h2>Population</h2> title.")}else console.error("<h2>Population</h2> title not found.")},re.readAsText(ee)}},P=O=>{const ae=[...e.droseraOutputFile||[]];ae.splice(O,1),n({...e,droseraOutputFile:ae})},ue=()=>{const O=`<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="DroseraDataModel.xsl"?><DroseraDataModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="drosera.xsd">
<DroseraLite id="1">
  <mission id="2">
    ${e.trajgeoFiles[0].name.includes("Trajectoire_")&&e.trajgeoFiles.length>0?`<is_traj>true</is_traj>
         <is_zone>false</is_zone>
         <trajectory>%DRODIR%/share/drosera/Data/Trajectories/${e.trajgeoFiles[0].name}</trajectory>`:e.trajgeoFiles[0].name.includes("Zone_")&&e.trajgeoFiles.length>0?`<is_traj>false</is_traj>
         <is_zone>true</is_zone>
         <trajectory>drosera_dir/Data/Trajectories/${e.trajgeoFiles[0].name}</trajectory>`:""}
    ${e.assessmentTypeHauteurVol.includes("Hauteur de vol suivant trajectoire(s)")?`<compute_terrain_following>false</compute_terrain_following>
    <terrain_following unit="m">0</terrain_following>`:`<compute_terrain_following>true</compute_terrain_following>
    <terrain_following unit="m">${e.followTerrainHeight}</terrain_following>`}
    <cruise_speed unit="m/s">${e.VCruise}</cruise_speed>
    ${e.PopulationDensityModulation.includes("OUI")?"<compute_flight_start>true</compute_flight_start>":"<compute_flight_start>false</compute_flight_start>"}
    <flight_start>${e.assessmentStartTime}:00</flight_start>
  </mission>
  <iGRC id="3">
    ${e.assessmentCriticalArea.includes("JARUS")?"<compute_critical_area>true</compute_critical_area>":e.assessmentCriticalArea.includes("SORA")?"<compute_critical_area>false</compute_critical_area>":"<compute_critical_area>true</compute_critical_area>"}
    <critical_area unit="m²">${e.CriticalArea}</critical_area>
    ${e.assessmentCriticalArea.includes("JARUS")?"<use_igrc_table>false</use_igrc_table>":e.assessmentCriticalArea.includes("SORA")?"<use_igrc_table>true</use_igrc_table>":"<use_igrc_table>false</use_igrc_table>"}    
    <max_dim unit="m">${e.maxCharacteristicDimension}</max_dim>
    <max_speed unit="m/s">${e.maxSpeed}</max_speed>
  </iGRC>
  <ground_risk_assessment id="4">
    <areas_to_check id="12">
      <flight_geography_width unit="m">${e.FlightGeographyWidth}</flight_geography_width>
      <contingency_volume_width unit="m">${e.ContingencyVolumeWidth}</contingency_volume_width>
      <grb_range unit="m">${e.GRBWidth}</grb_range>
      <adjacent_range unit="m">${e.AdjacentVolumeWidth}</adjacent_range>
    </areas_to_check>
    <third_parties id="10">
      <assess_population>true</assess_population>
      ${e.PopulationDensityDataBase.includes("INSEE")?'<population_database ref="19"/>':'<population_database ref="18"/>'}
      <assess_road>true</assess_road>
      <assess_railway>true</assess_railway>
      <assess_powerline>true</assess_powerline>
    </third_parties>
    <other_maps id="11">
      <assess_relief>false</assess_relief>
      <d_relief unit="m">50</d_relief>
      <assess_safecrash>false</assess_safecrash>
    </other_maps>
    <result_directory>%DRODIR%/share/drosera/Data/Results/</result_directory>
    <verbose>false</verbose>
    <zip_result>false</zip_result>
  </ground_risk_assessment>
  <helpers id="5">
    <mission id="9" xsi:type="MissionHelp"/>
    <critical_area id="6" xsi:type="CriticalAreaHelp">
      <critical_area_jarus_calc id="14">
        <uav_wingspan unit="m">${e.maxCharacteristicDimension}</uav_wingspan>
        <d_glide unit="m">${e.dGlide}</d_glide>
        <compute_d_glide>true</compute_d_glide>
        <dglide_calc id="17">
          <theta unit="deg">${e.ThetaGlide}</theta>
        </dglide_calc>
        <d_slide unit="m">${e.dSlideReduced}</d_slide>
        <compute_d_slide>true</compute_d_slide>
        ${e.ObstaclesModulation.includes("OUI")?"<reduce_for_obstacles>true</reduce_for_obstacles>":"<reduce_for_obstacles>false</reduce_for_obstacles>"}
        <dslide_calc id="16">
          <theta unit="deg">${e.ThetaGlide}</theta>
          <max_speed unit="m/s">${e.maxSpeed}</max_speed>
          <uav_mass unit="kg">${e.MTOW}</uav_mass>
        </dslide_calc>
      </critical_area_jarus_calc>
      <critical_area_hiam_calc id="13">
        <uav_wingspan unit="m">${e.maxCharacteristicDimension}</uav_wingspan>
        <max_speed unit="m/s">${e.maxSpeed}</max_speed>
        <uav_mass unit="kg">${e.MTOW}</uav_mass>
      </critical_area_hiam_calc>
    </critical_area>
    <ground_risk_assessment id="7" xsi:type="GroundRiskAssessmentHelp"/>
    <ground_risk_buffer id="8" xsi:type="GroundRiskBufferHelp">
      <grb_calc id="15">
        <x unit="m">0</x>
        <y unit="m">0</y>
        <z unit="m">0</z>
        <vx unit="m/s">0</vx>
        <vy unit="m/s">0</vy>
        <vz unit="m/s">0</vz>
        <vwind unit="m/s">0</vwind>
        <etapes/>
        <grb unit="m">${e.GRBWidth}</grb>
      </grb_calc>
    </ground_risk_buffer>
  </helpers>
</DroseraLite>
 ${e.PopulationDensityDataBase.includes("INSEE")?'<BDDPopu id="19">':'<BDDPopu id="18">'}
  <nom>${e.PopulationDensityDataBase}</nom>
</BDDPopu>
</DroseraDataModel>`,ae=new Blob([O],{type:"application/xml"}),ee=URL.createObjectURL(ae),re=document.createElement("a");re.href=ee,re.download="DroseraInputFile".concat(".dro"),document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(ee)},pe=async O=>{const ae=O.target.files;if(ae){const ee=Array.from(ae);if(ee.filter(_e=>!_e.name.startsWith("Trajectoire_")&&!_e.name.startsWith("Zone_")&&(_e.name.endsWith(".kml")||_e.name.endsWith(".geojson"))).length>0){G("ERREUR : votre fichier doit avoir un nom de la forme 'Trajectoire_Nom-de-la-trajectoire' ou 'Zone_Nom-de-la-zone'et être un fichier .kml ou .geojson");return}G(null);const ke=await Promise.all(ee.map(async _e=>{const xe=await _e.text();return new File([xe],_e.name,{type:_e.type})}));n({...e,trajgeoFiles:[...e.trajgeoFiles||[],...ke]})}},ce=O=>{const ae=[...e.trajgeoFiles||[]];ae.splice(O,1),n({...e,trajgeoFiles:ae})};return l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Évaluation des Risques"}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Mission"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:"Option Hauteur de vol",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hauteur de Vol"})}),l.jsxs("select",{value:e.assessmentTypeHauteurVol,onChange:O=>n({...e,assessmentTypeHauteurVol:O.target.value,followTerrainHeight:O.target.value==="Hauteur de vol en suivi de terrain"?e.followTerrainHeight:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation",children:"Sélectionner une méthode d'évaluation"}),l.jsx("option",{value:"Hauteur de vol suivant trajectoire(s)",children:"Hauteur de vol suivant trajectoire(s)"}),l.jsx("option",{value:"Hauteur de vol en suivi de terrain",children:"Hauteur de vol en suivi de terrain"})]})]}),e.assessmentTypeHauteurVol==="Hauteur de vol en suivi de terrain"&&l.jsxs("div",{children:[l.jsx(Ee,{text:"Hauteur qui sera appliquée suivant la topographie terrain.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hauteur de la trajectoire"})}),l.jsx("input",{type:"number",value:e.followTerrainHeight,min:0,onChange:O=>n({...e,followTerrainHeight:parseInt(O.target.value)||0}),className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.followTerrainHeight===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse de Croisière (m/s)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.VCruise}),l.jsx("div",{}),l.jsx(Ee,{text:" XXX ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Moduler la densité de population en fonction du temps de vol le long de la trajectoire du drone"})}),l.jsxs("select",{value:e.PopulationDensityModulation,onChange:O=>n({...e,PopulationDensityModulation:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation",children:"Sélectionner une méthode d'évaluation"}),l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}),e.PopulationDensityModulation==="OUI"&&l.jsxs("div",{children:[l.jsx(Ee,{text:"Heure Locale spécifiée à l'étape #1",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Heure de Démarrage des opérations"})}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{type:"time",value:e.assessmentStartTime,onChange:O=>n({...e,assessmentStartTime:O.target.value}),className:"block w-full pr-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:!0}),l.jsx(lg,{className:"absolute right-3 top-2 h-5 w-5 text-gray-400"})]})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:[l.jsx("li",{children:"Un fichier par tajectoire nommé Trajectoire_Nom-de-la-trajectoire"}),l.jsx("li",{children:"Un fichier par Zone d'évolution nommé Zone_Nom-de-la-zone"})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trajectoire ou Zone d'évolution de l'UAS"})}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-500 transition-colors",children:[l.jsx("input",{ref:Y,type:"file",accept:".kml,.geojson",onChange:pe,className:"hidden",multiple:!0}),l.jsxs("div",{onClick:()=>{var O;return(O=Y.current)==null?void 0:O.click()},className:"flex items-center justify-center gap-2 cursor-pointer",children:[l.jsx(Mh,{className:"w-5 h-5 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Déposer des fichiers KML ou GeoJSON ici"})]})]}),C&&l.jsx("div",{className:"mt-2 p-2 bg-red-50 text-red-600 rounded",children:C}),e.trajgeoFiles&&e.trajgeoFiles.length>0&&l.jsx("div",{className:"mt-2 space-y-2",children:e.trajgeoFiles.map((O,ae)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded",children:[l.jsx("span",{className:"text-sm text-gray-600",children:O.name}),l.jsx("button",{onClick:()=>ce(ae),className:"text-red-500 hover:text-red-700",children:"Supprimer"})]},ae))}),l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Carte de visualisation des Trajectoires ou Zones d'évolution de l'UAS"}),l.jsx(T3,{geoFiles:e.trajgeoFiles||[]})]})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Determination de l'iGRC : Intrinsic Ground Risk Class"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Etape 1 : Determination de la surface critique de crash (Ac)."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valeur indicative du seuil de Surface Critique associée à la dimension caractéristique maximale de l'UAS"}),l.jsx("div",{children:l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-200",children:[l.jsx("th",{className:"bg-gray-200 py-2 px-4 border-b",children:"Dimension characteristique Max. (m)"}),l.jsx("th",{className:e.maxCharacteristicDimension<=1&&e.maxCharacteristicDimensionClass<=1?"bg-blue-200  text-white border-2 border-green-500":e.maxCharacteristicDimensionClass<=1?"bg-white py-2 px-4 border-2 border-green-500":"bg-white py-2 px-4 border-b",children:"≤1"}),l.jsx("th",{className:e.maxCharacteristicDimension<=3&&e.maxCharacteristicDimension>1?e.maxCharacteristicDimensionClass<=3&&e.maxCharacteristicDimensionClass>1?"bg-blue-500  text-white border-2 border-green-500":"bg-blue-500  text-white":e.maxCharacteristicDimensionClass<=3&&e.maxCharacteristicDimensionClass>1?"bg-white py-2 px-4 border-2 border-green-500":"bg-white py-2 px-4 border-b",children:"≤3"}),l.jsx("th",{className:e.maxCharacteristicDimension<=8&&e.maxCharacteristicDimension>3?e.maxCharacteristicDimensionClass<=8&&e.maxCharacteristicDimensionClass>3?"bg-blue-500  text-white border-2 border-green-500":"bg-blue-500  text-white":e.maxCharacteristicDimensionClass<=8&&e.maxCharacteristicDimensionClass>3?"bg-white py-2 px-4 border-2 border-green-500":"bg-white py-2 px-4 border-b",children:"≤8"}),l.jsx("th",{className:e.maxCharacteristicDimension<=20&&e.maxCharacteristicDimension>8?e.maxCharacteristicDimensionClass<=20&&e.maxCharacteristicDimensionClass>8?"bg-blue-500  text-white border-2 border-green-500":"bg-blue-500  text-white":e.maxCharacteristicDimensionClass<=20&&e.maxCharacteristicDimensionClass>8?"bg-white py-2 px-4 border-2 border-green-500":"bg-white py-2 px-4 border-b",children:"≤20"}),l.jsx("th",{className:e.maxCharacteristicDimension<=40&&e.maxCharacteristicDimension>20?e.maxCharacteristicDimensionClass<=40&&e.maxCharacteristicDimensionClass>20?"bg-blue-500  text-white border-2 border-green-500":"bg-blue-500  text-white":e.maxCharacteristicDimensionClass<=40&&e.maxCharacteristicDimensionClass>20?"bg-white py-2 px-4 border-2 border-green-500":"bg-white py-2 px-4 border-b",children:"≤40"})]})}),l.jsx("tbody",{children:l.jsxs("tr",{className:"bg-gray-200",children:[l.jsx("th",{className:"bg-gray-200 py-2 px-4 border-b",children:"Valeur Seuil de la Surface Critique (m²)"}),l.jsx("th",{className:e.maxCharacteristicDimension<=1&&e.maxCharacteristicDimensionClass<=1?"bg-blue-200  text-white border-2 border-green-500":e.maxCharacteristicDimensionClass<=1?"bg-white py-2 px-4 border-2 border-green-500":"bg-white py-2 px-4 border-b",children:"6.5"}),l.jsx("th",{className:e.maxCharacteristicDimension<=3&&e.maxCharacteristicDimension>1?e.maxCharacteristicDimensionClass<=3&&e.maxCharacteristicDimensionClass>1?"bg-blue-500  text-white border-2 border-green-500":"bg-blue-500  text-white":e.maxCharacteristicDimensionClass<=3&&e.maxCharacteristicDimensionClass>1?"bg-white py-2 px-4 border-2 border-green-500":"bg-white py-2 px-4 border-b",children:"65"}),l.jsx("th",{className:e.maxCharacteristicDimension<=8&&e.maxCharacteristicDimension>3?e.maxCharacteristicDimensionClass<=8&&e.maxCharacteristicDimensionClass>3?"bg-blue-500  text-white border-2 border-green-500":"bg-blue-500  text-white":e.maxCharacteristicDimensionClass<=8&&e.maxCharacteristicDimensionClass>3?"bg-white py-2 px-4 border-2 border-green-500":"bg-white py-2 px-4 border-b",children:"650"}),l.jsx("th",{className:e.maxCharacteristicDimension<=20&&e.maxCharacteristicDimension>8?e.maxCharacteristicDimensionClass<=20&&e.maxCharacteristicDimensionClass>8?"bg-blue-500  text-white border-2 border-green-500":"bg-blue-500  text-white":e.maxCharacteristicDimensionClass<=20&&e.maxCharacteristicDimensionClass>8?"bg-white py-2 px-4 border-2 border-green-500":"bg-white py-2 px-4 border-b",children:"6500"}),l.jsx("th",{className:e.maxCharacteristicDimension<=40&&e.maxCharacteristicDimension>20?e.maxCharacteristicDimensionClass<=40&&e.maxCharacteristicDimensionClass>20?"bg-blue-500  text-white border-2 border-green-500":"bg-blue-500  text-white":e.maxCharacteristicDimensionClass<=40&&e.maxCharacteristicDimensionClass>20?"bg-white py-2 px-4 border-2 border-green-500":"bg-white py-2 px-4 border-b",children:"65000"})]})})]})}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Valeur Seuil de la Surface Critique (m²) selon les tables SORA.",l.jsx("br",{}),"Cf. doc Guidelines for the Assessment of the Critical Area of an Unmanned Aircraft",l.jsx("br",{}),"Ces valeurs peuvent être trop conservatrices pour certains cas d'utilisation, c'est pourquoi le modèle JARUS et le modèle à fort angle d'impact ciblent ces scénarios. Si votre valeur de surface critique est inférieure à ces valeurs, vous pourrez vous repporter dans la colonne de dimension maximale associée lors de l'étape d'évaluation de votre iGRC."]}),children:l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Valeur ",l.jsx("b",{children:"Seuil"})," de Surface Critique selon les tables (m²)."]})}),l.jsx("input",{type:"number",value:D(),onChange:O=>n({...e,ThresholdCriticalArea:parseInt(O.target.value)||0}),className:"mt-1 block w-full rounded-md border-black-500 text-gray-500 border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:"Aussi appelée Critical Area ou Surface de Crash",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Surface Critique"})}),l.jsxs("select",{value:e.assessmentCriticalArea,onChange:O=>n({...e,assessmentCriticalArea:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation",children:"Sélectionner une méthode d'évaluation"}),l.jsx("option",{value:"Calcul selon les Modèles JARUS",children:"Calcul selon les Modèles JARUS"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"D'après la valeur de la Surface Critique (m²) le seuil applicable dans le tableau ci-dessus sera appliqué pour les calcul iGRC.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Classe de Dimension Caractéristique Max. Applicable (m)"})}),l.jsx("div",{children:l.jsx("input",{type:"number",value:I(),onChange:O=>n({...e,maxCharacteristicDimensionClass:parseInt(O.target.value)||0}),className:"mt-1 block w-full rounded-md border-blue-500 text-blue-500 border-2 font-bold shadow-sm focus:border-blue-800 focus:ring-blue-800",disabled:!0})})]})]}),e.assessmentCriticalArea==="Spécifiée par le déposant"?l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx(Ee,{text:"Valeur de la Surface Critique déclarée (m²) A justifier par l'opérateur en annexe ! ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valeur de la Surface Critique déclarée (m²)"})}),l.jsx("input",{type:"number",value:e.CriticalArea,onChange:O=>n({...e,CriticalArea:parseInt(O.target.value)||0}),step:"1.0",className:"mt-1 block w-full rounded-md border-black border-2 font-bold  shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Si vous choisissez de déclarer votre propre valeur de surface critique, veuillez apporter une justification. Celle-ci doit établir clairement le mode de calcul adopté. Vous devrez fournir en annexe un document détaillant chaque étape de calcul et leur base de justification.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre surface Critique"})}),l.jsx("textarea",{value:e.UserCriticalArea_Justification,onChange:O=>n({...e,UserCriticalArea_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):e.assessmentCriticalArea==="Calcul selon les Modèles JARUS"?l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valeur de la Surface Critique Calculée (m²)"}),l.jsx("div",{className:"mt-1 block w-full rounded-md border-black border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",children:e.GlidingCapability==="OUI"||e.HighImpactAngle==="NON"?parseFloat(c().toFixed(2)):parseFloat(v().toFixed(2))}),l.jsx("div",{className:"text-gray-100",children:I()}),e.uasType==="Hélicoptère"||e.uasType==="Multirotor"?l.jsxs("div",{children:[l.jsx(Ee,{text:" ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"L'appareil est-il capable de planer ?"})}),l.jsxs("select",{value:e.GlidingCapability,onChange:O=>n({...e,GlidingCapability:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation",children:"Sélectionner une méthode d'évaluation"}),l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]}),e.GlidingCapability==="NON"&&l.jsxs("div",{children:[l.jsx(Ee,{text:" ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"L'angle d'impact serait-il supérieur à 60° ?"})}),l.jsxs("select",{value:e.HighImpactAngle,onChange:O=>n({...e,HighImpactAngle:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation",children:"Sélectionner une méthode d'évaluation"}),l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}),l.jsx("br",{})]}):l.jsxs(l.Fragment,{children:["Gliding Capability : ",e.GlidingCapability="OUI"]})]}),(e.uasType==="Avion"||e.uasType==="Hybride/VTOL")&&e.GlidingCapability=="OUI"?l.jsx("img",{src:j3,alt:"JARUSorHIModelAirplane",className:"w-auto h-auto mb-6 mx-auto"}):(e.uasType==="Hélicoptère"||e.uasType==="Multirotor")&&e.HighImpactAngle==="NON"?l.jsx("img",{src:R3,alt:"JARUModel",className:"w-auto h-auto mb-6 mx-auto"}):(e.uasType==="Hélicoptère"||e.uasType==="Multirotor")&&e.HighImpactAngle==="OUI"?l.jsx("img",{src:O3,alt:"JARUSorHIModel",className:"w-auto h-auto mb-6 mx-auto"}):l.jsx("img",{src:D3,alt:"JARUSorHIModel",className:"w-auto h-auto mb-6 mx-auto"}),e.GlidingCapability==="OUI"||e.HighImpactAngle==="NON"?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Jarus Model"}),e.maxCharacteristicDimension>=1&&e.maxCharacteristicDimension<8?l.jsxs("div",{children:[l.jsx(Ee,{text:" Activable si la Dimensions caractéristiques maximales est comprise entre 1m et 8m (1m ≤ w < 8m) et en présence d'obstacles le justifiant.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Activer la réduction de 40% pour les obstacles"})}),l.jsxs("select",{value:e.ObstaclesModulation,onChange:O=>n({...e,ObstaclesModulation:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation",children:"Sélectionner une méthode d'évaluation"}),l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}):l.jsxs("div",{children:[l.jsx(Ee,{text:" Activable si la Dimensions caractéristiques maximales est comprise entre 1m et 8m (1m ≤ w < 8m) et en présence d'obstacles le justifiant.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Activer la réduction de 40% pour les obstacles"})}),l.jsx("select",{value:e.ObstaclesModulation,onChange:O=>n({...e,ObstaclesModulation:O.target.value}),disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:l.jsx("option",{value:"NON",children:"NON"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dimensions caractéristiques maximales (m)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.maxCharacteristicDimension})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse maximales (m/s)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.maxSpeed})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Données personalisées pour le modèle Jarus",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Activer les fonctionnalités de calcul détaillé du modèle"})}),l.jsxs("select",{value:e.DetailedJarusModel,onChange:O=>n({...e,DetailedJarusModel:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation",children:"Sélectionner une méthode d'évaluation"}),l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}),l.jsx("h3",{className:"text-lg font-medium",children:"   "}),e.DetailedJarusModel==="OUI"&&l.jsxs("div",{children:[l.jsx(Ee,{text:"Angle d'impact (de plané/fauché.) NB: Si Dimensions caractéristiques maximales ≤ 1m prendre 35°, et pour les appareil plus grand prendre 10°.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Theta_Glide (deg)"})}),l.jsx("input",{type:"number",value:e.ThetaGlide,onChange:O=>n({...e,ThetaGlide:parseFloat(O.target.value)||0}),step:"0.1",min:e.HighImpactAngle==="OUI"?60:0,max:e.HighImpactAngle==="OUI"?90:60,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.ThetaGlide===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,placeholder:d().toString()}),l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mass maximale MTOW (kg)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.MTOW})]}),e.DetailedJarusModel==="OUI"&&l.jsxs("div",{children:[l.jsx(Ee,{text:"Si votre Angle d'impact ne respecte pas les consignes, apporter une justification. NB: Si Dimensions caractéristiques maximales ≤ 1m prendre 35°, et pour les appareil plus grand prendre 10°.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Theta_Glide Justification"})}),l.jsx("textarea",{value:e.Theta_Glide_Justification,onChange:O=>n({...e,Theta_Glide_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Distance de plané à hauteur d'homme.",l.jsx("br",{}),"d_Glide = hperson/tan θ"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"d_Glide (m)"})}),l.jsx("input",{type:"number",value:e.dGlide,onChange:O=>n({...e,dGlide:parseFloat(O.target.value)||0}),step:"0.01",className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.dGlide===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,placeholder:f().toString()})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Distance de glissement/friction.",l.jsx("br",{}),"d_Slide,reduced = e·vhorizontal·tsafe − 0,5·Cg·g(tsafe)²"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"d_Slide,reduced (m)"})}),l.jsx("input",{type:"number",value:e.dSlideReduced,onChange:O=>n({...e,dSlideReduced:parseFloat(O.target.value)||0}),step:"0.01",className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.dSlideReduced===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,placeholder:h().toString()})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vhorizointal (s)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.vhorizontale})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lethal Speed (m/s)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.vnonlethal})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"tsafe (s)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.tsafe})]})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"High Impact Angle Model"}),l.jsxs("div",{className:"text-red-900 border-gray-300 rounded md:col-span-2",children:[l.jsx("b",{children:"Rappels"})," :",l.jsx("br",{}),l.jsx("b",{children:"Note 1 :"})," Pour évaluer la surface critique à l'aide de ce modèle, l'altitude minimale opérationnelle doit être fixée comme limite dans le manuel de l'opérateur.",l.jsx("br",{}),l.jsx("b",{children:"Note 2 :"})," Si l'exploitant choisit d'utiliser les résultats du modèle d'angle d'impact élevé, il doit procéder par itération pour trouver l'altitude de vol minimale qui passe le seuil de l'outil d'évaluation.",l.jsx("br",{}),"Si l'une des conditions ci-dessus n'est pas remplie, il convient d'appliquer le modèle d'angle d'impact faible conformément à l'annexe F du JARUS.",l.jsx("br",{})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse maximales (m/s)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.maxSpeed})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Altitude minimale opérationnelle.",l.jsx("br",{}),"Telle que fixée comme limite dans le manuel de l'opérateur."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Altitude minimale opérationnelle (m)"})}),l.jsx("input",{type:"number",value:e.MinOperationalAltitude,onChange:O=>{const ae=parseFloat(O.target.value)||0;n({...e,MinOperationalAltitude:ae}),_()},step:"0.1",min:0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsx("div",{}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ThetaImpact (deg)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:_().at(0)})]})]})]}):l.jsx("div",{})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Etape 2 : Determination des Volumes d'évolution, de Contingence Zone Tampon et Adjacente  (Flight Geometry)."}),l.jsx("img",{src:N3,alt:"Centres d'Essais Drones France",className:"w-auto h-auto mb-6 mx-auto"}),l.jsx("h2",{className:"text-lg font-medium",children:"Etape 2.1 : Determination du Volume d'évolution (Flight Geometry)."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Largeur du Volume d'évolution.",l.jsx("br",{}),"Attention : Des valeurs inférieures à 3 fois la dimension caractéristique maximale de l'appareil sont considérées irrecevables.",l.jsx("br",{}),"S_FG≥ 3.maxCharacteristicDimension à l'arrondis supérieur."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"S_FG : Largeur du Volume d'évolution (m)"})}),l.jsx("input",{type:"number",value:e.FlightGeographyWidth,onChange:O=>n({...e,FlightGeographyWidth:Math.max(parseFloat(O.target.value),Math.round(3*e.maxCharacteristicDimension+.49))||0}),step:"1.0",className:"mt-1 block w-full rounded-md border-green-900 border-2 font-bold bg-green-50 text-green-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:Math.round(3*e.maxCharacteristicDimension+.49).toString()})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Hauteur du Volume d'évolution.",l.jsx("br",{}),"Attention : Des valeurs inférieures à 3 fois la dimension caractéristique maximale de l'appareil sont considérées irrecevables.",l.jsx("br",{}),"H_FG≥ 3.maxCharacteristicDimension à l'arrondis supérieur"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"H_FG : Hauteur du Volume d'évolution (m)"})}),l.jsx("input",{type:"number",value:e.FlightGeographyHeight,onChange:O=>n({...e,FlightGeographyHeight:Math.max(parseFloat(O.target.value),Math.round(3*e.maxCharacteristicDimension+.49))||0}),step:"1.0",min:3*e.maxCharacteristicDimension,className:"mt-1 block w-full rounded-md border-green-900 border-2 font-bold bg-green-50 text-green-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:Math.round(3*e.maxCharacteristicDimension+.49).toString()})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Vous pouvez si vous le souhaitez apporter des éléments de justification de la définition de votre Volume d'évolution.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Volume d'évolution"})}),l.jsx("textarea",{value:e.FlightGeography_Justification,onChange:O=>n({...e,FlightGeography_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Etape 2.2 : Determination du volume de Contingence (S_CV : Contingency Volume)."}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Le Volume de Contingence : volume dans lequel le drone est considéré comme étant dans une situation anormale et qui requiert l’exécution des procédures de contingence appropriée pour le faire revenir au-dessus de sa zone d’évolution. A minima la taille du volume de contingence est calculée comme la distance parcourue par le drone à sa vitesse sol maximale durant le temps de réaction du pilote pour s’apercevoir qu’il est sorti du volume d’évolution et de prendre les mesures adaptées.  La limite interne du volume de contingence doit correspondre à la limite externe du volume d’évolution.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation du Volume de Contingence"})}),l.jsxs("select",{value:e.assessmentContingencyVolume,onChange:O=>n({...e,assessmentContingencyVolume:O.target.value,ContingencyVolume:O.target.value==="Spécifiée par le déposant"?e.ContingencyVolume:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation du Volume",children:"Sélectionner une méthode d'évaluation du Volume"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"}),l.jsx("option",{value:"Calcul selon le Guide",children:"Calcul selon le Guide"})]})]})]}),e.assessmentContingencyVolume==="Calcul selon le Guide"?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Largeur du Volume de Contingence.",l.jsx("br",{}),"Attention : Des valeurs inférieures à la Largeur du Volume d'évolution sont considérées irrecevables.",l.jsx("br",{}),"S_CV ≥ S_FG"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"S_CV : Largeur du Volume de Contingence (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeWidth,className:"mt-1 block w-full rounded-md border-orange-900 border-2 font-bold bg-orange-50 text-orange-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:S(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM),disabled:!0})]}),l.jsx("div",{children:e.ContingencyVolumeSGPS===void 0||e.ContingencyVolumeSGPS===null||e.ContingencyVolumeSpos===void 0||e.ContingencyVolumeSpos===null||e.ContingencyVolumeSK===void 0||e.ContingencyVolumeSK===null||e.ContingencyVolumeSRZ===void 0||e.ContingencyVolumeSRZ===null||e.ContingencyVolumeSCM===void 0||e.ContingencyVolumeSCM===null?l.jsxs("div",{className:"mt-2 p-2 bg-red-50 text-red-600 rounded",children:["Attention : une donnée est indéfinie ou nulle. Les valeurs suivantes sont utilisées pour le calcul de la largeur du volume de contingence. Vérifier la cohérence avec l'affichage.",l.jsx("br",{}),"GPS - Inaccuracy = ",e.ContingencyVolumeSGPS," m",l.jsx("br",{}),"Position Holding = ",e.ContingencyVolumeSpos," m",l.jsx("br",{}),"Map error = ",e.ContingencyVolumeSK," m",l.jsx("br",{}),"Temps de Réaction = ",e.ContingencyTimeRZ," s",l.jsx("br",{}),"Distance de réaction S_RZ = ",e.ContingencyVolumeSRZ," m",l.jsx("br",{}),"Manoeuvre de contigence S_CM = ",e.ContingencyVolumeSCM," m"]}):l.jsx(Ee,{text:l.jsxs("div",{children:["Les valeurs suivantes sont utilisées pour le calcul de la largeur du volume de contingence. Vérifier la cohérence avec l'affichage.",l.jsx("br",{}),"GPS - Inaccuracy = ",e.ContingencyVolumeSGPS," m",l.jsx("br",{}),"Position Holding = ",e.ContingencyVolumeSpos," m",l.jsx("br",{}),"Map error = ",e.ContingencyVolumeSK," m",l.jsx("br",{}),"Temps de Réaction = ",e.ContingencyTimeRZ," s",l.jsx("br",{}),"Distance de réaction S_RZ = ",e.ContingencyVolumeSRZ," m",l.jsx("br",{}),"Manoeuvre de contigence S_CM = ",e.ContingencyVolumeSCM," m"]}),children:l.jsx("div",{children:l.jsx("button",{onClick:()=>S(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM),className:"rounded-md border-green-200 border-2 font-bold text-green-500 hover:text-blue-200",children:"Calculer"})})})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Hauteur du Volume de Contingence.",l.jsx("br",{}),"Attention : Des valeurs inférieures à la Hauteur du Volume d'évolution sont considérées irrecevables.",l.jsx("br",{}),"H_CV ≥ H_FG"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"H_CV : Hauteur du Volume de Contingence (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeHeight,className:"mt-1 block w-full rounded-md border-orange-900 border-2 font-bold bg-orange-50 text-orange-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:e.FlightGeographyHeight,disabled:!0})]}),l.jsx("div",{children:l.jsx(Ee,{text:l.jsxs("div",{children:["Les valeurs suivantes sont utilisées pour le calcul de la largeur du volume de contingence. Vérifier la cohérence avec l'affichage.",l.jsx("br",{}),"Erreur de mesure d'altitude = ",e.ContingencyVolumeHbaro," m",l.jsx("br",{}),"Position Holding = ",e.ContingencyVolumeSpos," m",l.jsx("br",{}),"Temps de Réaction = ",e.ContingencyTimeRZ," s",l.jsx("br",{}),"Altitude de réaction H_RZ = ",e.ContingencyVolumeHRZ," m",l.jsx("br",{}),"Altitude de contigence H_CM = ",e.ContingencyVolumeHCM," m"]}),children:l.jsx("div",{children:l.jsx("button",{onClick:()=>T(e.ContingencyVolumeHbaro,e.ContingencyVolumeHRZ,e.ContingencyVolumeHCM),className:"rounded-md border-green-200 border-2 font-bold text-green-500 hover:text-blue-200",children:"Calculer"})})})})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["GPS - Inaccuracy",l.jsx("br",{}),"En règle général, on assumera une erreur ≥ 3 mètres.",l.jsx("br",{}),"..."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GPS - Inaccuracy (m)"})}),l.jsx("input",{type:"number",defaultValue:1,value:e.ContingencyVolumeSGPS,onChange:O=>n({...e,ContingencyVolumeSGPS:parseFloat(O.target.value),ContingencyVolumeWidth:S(parseFloat(O.target.value),e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM)}),step:"0.1",min:0,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.ContingencyVolumeSGPS===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,placeholder:"TO BE DEFINED"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Erreur de mesure d'altitude.",l.jsx("br",{}),"En règle général, on assumera une erreur de 1 mètre pour une mesure barométrique.",l.jsx("br",{}),"Et, on assumera une erreur de 4 mètre pour une mesure GPS."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Erreur de mesure d'altitude (m)"})}),l.jsx("input",{type:"number",defaultValue:1,value:e.ContingencyVolumeHbaro,onChange:O=>n({...e,ContingencyVolumeHbaro:parseFloat(O.target.value),ContingencyVolumeHeight:T(parseFloat(O.target.value),e.ContingencyVolumeHRZ,e.ContingencyVolumeHCM)}),step:"0.1",min:0,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.ContingencyVolumeHbaro===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,placeholder:"TO BE DEFINED"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Positionnement du maintien de la position (Position Holding)",l.jsx("br",{}),"En règle général, on assumera une erreur ≥ 3 mètres.",l.jsx("br",{}),"..."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Position Holding (m)"})}),l.jsx("input",{type:"number",defaultValue:3,value:e.ContingencyVolumeSpos,onChange:O=>n({...e,ContingencyVolumeSpos:parseFloat(O.target.value),ContingencyVolumeWidth:S(e.ContingencyVolumeSGPS,parseFloat(O.target.value),e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM)}),step:"0.1",min:.5,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.ContingencyVolumeSpos===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,placeholder:"TO BE DEFINED"})]}),l.jsx("div",{}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Map error",l.jsx("br",{}),"En règle général, on assumera une erreur ≥ 1 mètre.",l.jsx("br",{}),"..."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Map error (m)"})}),l.jsx("input",{type:"number",defaultValue:1,value:e.ContingencyVolumeSK,onChange:O=>n({...e,ContingencyVolumeSK:parseFloat(O.target.value),ContingencyVolumeWidth:S(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,parseFloat(O.target.value),e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM)}),step:"0.1",min:0,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.ContingencyVolumeSK===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,placeholder:"TO BE DEFINED"})]}),l.jsx("div",{}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Temps de Réaction de l'opérateur ou du système.",l.jsx("br",{}),"Temps nécessaire pour que l'opérateur prenne conscience de la situation et réagisse.",l.jsx("br",{}),"Cas de l'initialisation manuelle de mesures de contingence. t_RZ ≥ 1 seconde",l.jsx("br",{}),"En cas d'automatisation type Geofence par exemple, ce temps peut-être plus court.  Dans ce cas apporter une justification."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Temps de Réaction de l'opérateur ou du système (s)"})}),l.jsx("input",{type:"number",defaultValue:1,value:e.ContingencyTimeRZ,onChange:O=>n({...e,ContingencyTimeRZ:parseFloat(O.target.value),ContingencyVolumeSRZ:parseFloat(O.target.value)*e.maxSpeed,ContingencyVolumeHRZ:parseFloat(O.target.value)*.7*e.maxSpeed,ContingencyVolumeWidth:S(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,parseFloat(O.target.value)*e.maxSpeed,e.ContingencyVolumeSCM),ContingencyVolumeHeight:T(e.ContingencyVolumeHbaro,parseFloat(O.target.value)*.7*e.maxSpeed,e.ContingencyVolumeHCM)}),step:"0.1",min:0,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.ContingencyTimeRZ===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,placeholder:"TO BE DEFINED"})]}),l.jsx("div",{}),l.jsx("div",{children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Distance de réaction S_RZ (m)"}),l.jsx("input",{type:"number",value:e.ContingencyVolumeSRZ,className:"mt-1 block w-full rounded-md border-grey-200 border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:(1*e.maxSpeed).toString(),disabled:!0})]})}),l.jsx("div",{children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Altitude de réaction H_RZ (m)"}),l.jsx("input",{type:"number",value:e.ContingencyVolumeHRZ,className:"mt-1 block w-full rounded-md border-grey-200 border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:(1*.7*e.maxSpeed).toString(),disabled:!0})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Manoeuvre de Contingence : Activation du Parachute"}),l.jsx("input",{type:"checkbox",checked:(e.ContingencyParachuteManeuver||[]).includes("OUI"),onChange:O=>{var ae,ee;return n({...e,ContingencyParachuteManeuver:O.target.checked?"OUI":"NON",ContingencyVolumeWidth:S(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM),ContingencyVolumeHeight:T(e.ContingencyVolumeHbaro,e.ContingencyVolumeHRZ,e.ContingencyVolumeHCM),ContingencyVolumeSCM:(ae=F())==null?void 0:ae.at(0),ContingencyVolumeHCM:(ee=F())==null?void 0:ee.at(1)})},className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),(e.ContingencyParachuteManeuver||[]).includes("OUI")?l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Temps d'activation du parachute (s)",l.jsx("br",{}),"Doit prendre en compte le temps d'ouverture et de mise en descente.",l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Temps d'activation du parachute (s)"})}),l.jsx("input",{type:"number",value:e.ParachuteTime,defaultValue:1,onChange:O=>n({...e,ParachuteTime:parseFloat(O.target.value),ContingencyVolumeSCM:parseFloat(O.target.value)*e.maxSpeed,ContingencyVolumeHCM:parseFloat((parseFloat(O.target.value)*.7*e.maxSpeed).toFixed(2)),ContingencyVolumeWidth:S(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,parseFloat(O.target.value)*e.maxSpeed),ContingencyVolumeHeight:T(e.ContingencyVolumeHbaro,e.ContingencyVolumeHRZ,parseFloat((parseFloat(O.target.value)*.7*e.maxSpeed).toFixed(2)))}),step:"0.1",min:1,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.ParachuteTime===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,placeholder:"TO BE DEFINED"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Manoeuvre de contigence S_CM (m)",l.jsx("br",{}),"Alternative : Activation du Parachute.",l.jsx("br",{}),"S_CM = Vmax·t_parachute",l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Manoeuvre de contigence S_CM (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeSCM,className:"mt-1 block w-full rounded-md border-grey-200 border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:(1*e.maxSpeed).toString(),disabled:!0})]})]}):l.jsxs("div",{children:[(e.uasType||[]).includes("Héli")||(e.uasType||[]).includes("Multi")?l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["ThetaStopCopter (deg)",l.jsx("br",{}),"Hypothèses : ThrustWeightRatio supérieur à 2.",l.jsx("br",{}),"ThetaStopCopter inf 45°",l.jsx("br",{}),"en assumant un angle de roulis φ nul."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Theta Max Stop (deg)"})}),l.jsx("input",{type:"number",defaultValue:45,value:e.ThetaStopCopter,onChange:O=>n({...e,ThetaStopCopter:parseFloat(O.target.value),ContingencyVolumeWidth:S(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM),ContingencyVolumeHeight:T(e.ContingencyVolumeHbaro,e.ContingencyVolumeHRZ,e.ContingencyVolumeHCM)}),step:"1.0",min:0,max:45,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"TO BE DEFINED"})]}):l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["PhiMaxPlane (deg)",l.jsx("br",{}),"Hypothèses : Virrage à 180° en mode Avion.",l.jsx("br",{}),"PhiMaxPlane inf φ 30°",l.jsx("br",{}),"en assumant un angle de roulis  nul."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"PhiMaxPlane (deg)"})}),l.jsx("input",{type:"number",defaultValue:30,value:e.PhiMaxPlane,onChange:O=>n({...e,PhiMaxPlane:parseFloat(O.target.value),ContingencyVolumeWidth:S(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM),ContingencyVolumeHeight:T(e.ContingencyVolumeHbaro,e.ContingencyVolumeHRZ,e.ContingencyVolumeHCM)}),step:"1.0",min:0,max:30,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.PhiMaxPlane===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,placeholder:"TO BE DEFINED"})]}),l.jsx(Ee,{text:l.jsxs("div",{children:["Manoeuvre de contigence S_CM (m)",l.jsx("br",{}),"* Hélicoptère/Multi-rotor ≡ Arrêt d'urgence",l.jsx("br",{}),"S_CM = 1/2·Vmax²/(g·tan(θ))",l.jsx("br",{}),"* Avion/Hybride/Plus léger que l'air ≡ Virage à 180°",l.jsx("br",{}),"S_CM = Vmax²/(g·tan(φ))",l.jsx("br",{}),"en assumant un angle de roulis φ de 30°.",l.jsx("br",{}),"ou bien",l.jsx("br",{}),"S_CM = 180°/(2·taux de virage max)"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Manoeuvre de contigence S_CM (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeSCM,onChange:O=>n({...e,ContingencyVolumeSCM:parseFloat(O.target.value)}),step:"0.1",min:1,className:"mt-1 block w-full rounded-md border-grey-200 border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:(he=F())==null?void 0:he.at(0),disabled:!0})]})]}),l.jsxs("div",{children:[l.jsx("br",{}),l.jsx("br",{}),l.jsx("br",{}),l.jsx("br",{}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Manoeuvre de contigence verticale H_CM (m)",l.jsx("br",{}),"Alternative : Activation du Parachute.",l.jsx("br",{}),"H_CM = Vmax·t_parachute·0.7",l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Altitude de contigence H_CM (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeHCM,className:"mt-1 block w-full rounded-md border-grey-200 border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:(1*.7*e.maxSpeed).toString(),disabled:!0})]})]})]}):e.assessmentContingencyVolume==="Spécifiée par le déposant"?l.jsxs("div",{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Largeur du Volume de Contingence.",l.jsx("br",{}),"Attention : Des valeurs inférieures à la Largeur du Volume d'évolution sont considérées irrecevables.",l.jsx("br",{}),"S_CV ≥ S_FG"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"S_CV : Largeur du Volume de Contingence (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeWidth,onChange:O=>n({...e,ContingencyVolumeWidth:parseFloat(O.target.value)}),step:"0.1",min:e.FlightGeographyWidth,className:"mt-1 block w-full rounded-md border-orange-900 border-2 font-bold bg-orange-50 text-orange-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:e.FlightGeographyWidth})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Hauteur du Volume de Contingence.",l.jsx("br",{}),"Attention : Des valeurs inférieures à la Hauteur du Volume d'évolution sont considérées irrecevables.",l.jsx("br",{}),"H_CV ≥ H_FG"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"H_CV : Hauteur du Volume de Contingence (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeHeight,onChange:O=>n({...e,ContingencyVolumeHeight:Math.max(parseFloat(O.target.value),e.FlightGeographyHeight)||0}),step:"0.1",min:e.FlightGeographyHeight,className:"mt-1 block w-full rounded-md border-orange-900 border-2 font-bold bg-orange-50 text-orange-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:e.FlightGeographyHeight})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Volume de Contingence"})}),l.jsx("textarea",{value:e.ContingencyVolume_Justification,onChange:O=>n({...e,ContingencyVolume_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):l.jsx("div",{}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Etape 2.3 : Determination du Zone Tampon (Ground Risk Buffer)."}),(e.uasType==="Avion"||e.uasType==="Hybride/VTOL")&&e.GlidingCapability==="OUI"?l.jsxs("div",{children:[l.jsx(Ee,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:O=>n({...e,assessmentGRB:O.target.value,GRB:O.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Terminaison Aile Fixe",children:"Terminaison Aile Fixe"}),l.jsx("option",{value:"Terminaison avec parachute",children:"Terminaison avec parachute"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):(e.uasType==="Avion"||e.uasType==="Hybride/VTOL")&&e.GlidingCapability==="NON"?l.jsxs("div",{children:[l.jsx(Ee,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:O=>n({...e,assessmentGRB:O.target.value,GRB:O.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Terminaison avec parachute",children:"Terminaison avec parachute"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):(e.uasType==="Avion"||e.uasType==="Hybride/VTOL")&&(e.GlidingCapability===void 0||e.GlidingCapability===null)?l.jsxs("div",{children:[l.jsx(Ee,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:O=>n({...e,assessmentGRB:O.target.value,GRB:O.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Terminaison Aile Fixe",children:"Terminaison Aile Fixe"}),l.jsx("option",{value:"Terminaison avec parachute",children:"Terminaison avec parachute"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):e.uasType==="Hélicoptère"?l.jsxs("div",{children:[l.jsx(Ee,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:O=>n({...e,assessmentGRB:O.target.value,GRB:O.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Approche Balistique (Hélicoptère ou Multirotor)",children:"Approche Balistique (Hélicoptère ou Multirotor)"}),l.jsx("option",{value:"Terminaison avec parachute",children:"Terminaison avec parachute"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):e.uasType==="Multirotor"?l.jsxs("div",{children:[l.jsx(Ee,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:O=>n({...e,assessmentGRB:O.target.value,GRB:O.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Approche Balistique (Hélicoptère ou Multirotor)",children:"Approche Balistique (Hélicoptère ou Multirotor)"}),l.jsx("option",{value:"Terminaison avec parachute",children:"Terminaison avec parachute"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):e.uasType==="Plus léger que l'air"?l.jsxs("div",{children:[l.jsx(Ee,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:O=>n({...e,assessmentGRB:O.target.value,GRB:O.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):l.jsxs("div",{children:[l.jsx(Ee,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:O=>n({...e,assessmentGRB:O.target.value,GRB:O.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]})]}),l.jsxs("div",{children:[e.uasType==="Avion"||e.uasType==="Hybride/VTOL"?l.jsxs("div",{className:"text-red-900 border-gray-300 rounded",children:[l.jsx("b",{children:"Rappels"})," : Type d'UAS comme ",l.jsx("b",{children:e.uasType}),l.jsx("br",{}),"Vous devez définir si votre appareil peut effectuer un vol plané.",l.jsx("br",{}),"Attention de bien rester cohérent si vous changez votre déclaration vis à vis de celle utilisez dans le modèle JARUS pour l'évaluation de la zone de crash.",l.jsx("br",{}),"Si aucune capacité de vol plané n'est possible, seule la règle 1:1 ou la terminaison avec parachute peuvent être appliquées.",l.jsx("br",{}),"Sinon, définissez votre propre GRB.",l.jsx("br",{}),l.jsx("br",{})]}):e.uasType==="Hélicoptère"?l.jsxs("div",{className:"text-red-900 border-gray-300 rounded",children:[l.jsx("b",{children:"Rappels"})," : Type d'UAS comme ",l.jsx("b",{children:e.uasType}),l.jsx("br",{}),"Seules les règles compatibles peuvent être appliquées.",l.jsx("br",{}),"Sinon, définissez votre propre GRB.",l.jsx("br",{}),l.jsx("br",{})]}):e.uasType==="Multirotor"?l.jsxs("div",{className:"text-red-900 border-gray-300 rounded",children:[l.jsx("b",{children:"Rappels"})," : Type d'UAS comme ",l.jsx("b",{children:e.uasType}),l.jsx("br",{}),"Seules les règles compatibles peuvent être appliquées.",l.jsx("br",{}),"Sinon, définissez votre propre GRB.",l.jsx("br",{}),l.jsx("br",{})]}):e.uasType==="Plus léger que l'air"?l.jsxs("div",{className:"text-red-900 border-gray-300 rounded",children:[l.jsx("b",{children:"Rappels"})," : Type d'UAS comme ",l.jsx("b",{children:e.uasType}),l.jsx("br",{}),"Seule la règle 1:1 peut être appliquée.",l.jsx("br",{}),"Sinon, définissez votre propre GRB.",l.jsx("br",{}),l.jsx("br",{})]}):l.jsxs("div",{className:"text-red-900 border-gray-300 rounded",children:[l.jsx("b",{children:"-Rappels"})," : Type d'UAS comme ",l.jsx("b",{children:e.uasType}),l.jsx("br",{}),"Seule la règle 1:1 peut être appliquée.",l.jsx("br",{}),"Sinon, définissez votre propre GRB.",l.jsx("br",{}),l.jsx("br",{})]}),e.assessmentGRB==="Approche Simplifiée, Règle 1:1"?l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Largeur de votre Zone Tampon (Ground Risk Buffer)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRB : Largeur de votre Zone Tampon (m)"})}),l.jsx("input",{type:"number",value:E(),onChange:O=>n({...e,GRBWidth:parseFloat(O.target.value)}),className:"mt-1 block w-full rounded-md border-red-900 border-2 font-bold bg-red-50 text-red-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Not yet computed",disabled:!0})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Zone Tampon (Ground Risk Buffer)"})}),l.jsx("textarea",{value:e.GRB_Justification,onChange:O=>n({...e,GRB_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):e.assessmentGRB==="Approche Balistique (Hélicoptère ou Multirotor)"?l.jsxs("div",{children:[l.jsx("label",{children:"'Approche Balistique (Hélicoptère ou Multirotor)'"}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Largeur de votre Zone Tampon (Ground Risk Buffer)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRB : Largeur de votre Zone Tampon (m)"})}),l.jsx("input",{type:"number",value:E(),onChange:O=>n({...e,GRBWidth:parseFloat(O.target.value)}),className:"mt-1 block w-full rounded-md border-red-900 border-2 font-bold bg-red-50 text-red-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Not yet computed",disabled:!0})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Zone Tampon (Ground Risk Buffer)"})}),l.jsx("textarea",{value:e.GRB_Justification,onChange:O=>n({...e,GRB_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):e.assessmentGRB==="Terminaison Aile Fixe"?l.jsxs("div",{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Coupure de l'alimentation."}),l.jsx("input",{type:"checkbox",onChange:j,className:"h-4 w-4 text-blue-600 border-gray-300 rounded",defaultChecked:x()})]}),e.GRB_FixedWingPowerOff.includes("ACTIVATED")?l.jsx("div",{children:l.jsxs("div",{children:[l.jsx("b",{children:"Rappel :"}),'Vous avez déclaré "',e.GlidingCapability,`" pour la capacité de vol plané dans le Modèle JARUS pour l'évaluation de la Zone de Crash.`,l.jsx("br",{}),l.jsx("br",{}),'Sinon, définissez Theta_Glide en cohérence avec celui utilisé dans le Modèle JARUS, soit "',e.ThetaGlide,'°".']})}):l.jsxs("div",{children:["Si vous n'activé pas de Coupure de l'alimentation la règle du 1:1 sera appliquée car GRB_FixedWingPowerOff = ",e.GRB_FixedWingPowerOff]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:" ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"L'appareil est-il capable de planer ?"})}),l.jsxs("select",{value:e.GlidingCapability,onChange:k,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation",children:"Sélectionner une méthode d'évaluation"}),l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Angle d'impact (de plané/fauché.) NB: Si Dimensions caractéristiques maximales ≤ 1m prendre 35°, et pour les appareil plus grand prendre 10°.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Theta_Glide (deg)"})}),l.jsx("input",{type:"number",value:e.ThetaGlide,onChange:O=>n({...e,ThetaGlide:parseFloat(O.target.value)||0}),step:"0.1",min:0,max:90,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.ThetaGlide===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Largeur de votre Zone Tampon (Ground Risk Buffer)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRB : Largeur de votre Zone Tampon (m)"})}),l.jsx("input",{type:"number",value:E(),onChange:O=>n({...e,GRBWidth:parseFloat(O.target.value)}),className:"mt-1 block w-full rounded-md border-red-900 border-2 font-bold bg-red-50 text-red-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Not yet computed",disabled:!0})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Zone Tampon (Ground Risk Buffer)"})}),l.jsx("textarea",{value:e.GRB_Justification,onChange:O=>n({...e,GRB_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):e.assessmentGRB==="Terminaison avec parachute"?l.jsxs("div",{children:[e.ParachuteTime&&(e.ContingencyParachuteManeuver||[]).includes("OUI")?l.jsxs("label",{children:["Temps d'activation du parachute déjà définie pour la manoeuvre de contingence : ",e.ParachuteTime,"(s)"]}):l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Temps d'activation du parachute (s)",l.jsx("br",{}),"Doit prendre en compte le temps d'ouverture et de mise en descente.",l.jsx("br",{}),"Ne peut être inférieur à 1 seconde."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Temps d'activation du parachute (s)"})}),l.jsx("input",{type:"number",value:e.ParachuteTime,defaultValue:1,onChange:O=>n({...e,ParachuteTime:parseFloat(O.target.value),GRBWidth:E()}),step:"0.1",min:1,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"1.0"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Vitesse de déscente sous parachute (m/s)",l.jsx("br",{}),"Généralement de l'ordred de 6.0 m/s",l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse de déscente sous parachute (m/s)"})}),l.jsx("input",{type:"number",value:e.VzParachute,onChange:O=>n({...e,VzParachute:parseFloat(O.target.value)}),step:"0.1",min:3,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${e.VzParachute===void 0?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,placeholder:"6.0"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Vitesse du vent considéré pour la déscente sous parachute (m/s)",l.jsx("br",{}),"Elle doit être comprise entre la Vitesse maximale du vent au décollage et la Vitesse maximale de tenue à la rafale en évolution .",l.jsx("br",{}),`Ces valeur ont été déclarées dans la section "Limitations environnementales" à l'Étape 1 : Concept d'opérations / ConOps`]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse du vent considéré pour la déscente sous parachute (m/s)"})}),l.jsx("input",{type:"number",value:e.VwindParachute,onChange:O=>n({...e,VwindParachute:parseFloat(O.target.value)}),step:"0.1",min:e.environmentalLimitations.maxWindSpeedTakeoff,max:e.environmentalLimitations.maxGustSpeed,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:e.environmentalLimitations.maxWindSpeedTakeoff.toString()})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Largeur de votre Zone Tampon (Ground Risk Buffer)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRB : Largeur de votre Zone Tampon (m)"})}),l.jsx("input",{type:"number",value:E(),onChange:O=>n({...e,GRBWidth:parseFloat(O.target.value)}),className:"mt-1 block w-full rounded-md border-red-900 border-2 font-bold bg-red-50 text-red-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Not yet computed",disabled:!0})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Zone Tampon (Ground Risk Buffer)"})}),l.jsx("textarea",{value:e.GRB_Justification,onChange:O=>n({...e,GRB_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):e.assessmentGRB==="Spécifiée par le déposant"?l.jsxs("div",{children:[l.jsx("label",{children:"'Autre Terminaison à préciser'"}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Largeur de votre Zone Tampon (Ground Risk Buffer)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRB : Largeur de votre Zone Tampon (m)"})}),l.jsx("input",{type:"number",value:e.GRBWidth,onChange:O=>n({...e,GRBWidth:parseFloat(O.target.value)}),step:"0.1",min:e.FlightGeographyWidth,className:"mt-1 block w-full rounded-md border-red-900 border-2 font-bold bg-red-50 text-red-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:e.FlightGeographyWidth})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Zone Tampon (Ground Risk Buffer)"})}),l.jsx("textarea",{value:e.GRB_Justification,onChange:O=>n({...e,GRB_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):l.jsx("div",{})]}),l.jsx("h2",{className:"text-lg font-medium",children:"Etape 2.4 : Determination de la Zone Adjacente (Adjacent Volume)."}),l.jsx("img",{src:P3,alt:"AdjacenteArea",className:"w-auto h-auto mb-6 mx-auto"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Largeur Zone Adjacente (Adjacent Volume)",l.jsx("br",{}),"Calculé selon l'hyposthèse que l'UAS vole à sa vitesse maximale de croisière durant 3 minutes.",l.jsx("br",{}),"5 km < Largeur Zone Adjacente < 35 km",l.jsx("br",{}),"Sauf si le déposant peut démontrer que la portée maximale de l'UAS n'excèdera pas la condition des 3minutes à sa vitesse maximale de croisière."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Largeur Zone Adjacente (m)"})}),l.jsx("input",{type:"number",value:w(),onChange:O=>n({...e,AdjacentVolumeWidth:parseFloat(O.target.value)}),className:"mt-1 block w-full rounded-md border-black border-2 font-bold bg-gray-400 text-black  border-2 font-bold  shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:5e3,disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Limité à la valeur maximale du Range atteignable par l'UAS en 3 minutes."}),l.jsx("input",{type:"checkbox",checked:(e.AdjacentVolumeWidthEqualMaxRange||[]).includes("OUI"),onChange:O=>n({...e,AdjacentVolumeWidthEqualMaxRange:O.target.checked?"OUI":"NON"}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Hauteur Zone Adjacente (Adjacent Volume)",l.jsx("br",{}),"𝐻𝐴𝑉 = 𝐻𝐶𝑉 + 150 𝑚",l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hauteur Zone Adjacente (m)"})}),l.jsx("input",{type:"number",value:A(),onChange:O=>n({...e,AdjacentVolumeHeight:parseFloat(O.target.value)}),className:"mt-1 block w-full rounded-md border-black border-2 font-bold bg-gray-400 text-black  border-2 font-bold  shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:0,disabled:!0})]}),e.AdjacentVolumeWidthEqualMaxRange==="OUI"?l.jsxs("div",{children:[l.jsx(Ee,{text:"Vous devez apporter des éléments de justification de la définition de votre Zone Adjacente.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Zone Adjacente (Adjacent Volume)"})}),l.jsx("textarea",{value:e.AdjacentVolume_Justification,onChange:O=>n({...e,AdjacentVolume_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]}):l.jsx("div",{})]})]})]}),l.jsx("section",{className:"space-y-4",children:l.jsxs("div",{className:"bg-gray-200 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Ground Risk Assessment Initial"}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:[l.jsx("li",{children:"Le calcul de l'iGRC peut être déterminer par l'utilisateur qui devra alors fournir la densité de population, la vitesse maximale de l'UAS et la dimension caractéristique maximale étant alors utilisé pour déterminer un iGRC selon la table. Une justification de la densioté de population doit être fournie, en justifiant de la base de donnée de population utilisée."}),l.jsx("br",{}),l.jsx("li",{children:"Sinon l'utilisateur peut choisir de générer un fichier d'input pour utiliser l'outil DROSERA(c). Il reportera le fichier de résultat DROSERA dans le champ à cet effet. "}),l.jsx("br",{}),l.jsx("li",{children:"Enfin le déposant peut choisir de spécifier lui-même l'iGRC. Dans ce cas il devra remplir les informations tel que pour le calcul selon les table SORA qui lui fourniront alors à titre indicatif un iGRC. Le déposant devra alors sélectionner et justifier de son iGRC plus bas."})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de l'iGRC"})}),l.jsxs("select",{value:e.assessmentiGRC,onChange:O=>n({...e,assessmentiGRC:O.target.value,iGRCNumber:O.target.value==="Spécifiée par le déposant"?e.iGRCNumber:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation iGRC",children:"Sélectionner une méthode d'évaluation iGRC"}),l.jsx("option",{value:"Calcul selon les tables SORA",children:"Calcul selon les tables SORA"}),l.jsx("option",{value:"Calcul DROSERA",children:"Calcul DROSERA"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dimensions caractéristiques maximales (m)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.maxCharacteristicDimension})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse maximales (m/s)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.maxSpeed})]}),l.jsx("img",{src:k3,alt:"Centres d'Essais Drones France",className:"w-auto h-auto mb-6 mx-auto md:col-span-2"}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:[l.jsx("li",{children:"BDD Population"}),l.jsx("br",{}),l.jsx("li",{children:". "}),l.jsx("br",{}),l.jsx("li",{children:"."})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Base de donnée de population"})}),l.jsxs("select",{value:e.PopulationDensityDataBase,onChange:O=>n({...e,PopulationDensityDataBase:O.target.value,PopulationDensityDataBaseNumber:O.target.value==="Spécifiée par le déposant"?e.PopulationDensityDataBaseNumber:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une Base de donnée de population",children:"Sélectionner une Base de donnée de population"}),l.jsx("option",{value:"INSEE_Filosofi2019_200m",children:"INSEE_Filosofi2019_200m"}),l.jsx("option",{value:"GHS_POP_E2025_GLOBE_R2023A_54009_100_V1_0_dens",children:"GHS_POP_E2025_GLOBE_R2023A_54009_100_V1_0_dens"})]})]})]}),e.assessmentiGRC==="Calcul selon les tables SORA"||e.assessmentiGRC==="Spécifiée par le déposant"?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"iGRC Footprint : Densité Maximale de population(ppl/km²)"}),l.jsxs("select",{value:e.populationDensity||"Zone Contrôlée",onChange:O=>n({...e,populationDensity:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une Densité de population",children:"Sélectionner une Densité de population"}),l.jsx("option",{value:"Zone Contrôlée",children:"Zone Contrôlée"}),l.jsx("option",{value:"<5",children:"<5"}),l.jsx("option",{value:"<50",children:"<50"}),l.jsx("option",{value:"<500",children:"<500"}),l.jsx("option",{value:"<5,000",children:"<5,000"}),l.jsx("option",{value:"<50,000",children:"<50,000"}),l.jsx("option",{value:">50,000",children:">50,000"})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Vous devez apporter des éléments de justification de la Densité de population sélectionnée.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Densité Maximale de population (iGRC Footprint)"})}),l.jsx("textarea",{value:e.PopulationDensity_Justification,onChange:O=>n({...e,PopulationDensity_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zone adjacente : Densité Moyenne de population(ppl/km²)"}),l.jsxs("select",{value:e.populationDensityAdjacentArea||"Zone Contrôlée",onChange:O=>n({...e,populationDensityAdjacentArea:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une Densité de population",children:"Sélectionner une Densité de population"}),l.jsx("option",{value:"Zone Contrôlée",children:"Zone Contrôlée"}),l.jsx("option",{value:"<5",children:"<5"}),l.jsx("option",{value:"<50",children:"<50"}),l.jsx("option",{value:"<500",children:"<500"}),l.jsx("option",{value:"<5,000",children:"<5,000"}),l.jsx("option",{value:"<50,000",children:"<50,000"}),l.jsx("option",{value:">50,000",children:">50,000"})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Vous devez apporter des éléments de justification de la Densité de population sélectionnée.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Densité de population moyenne en zone adjacente"})}),l.jsx("textarea",{value:e.PopulationDensity_Justification,onChange:O=>n({...e,PopulationDensity_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):e.assessmentiGRC==="Calcul DROSERA"?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:()=>ue(),className:" flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(D2,{className:"w-5 h-5"}),"Générer le fichier d'input pour DROSERA"]}),l.jsx("div",{}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Insérez fichier html output drosder",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Drosera ouptut HTML"})}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-500 transition-colors",children:[l.jsx("input",{ref:z,type:"file",accept:".html",onChange:ie,className:"hidden"}),l.jsxs("div",{onClick:()=>{var O;return(O=z.current)==null?void 0:O.click()},className:"flex items-center justify-center gap-2 cursor-pointer",children:[l.jsx(Mh,{className:"w-5 h-5 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Déposer le fichier Drosera HTML ici"})]})]}),C&&l.jsx("div",{className:"mt-2 p-2 bg-red-50 text-red-600 rounded",children:C}),e.droseraOutputFile&&e.droseraOutputFile.length>0&&l.jsx("div",{className:"mt-2 space-y-2",children:e.droseraOutputFile.map((O,ae)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded",children:[l.jsx("span",{className:"text-sm text-gray-600",children:O.name}),l.jsx("button",{onClick:()=>P(ae),className:"text-red-500 hover:text-red-700",children:"Supprimer"})]},ae))})]}),l.jsxs("div",{className:"bg-gray-400 p-4 md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Résultat de l'analyse DROSERA"}),l.jsx("div",{}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.DroseraResTable&&e.DroseraResTable.length>0?l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 text-black",children:[l.jsx("th",{className:"py-2 px-4 border-b",children:"Critical area (m²)"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Max population density (ppl/km²)"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Max iGRC"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Average population density in adjacent area (ppl/km²)"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Average iGRC in adjacent area"})]})}),l.jsx("tbody",{children:l.jsxs("tr",{className:"bg-gray-50 text-gray-700",children:[l.jsx("td",{className:"py-2 px-4 border-b",children:e.DroseraResTable[0]}),l.jsx("td",{className:"py-2 px-4 border-b",children:e.DroseraResTable[1]}),l.jsx("td",{className:"py-2 px-4 border-b",children:e.DroseraResTable[2]}),l.jsx("td",{className:"py-2 px-4 border-b",children:e.DroseraResTable[3]}),l.jsx("td",{className:"py-2 px-4 border-b",children:e.DroseraResTable[4]})]})})]}):l.jsx("div",{className:"text-gray-600",children:"Aucune donnée disponible. Veuillez télécharger un fichier DROSERA valide."})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"iGRC Footprint : Densité Maximale de population(ppl/km²)"}),l.jsxs("select",{value:e.populationDensity||"Zone Contrôlée",onChange:O=>n({...e,populationDensity:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Zone Contrôlée",children:"Zone Contrôlée"}),l.jsx("option",{value:"<5",children:"<5"}),l.jsx("option",{value:"<50",children:"<50"}),l.jsx("option",{value:"<500",children:"<500"}),l.jsx("option",{value:"<5,000",children:"<5,000"}),l.jsx("option",{value:"<50,000",children:"<50,000"}),l.jsx("option",{value:">50,000",children:">50,000"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zone adjacente : Densité Moyenne de population(ppl/km²)"}),l.jsxs("select",{value:e.populationDensityAdjacentArea||"Zone Contrôlée",onChange:O=>n({...e,populationDensityAdjacentArea:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une Densité de population",children:"Sélectionner une Densité de population"}),l.jsx("option",{value:"Zone Contrôlée",children:"Zone Contrôlée"}),l.jsx("option",{value:"<5",children:"<5"}),l.jsx("option",{value:"<50",children:"<50"}),l.jsx("option",{value:"<500",children:"<500"}),l.jsx("option",{value:"<5,000",children:"<5,000"}),l.jsx("option",{value:"<50,000",children:"<50,000"}),l.jsx("option",{value:">50,000",children:">50,000"})]})]})]}):l.jsx("div",{}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("h2",{className:"text-1xl font-semibold",children:"Tableau de détermination de l'iGRC"}),e.assessmentiGRC!=="Calcul DROSERA"?l.jsxs("div",{children:[l.jsx(Ee,{text:"Attention : Si vous activez une réduction de l'iGRC via cette option, et que vous la confirmée plus bas, vous devrez considérer que toute mitigation de type M2 lors de l'étape 3 sera jugée en regard de la catégorie de dimension attenante.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Utiliser la classe de Dimension Caractéristique Max. Applicable selon le calcul de la crash Area"})}),l.jsx("div",{children:" "}),l.jsx("input",{type:"checkbox",checked:(e.UsemaxCharacteristicDimension||[]).includes("OUI"),onChange:O=>n({...e,UsemaxCharacteristicDimension:O.target.checked?"OUI":"NON"}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),l.jsxs("div",{className:" text-gray-200",children:[s()," "]}),l.jsx(Ee,{text:"Attention : Si vous activez une réduction de l'iGRC via cette option, et que vous la confirmée plus bas, vous devrez considérer que toute mitigation de type M2 lors de l'étape 3 sera jugée en regard de la catégorie de dimension attenante.",children:e.UsemaxCharacteristicDimension==="OUI"?l.jsxs("div",{children:[" Dimension Caractéristique Maximale utilisée : ",e.maxCharacteristicDimensionClass,"m"]}):l.jsxs("div",{children:[" Dimension Caractéristique Maximale utilisée : ",e.maxCharacteristicDimension,"m"]})})]}):l.jsxs("div",{className:" text-gray-200",children:[e.UsemaxCharacteristicDimension="NON",s(),l.jsxs("div",{className:" text-gray-600",children:["Dimension Caractéristique Maximale utilisée : ",e.maxCharacteristicDimension,"m"]})]}),l.jsxs("table",{className:"min-w-full bg-white md:col-span-2",children:[l.jsxs("thead",{children:[l.jsx("tr",{className:"bg-gray-100 text-black",children:l.jsx("th",{colspan:"7",className:"  py-2 px-4 border-b",children:"Classe d'iGRC"})}),l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{colspan:"2",className:"bg-blue-400 py-2 px-4 border-b",children:"Dimension caractéristique Maimale"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"1m / appro. 3ft"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"3m / appro. 10ft"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"8m / appro. 25ft"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"20m / appro. 65ft"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"40m / appro. 130ft"})]}),l.jsxs("tr",{className:"bg-green-500 text-white",children:[l.jsx("th",{colspan:"2",className:"bg-green-400 py-2 px-4 border-b",children:"Vitesse de Croisière Maximale"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"25 m/s"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"35 m/s"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"75 m/s"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"150 m/s"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"200 m/s"})]})]}),l.jsxs("tbody",{children:[l.jsx("th",{rowspan:"8",className:"bg-red-200 text-black",children:"Densité de population iGRC Maximale (ppl/km²)"}),a.map((O,ae)=>l.jsxs("tr",{className:"bg-gray-200 text-gray-400",children:[l.jsx("th",{className:"py-2 px-4 border-b bg-red-200 text-black",children:O.PopDensity}),l.jsxs("th",{className:e.iGRC_colIndex==1?O.PopDensity.endsWith(e.populationDensity)&&O.PopDensity.endsWith(e.populationDensityAdjacentArea)?"bg-blue-400 text-white border-2 border-gray-500":O.PopDensity.endsWith(e.populationDensity)?"bg-blue-400 border-2 border-blue-500 text-white":O.PopDensity.endsWith(e.populationDensityAdjacentArea)?"bg-gray-400 border-2 border-gray-500 text-white":"py-2 px-4 border-b":"py-2 px-4 border-b",children:[O.MaxdimCS1,"    "]}),l.jsx("th",{className:e.iGRC_colIndex==2?O.PopDensity.endsWith(e.populationDensity)&&O.PopDensity.endsWith(e.populationDensityAdjacentArea)?"bg-blue-400 text-white border-2 border-gray-500":O.PopDensity.endsWith(e.populationDensity)?"bg-blue-400 border-2 border-blue-500 text-white":O.PopDensity.endsWith(e.populationDensityAdjacentArea)?"bg-gray-400 border-2 border-gray-500 text-white":"py-2 px-4 border-b":"py-2 px-4 border-b",children:O.MaxdimCS2}),l.jsx("th",{className:e.iGRC_colIndex==3?O.PopDensity.endsWith(e.populationDensity)&&O.PopDensity.endsWith(e.populationDensityAdjacentArea)?"bg-blue-400 text-white border-2 border-gray-500":O.PopDensity.endsWith(e.populationDensity)?"bg-blue-400 border-2 border-blue-500 text-white":O.PopDensity.endsWith(e.populationDensityAdjacentArea)?"bg-gray-400 border-2 border-gray-500 text-white":"py-2 px-4 border-b":"py-2 px-4 border-b",children:O.MaxdimCS3}),l.jsx("th",{className:e.iGRC_colIndex==4?O.PopDensity.endsWith(e.populationDensity)&&O.PopDensity.endsWith(e.populationDensityAdjacentArea)?"bg-blue-400 text-white border-2 border-gray-500":O.PopDensity.endsWith(e.populationDensity)?"bg-blue-400 border-2 border-blue-500 text-white":O.PopDensity.endsWith(e.populationDensityAdjacentArea)?"bg-gray-400 border-2 border-gray-500 text-white":"py-2 px-4 border-b":"py-2 px-4 border-b",children:O.MaxdimCS4}),l.jsx("th",{className:e.iGRC_colIndex==5?O.PopDensity.endsWith(e.populationDensity)&&O.PopDensity.endsWith(e.populationDensityAdjacentArea)?"bg-blue-400 text-white border-2 border-gray-500":O.PopDensity.endsWith(e.populationDensity)?"bg-blue-400 border-2 border-blue-500 text-white":O.PopDensity.endsWith(e.populationDensityAdjacentArea)?"bg-gray-400 border-2 border-gray-500 text-white":"py-2 px-4 border-b":"py-2 px-4 border-b",children:O.MaxdimCS5})]},ae))]})]})]}),l.jsx("h2",{className:"text-2xl font-semibold",children:"iGRC"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:"Veuillez entrer le niveau GRC Initial Maximal déclaré pour la zone d'Empreinte au sol de l'opération : Volume Opérationel + Zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Maximum iGRC (Empreinte au sol de l'opération UAS)"})}),l.jsxs("select",{value:e.iGRC,onChange:O=>n({...e,iGRC:O.target.value}),className:"mt-1 block w-full rounded-md border-blue-900 border-2 font-bold bg-blue-50 text-blue-600 shadow-sm focus:border-red-500 focus:ring-red-500",children:[l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"}),l.jsx("option",{value:"5",children:"5"}),l.jsx("option",{value:"6",children:"6"}),l.jsx("option",{value:"7",children:"7"}),l.jsx("option",{value:"8",children:"8"})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Veuillez entrer le niveau GRC Initial déclaré.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"iGRC Moyen (Zone adjacente)"})}),l.jsxs("select",{value:e.iGRCadjacentArea,onChange:O=>n({...e,iGRCadjacentArea:O.target.value}),className:"mt-1 block w-full rounded-md border-blue-900 border-2 font-bold bg-blue-50 text-blue-600 shadow-sm focus:border-red-500 focus:ring-red-500",children:[l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"}),l.jsx("option",{value:"5",children:"5"}),l.jsx("option",{value:"6",children:"6"}),l.jsx("option",{value:"7",children:"7"}),l.jsx("option",{value:"8",children:"8"})]})]}),l.jsxs("div",{className:"bg-gray-400 p-4 md:col-span-2",children:[l.jsx(Ee,{text:"Si votre iGRC déclaré diffère de celui calculé ou si vous avez choisi de spécifier vous même votre iGRC, une justification complémentaire devra être apportée. Dans les autres cas vous pouvez apporter un complément d'information ou laisser ce champ vide.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification complémnetaire de vos iGRC déclarés"})}),l.jsx("textarea",{value:e.iGRC_Justification,onChange:O=>n({...e,iGRC_Justification:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]})]})})]})}function I3({assessment:e,onChange:t}){const r=[{Integrity:"Intégrité faible ",InsuranceLow:"Robustesse faible",InsuranceMedium:"Robustesse Faible ",InsuranceHigh:"Robustesse Faible "},{Integrity:"Intégrité moyenne",InsuranceLow:"Robustesse faible",InsuranceMedium:"Robustesse Moyenne",InsuranceHigh:"Robustesse Moyenne"},{Integrity:"Intégrité haute  ",InsuranceLow:"Robustesse faible",InsuranceMedium:"Robustesse Moyenne",InsuranceHigh:"Robustesse Haute  "}],n=()=>{if(!e||!e.iGRC||!e.mitigationStrategiqueM1A||!e.mitigationStrategiqueM1B||!e.reduceImpactAttenuationM2||!e.confinementRequirements)return"Vous devez sélectionner une valeur pour chaque type d'atténuation";let a=Number(e.iGRC);return e.mitigationStrategiqueM1A.includes("faible")?a=a-1:e.mitigationStrategiqueM1A.includes("moyenne")?a=a-2:a=a-0,e.mitigationStrategiqueM1B.includes("moyenne")?a=a-1:e.mitigationStrategiqueM1B.includes("élevée")?a=a-2:a=a-0,e.mitigationTactiqueM1C.includes("faible")?a=a-1:a=a-0,e.reduceImpactAttenuationM2.includes("moyenne")?a=a-1:e.reduceImpactAttenuationM2.includes("élevée")?a=a-2:a=a-0,a<e.iGRCControledZone&&(a=e.iGRCControledZone),a},i=[{MitigationGR:"M1(A) – Atténuation Strategique - Abris",LowMitigation:"-1",MediumMitigation:"-2",HighMitigation:"N/A"},{MitigationGR:"M1(B) – Atténuation Strategique - Restrictions Operationelles",LowMitigation:"N/A",MediumMitigation:"-1",HighMitigation:"-2"},{MitigationGR:"M1(C) – Atténuations Tactique – Observateur(s) au sol",LowMitigation:"-1",MediumMitigation:"N/A",HighMitigation:"N/A"},{MitigationGR:"M2 – Réduction des effets de l’impact au sol",LowMitigation:"N/A",MediumMitigation:"-1",HighMitigation:"-2"}];return l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Tableau de mitigation du Risque Sol"}),l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsxs("thead",{children:[l.jsxs("tr",{className:"bg-white",children:[l.jsx("th",{className:"bg-withe py-2 px-4 border-b",children:" "}),l.jsx("th",{colspan:"3",className:"bg-blue-300 py-2 px-4 border-b ",children:"Niveau de Robustesse"})]}),l.jsxs("tr",{className:"bg-blue-300 ",children:[l.jsx("th",{className:"bg-blue-400 py-2 px-4 border-b",children:"Atténuation du risque Sol"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Faible"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Moyenne"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Haute"})]})]}),l.jsx("tbody",{children:i.map((a,s)=>l.jsxs("tr",{className:"bg-gray-200 text-gray-800",children:[l.jsx("th",{className:"py-2 px-4 border-b bg-red-200 text-black text-left",children:a.MitigationGR}),l.jsxs("th",{className:"py-2 px-4 border-b",children:[a.LowMitigation,"    "]}),l.jsx("th",{className:"py-2 px-4 border-b",children:a.MediumMitigation}),l.jsx("th",{className:"py-2 px-4 border-b",children:a.HighMitigation})]},s))})]}),l.jsx("h2",{className:"text-1xl font-semibold",children:"Tableau de Robustesse des moyens de mitigation"}),l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{className:"py-2 px-4 border-b",children:" "}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Assurance faible"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Assurance moyenne"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Assurance haute"})]})}),l.jsx("tbody",{children:r.map((a,s)=>l.jsxs("tr",{className:s%2===0?"bg-gray-100 text-gray-800":"bg-gray-200 text-gray-800",children:[l.jsx("td",{className:"py-2 px-4 border-b",children:a.Integrity}),l.jsx("td",{className:"py-2 px-4 border-b",children:a.InsuranceLow}),l.jsx("td",{className:"py-2 px-4 border-b",children:a.InsuranceMedium}),l.jsx("td",{className:"py-2 px-4 border-b",children:a.InsuranceHigh})]},s))})]}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Robustesse des Moyens d'Atténuation du risque sol"}),l.jsx("section",{className:"space-y-4",children:l.jsxs("div",{className:"bg-gray-200 p-4 rounded-lg space-y-4",children:[l.jsxs("h2",{className:"text-lg font-medium",children:["M1(A) – Atténuation Strategique - Abris ",l.jsx("button",{type:"button",onClick:()=>window.open("http://jarus-rpas.org/wp-content/uploads/2024/06/SORA-v2.5-Annex-B-Release.JAR_doc_27pdf.pdf","_blank"),className:"text-blue-500 hover:text-blue-700 transition-colors",title:"Ouvrir la documentation JARUS SORA v2.5 Annex B",children:l.jsx($s,{className:"w-4 h-4"})})]}),l.jsx("div",{children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"L'atténuation M1(A) est liée au fait que les gens passent en moyenne très peu de temps à l'extérieur sans être protégés par une structure. Par conséquent, les opérateurs qui utilisent des UAS suffisamment petits peuvent s'attendre à ce qu'un grand pourcentage de la population soit à l'abri d'un impact. Cette hypothèse peut également s'appliquer à des UAS plus grands ; dans ce cas, l'efficacité de la mise à l'abri doit être démontrée."})}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Sélectionnez l'une des quatre options. Dans le cas où l'évaluation des risques est basée sur la SORA, cela consiste en une atténuation M1.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"M1(A) – Atténuation Strategique - Abris"})}),l.jsxs("select",{value:e.mitigationStrategiqueM1A,onChange:a=>{t({...e,mitigationStrategiqueM1A:a.target.value}),n()},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation iGRC",children:"Sélectionner une valeur"}),l.jsx("option",{value:"Non",children:"Non"}),l.jsx("option",{value:"Oui, faible",children:"Oui, faible"}),l.jsx("option",{value:"Oui, moyenne",children:"Oui, moyenne"})]})]}),l.jsx(Ee,{text:"Apporter une justification pour l'atténuation M1(A).",children:l.jsx("h3",{className:"text-lg font-medium",children:"Justification M1(A)"})}),l.jsx("textarea",{value:e.M1A_Justification,onChange:a=>t({...e,M1A_Justification:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"4"})]})}),l.jsx("section",{className:"space-y-4",children:l.jsxs("div",{className:"bg-gray-200 p-4 rounded-lg space-y-4",children:[l.jsxs("h2",{className:"text-lg font-medium",children:["M1(B) – Atténuation Strategique - Restrictions Operationelles ",l.jsx("button",{type:"button",onClick:()=>window.open("http://jarus-rpas.org/wp-content/uploads/2024/06/SORA-v2.5-Annex-B-Release.JAR_doc_27pdf.pdf","_blank"),className:"text-blue-500 hover:text-blue-700 transition-colors",title:"Ouvrir la documentation JARUS SORA v2.5 Annex B",children:l.jsx($s,{className:"w-4 h-4"})})]}),l.jsx("div",{children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Les mesures d'atténuation M1(B) visent à réduire le nombre de personnes en danger au sol, indépendamment de la mise à l'abri. Ces mesures d'atténuation sont appliquées avant le vol. Les mesures d'atténuation M1(B) sont des combinaisons de limitations concernant le temps et le lieu de l'opération afin de réduire le nombre de personnes exposées à un risque à un moment et dans un lieu donnés."})}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Sélectionnez l'une des quatre options. Dans le cas où l'évaluation des risques est basée sur la SORA, cela consiste en une atténuation M1.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"M1(B) – Atténuation Strategique - Restrictions Operationelles"})}),l.jsxs("select",{value:e.mitigationStrategiqueM1B,onChange:a=>{t({...e,mitigationStrategiqueM1B:a.target.value}),n()},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation iGRC",children:"Sélectionner une valeur"}),l.jsx("option",{value:"Non",children:"Non"}),l.jsx("option",{value:"Oui, moyenne",children:"Oui, moyenne"}),l.jsx("option",{value:"Oui, élevée",children:"Oui, élevée"})]})]}),l.jsx(Ee,{text:"Apporter une justification pour l'atténuation M1(A).",children:l.jsx("h3",{className:"text-lg font-medium",children:"Justification M1(B)"})}),l.jsx("textarea",{value:e.M1B_Justification,onChange:a=>t({...e,M1B_Justification:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"4"})]})}),l.jsx("section",{className:"space-y-4",children:l.jsxs("div",{className:"bg-gray-200 p-4 rounded-lg space-y-4",children:[l.jsxs("h2",{className:"text-lg font-medium",children:["M1(C) – Atténuations Tactique – Observateur(s) au sol ",l.jsx("button",{type:"button",onClick:()=>window.open("http://jarus-rpas.org/wp-content/uploads/2024/06/SORA-v2.5-Annex-B-Release.JAR_doc_27pdf.pdf","_blank"),className:"text-blue-500 hover:text-blue-700 transition-colors",title:"Ouvrir la documentation JARUS SORA v2.5 Annex B",children:l.jsx($s,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["REMARQUE : Si un ou plusieurs observateurs au sol sont déclarés, ceux-ci devront être clairement identifiés à l'étape 2 sur vos fichier trajectoire ou zone de vol.",l.jsx("br",{}),"Qui plus est, si votre opération est déclarée en EVLOS à l'étape 1, le nombre d'observateurs au sol devra être déclaré en cohérence.",l.jsx("br",{})]})}),l.jsx("div",{children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"L'atténuation M1(C) est une atténuation tactique dans laquelle l'équipage à distance ou le système peut observer la majeure partie de la ou des zones survolées, ce qui permet de détecter les personnes non impliquées dans la zone opérationnelle et de manœuvrer l'UA, de sorte que le nombre de personnes non impliquées survolées au cours de l'opération est considérablement réduit."})}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Sélectionnez l'une des quatre options. Dans le cas où l'évaluation des risques est basée sur la SORA, cela consiste en une atténuation M1.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"M1(C) – Atténuations Tactique – Observateur(s) au sol"})}),l.jsxs("select",{value:e.mitigationTactiqueM1C,onChange:a=>{t({...e,mitigationTactiqueM1C:a.target.value}),n()},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation iGRC",children:"Sélectionner une valeur"}),l.jsx("option",{value:"Non",children:"Non"}),l.jsx("option",{value:"Oui, faible",children:"Oui, faible"})]})]}),l.jsx(Ee,{text:"Apporter une justification pour l'atténuation M1(A).",children:l.jsx("h3",{className:"text-lg font-medium",children:"Justification M1(C)"})}),l.jsx("textarea",{value:e.M1C_Justification,onChange:a=>t({...e,M1C_Justification:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"4"})]})}),l.jsx("section",{className:"space-y-4",children:l.jsxs("div",{className:"bg-gray-200 p-4 rounded-lg space-y-4",children:[l.jsxs("h2",{className:"text-lg font-medium",children:["M2 – Réduction des effets de l’impact au sol ",l.jsx("button",{type:"button",onClick:()=>window.open("https://www.easa.europa.eu/en/downloads/137609/en","_blank"),className:"text-blue-500 hover:text-blue-700 transition-colors",title:"Ouvrir la documentation EASA",children:l.jsx($s,{className:"w-4 h-4"})})]}),e.UsemaxCharacteristicDimension=="OUI"?l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("label",{className:"block text-sm font-medium text-red-700",children:["ATTENTION : A l'étape 2, vous avez sélectionné l'option 'Utiliser la dimension caractéristique maximale Applicable selon le calcul de la crash Area'.",l.jsx("br",{}),"En conséquence, vos justifications apportées au titre d'un M2 devrons démontrer une réduction du risque par rapport à cette crash area de référence.",l.jsx("br",{})]})}):l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["REMARQUE : A l'étape 2, si vous avez déclaré une valeur de crash Area faisant déjà usage de votre M2, vous ne pouvez justifier de celle-ci une nouvelle fois.",l.jsx("br",{}),"En conséquence, il ne vous est pas possible de réduire le GRC Final en dessous de l'iGRC déclaré à l'étape 2 grâce à une seconde déclaration de ce même M2.",l.jsx("br",{})]})}),l.jsx("div",{children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Les mesures d'atténuation M2 visent à réduire l'effet de l'impact au sol une fois que le contrôle de l'opération est perdu. Cela se fait soit en réduisant la probabilité de létalité d'un impact d'UA (c'est-à-dire l'énergie, l'impulsion, la dynamique de transfert d'énergie, etc.) et/ou en réduisant la taille de la zone critique prévue. Les exemples incluent, sans s'y limiter, les parachutes, l'autorotation, la frangibilité, le décrochage de l'aéronef pour ralentir la descente et augmenter l'angle d'impact. Le demandeur doit démontrer une réduction totale requise de l'un ou l'autre des facteurs, ou des deux."})}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Ee,{text:"Sélectionnez l'une des quatre options de la première ligne. Dans le cas où l'évaluation des risques est basée sur le SORA, cela consiste en une atténuation M2. Même si le drone peut être équipé d'un tel système, cette atténuation peut ne pas être requise pour l'opération afin de réduire le risque au sol. Dans ce cas, dans la deuxième ligne, sélectionnez 'NON'. Si l'atténuation est utilisée pour réduire le risque au sol, sélectionnez 'OUI', et l'opérateur doit inclure les procédures associées dans le manuel d'exploitation.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"M2 – Réduction des effets de l’impact au sol"})}),l.jsxs("select",{value:e.reduceImpactAttenuationM2,onChange:a=>{t({...e,reduceImpactAttenuationM2:a.target.value}),n()},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation iGRC",children:"Sélectionner une valeur"}),l.jsx("option",{value:"Non",children:"Non"}),l.jsx("option",{value:"Oui, moyenne",children:"Oui, moyenne"}),l.jsx("option",{value:"Oui, élevée",children:"Oui, élevée"})]})]}),l.jsx(Ee,{text:"Apporter une justification pour l'atténuation M1(A).",children:l.jsx("h3",{className:"text-lg font-medium",children:"Justification M2"})}),l.jsx("textarea",{value:e.M2_Justification,onChange:a=>t({...e,M2_Justification:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"4"})]})}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium",children:"Remarques complémentaires"}),l.jsx(Ee,{text:l.jsxs("div",{children:["Champ de texte libre pour l'ajout de toute remarque pertinente.",l.jsx("br",{}),"Exemple : Atténuations partielles multiples",l.jsx("br",{}),"Dans les cas où des atténuations partielles multiples ne satisfont pas individuellement aux critères de l'annexe B mais que, prises ensemble, elles permettent d'obtenir des réductions cumulatives d'un ou plusieurs ordres de grandeur, l'autorité compétente peut accepter une réduction de la note finale du GRC."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Champ de texte libre pour l'ajout de toute remarque pertinente"})}),l.jsx("textarea",{value:e.additionalRemarks,onChange:a=>t({...e,additionalRemarks:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"4"})]})}),l.jsx("h2",{className:"text-2xl font-semibold",children:"GRC Final"}),l.jsxs("div",{children:[l.jsx(Ee,{text:"GRC Final calculé à partir de l'iGRC et des gain d'atténuation. N.B. cette valeur ne peut être inférieure à l'iGRC 'Zone Contrôlé' de votre classe d'appareil identifiée à l'étape 2.",children:l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["GRC Final Calculé : ≥",e.iGRCControledZone]})}),l.jsxs("h2",{className:"text-2xl",children:[e.iGRC," is reduced to ",l.jsx("b",{children:n()})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:"GRC Final.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRC"})}),l.jsxs("select",{value:e.GRC_Final,onChange:a=>t({...e,GRC_Final:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"}),l.jsx("option",{value:"5",children:"5"}),l.jsx("option",{value:"6",children:"6"}),l.jsx("option",{value:"7",children:"7"}),l.jsx("option",{value:"8",children:"8"})]})]}),Number(e.GRC_Final)>7?l.jsx("div",{children:l.jsx(Ee,{text:"GRC Final.",children:l.jsx("label",{className:"block text-lg font-bold text-red-700",children:"GRC Final - Trop élevé. Le processus SORA est inadapté."})})}):l.jsx("div",{children:l.jsx(Ee,{text:"GRC Final.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRC Final - Valide. Vous pouvez procéder aux étapes suivantes du processus SORA."})})})]})]})}function M3({assessment:e,onChange:t}){const r=ve.useRef(null),n=["Classe - A","Classe - B","Classe - C","Classe - D","Classe - E","Classe - F","Classe - G","U-Space","Autre, Préciser"];return ve.useEffect(()=>{if(!r.current)return;r.current.innerHTML="",delete window.goBack,delete window.resetQuestionnaire,delete window.handleModalAnswer,delete window.closeModal;const i={currentNode:"start",nodes:{start:{type:"question",text:"OPS in Atypical Airspace?",x:80,y:120,yes:"arc-a",no:"q2"},q2:{type:"question",text:"OPS > FL600?",x:80,y:300,yes:"arc-b",no:"q3"},q3:{type:"question",text:"OPS in Airport or Heliport Environment ?",x:80,y:480,yes:"q4",no:"q5"},q4:{type:"question",text:"OPS in Class B, C or D Airspace?",x:280,y:480,yes:"arc-d-1",no:"arc-c-1"},q5:{type:"question",text:"OPS > 500 ft AGL but < FL600",x:80,y:930,yes:"q6",no:"ops-500"},q6:{type:"question",text:"OPS in Mode-C Veil or TMZ",x:280,y:930,yes:"arc-d-2",no:"q7"},q7:{type:"question",text:"OPS in Controlled Airspace?",x:490,y:930,yes:"arc-d-3",no:"q8"},q8:{type:"question",text:"OPS in Uncontrolled Airspace over Urban Area?",x:700,y:930,yes:"arc-c-4",no:"rural-ops-1"},"ops-500":{type:"intermediate",text:"OPS < 500 ft AGL",x:80,y:1230,next:"q6-low"},"q6-low":{type:"question",text:"OPS in Mode-C Veil or TMZ",x:280,y:1230,yes:"arc-c-5",no:"q7-low"},"q7-low":{type:"question",text:"OPS in Controlled Airspace?",x:490,y:1230,yes:"arc-c-6",no:"q8-low"},"q8-low":{type:"question",text:"OPS in Uncontrolled Airspace over Urban Area?",x:700,y:1230,yes:"arc-c-7",no:"rural-ops-2"},"arc-a":{type:"result",text:"ARC-a",x:280,y:120,class:"arc-a"},"arc-b":{type:"result",text:"ARC-b",x:280,y:300,class:"arc-b"},"arc-c-1":{type:"result",text:"ARC-c",x:280,y:630,class:"arc-c"},"arc-d-1":{type:"result",text:"ARC-d",x:490,y:480,class:"arc-d"},"arc-d-2":{type:"result",text:"ARC-d",x:280,y:795,class:"arc-d"},"arc-d-3":{type:"result",text:"ARC-d",x:490,y:795,class:"arc-d"},"arc-c-4":{type:"result",text:"ARC-c",x:700,y:795,class:"arc-c"},"arc-c-5":{type:"result",text:"ARC-c",x:280,y:1095,class:"arc-c"},"arc-c-6":{type:"result",text:"ARC-c",x:490,y:1095,class:"arc-c"},"arc-c-7":{type:"result",text:"ARC-c",x:700,y:1095,class:"arc-c"},"rural-ops-1":{type:"result",text:"Operations in Uncontrolled Airspace over Rural Areas",x:950,y:930,width:240,height:90,hasAutoArc:!0},"arc-c-rural-1":{type:"result",text:"ARC-c",x:950,y:795,class:"arc-c"},"rural-ops-2":{type:"result",text:"Operations in Uncontrolled Airspace over Rural Areas",x:950,y:1230,width:240,height:90,hasAutoArc:!0},"arc-b-rural-2":{type:"result",text:"ARC-b",x:950,y:1095,class:"arc-b"}},visitedNodes:new Set,visitedArrows:new Set,history:[],currentQuestionNode:null};function a(){const S=document.createElementNS("http://www.w3.org/2000/svg","svg");S.setAttribute("width","100%"),S.setAttribute("height","100%"),S.setAttribute("viewBox","0 0 1100 1650");const T=document.createElementNS("http://www.w3.org/2000/svg","defs"),F=document.createElementNS("http://www.w3.org/2000/svg","marker");F.setAttribute("id","arrowhead"),F.setAttribute("markerWidth","5"),F.setAttribute("markerHeight","3.5"),F.setAttribute("refX","4.5"),F.setAttribute("refY","1.75"),F.setAttribute("orient","auto");const I=document.createElementNS("http://www.w3.org/2000/svg","polygon");return I.setAttribute("points","0 0, 5 1.75, 0 3.5"),I.setAttribute("fill","#333"),F.appendChild(I),T.appendChild(F),S.appendChild(T),S}function s(S,T,F,I,D){const C=document.createElementNS("http://www.w3.org/2000/svg","polygon"),G=`${S},${T-I/2} ${S+F/2},${T} ${S},${T+I/2} ${S-F/2},${T}`;return C.setAttribute("points",G),C.setAttribute("class","diamond inactive"),C.setAttribute("id",D),C}function c(S,T,F,I,D,C=""){const G=document.createElementNS("http://www.w3.org/2000/svg","rect");return G.setAttribute("x",(S-F/2).toString()),G.setAttribute("y",(T-I/2).toString()),G.setAttribute("width",F.toString()),G.setAttribute("height",I.toString()),G.setAttribute("class",`result-box inactive ${C}`),G.setAttribute("id",D),G}function d(S,T,F,I,D,C=""){const G=document.createElementNS("http://www.w3.org/2000/svg","line");return G.setAttribute("x1",S.toString()),G.setAttribute("y1",T.toString()),G.setAttribute("x2",F.toString()),G.setAttribute("y2",I.toString()),G.setAttribute("class","arrow inactive"),G.setAttribute("id",D),G.setAttribute("data-label",C),G}function h(S,T,F,I,D=""){const C=document.createElementNS("http://www.w3.org/2000/svg","text");return C.setAttribute("x",S.toString()),C.setAttribute("y",T.toString()),C.setAttribute("class",`text inactive ${D}`),C.setAttribute("id",I),C.textContent=F,C}function f(){const S=a();r.current.appendChild(S),Object.keys(i.nodes).forEach(D=>{const C=i.nodes[D];if(C.type==="question"){const G=s(C.x,C.y,180,120,`node-${D}`);G.addEventListener("click",function(){this.classList.contains("active")&&E(D)}),S.appendChild(G);const Y=C.text.split(" ");if(Y.length>6){const z=Math.ceil(Y.length/3),ie=Math.ceil(2*Y.length/3),P=h(C.x,C.y-18,Y.slice(0,z).join(" "),`text-${D}-1`,"small"),ue=h(C.x,C.y,Y.slice(z,ie).join(" "),`text-${D}-2`,"small"),pe=h(C.x,C.y+18,Y.slice(ie).join(" "),`text-${D}-3`,"small");S.appendChild(P),S.appendChild(ue),S.appendChild(pe)}else if(Y.length>3){const z=h(C.x,C.y-12,Y.slice(0,Math.ceil(Y.length/2)).join(" "),`text-${D}-1`,"small"),ie=h(C.x,C.y+12,Y.slice(Math.ceil(Y.length/2)).join(" "),`text-${D}-2`,"small");S.appendChild(z),S.appendChild(ie)}else{const z=h(C.x,C.y,C.text,`text-${D}`,"small");S.appendChild(z)}if(C.yes){const z=i.nodes[C.yes];let ie=null,P=null;if(D==="start"||D==="q2"||D==="q3"||D==="q4"||D==="q5"){const ue=z.width?z.width/2:75;ie=d(C.x+90,C.y,z.x-ue,z.y,`arrow-${D}-yes`),P=h((C.x+30+z.x-ue)/2,C.y-22.5,"Yes",`label-${D}-yes`)}else(D==="q6"||D==="q7"||D==="q8"||D==="q6-low"||D==="q7-low"||D==="q8-low")&&(ie=d(C.x,C.y-60,z.x,z.y+30,`arrow-${D}-yes`),P=h(C.x+30,(C.y+z.y)/2,"Yes",`label-${D}-yes`));ie&&(ie.addEventListener("click",()=>_(D,"yes")),S.appendChild(ie),P&&S.appendChild(P))}if(C.no){const z=i.nodes[C.no];let ie=null,P=null;if(D==="start"||D==="q2"||D==="q3")ie=d(C.x,C.y+60,z.x,z.y-60,`arrow-${D}-no`),P=h(C.x+30,(C.y+z.y)/2,"No",`label-${D}-no`);else if(D==="q4")ie=d(C.x,C.y+60,z.x,z.y-30,`arrow-${D}-no`),P=h(C.x+30,(C.y+z.y)/2,"No",`label-${D}-no`);else if(D==="q5")ie=d(C.x,C.y+60,z.x,z.y-30,`arrow-${D}-no`),P=h(C.x+30,(C.y+z.y)/2,"No",`label-${D}-no`);else if(D==="q8-low"){const ue=z.width?z.width/2:90;ie=d(C.x+90,C.y,z.x-ue+10,z.y,`arrow-${D}-no`),P=h((C.x+30+z.x-ue)/2,C.y+22.5,"No",`label-${D}-no`)}else if(D==="q6"||D==="q7"||D==="q8"||D==="q6-low"||D==="q7-low"){const ue=z.width?z.width/2:90;ie=d(C.x+90,C.y,z.x-ue,z.y,`arrow-${D}-no`),P=h((C.x+30+z.x-ue)/2,C.y+22.5,"No",`label-${D}-no`)}ie&&(ie.addEventListener("click",()=>_(D,"no")),S.appendChild(ie),P&&S.appendChild(P))}}else if(C.type==="result"||C.type==="intermediate"){const G=C.width||150,Y=C.height||60,z=c(C.x,C.y,G,Y,`node-${D}`,C.class||"");if(z.addEventListener("click",function(){this.classList.contains("active")&&g(D)}),S.appendChild(z),C.text.length>20){const ie=C.text.split(" "),P=Math.ceil(ie.length/2),ue=h(C.x,C.y-15,ie.slice(0,P).join(" "),`text-${D}-1`,"small"),pe=h(C.x,C.y+15,ie.slice(P).join(" "),`text-${D}-2`,"small");S.appendChild(ue),S.appendChild(pe)}else{const ie=h(C.x,C.y,C.text,`text-${D}`);S.appendChild(ie)}}});const T=d(155,1230,190,1230,"arrow-ops-auto");S.appendChild(T);const F=d(950,885,950,825,"arrow-rural-auto1");S.appendChild(F);const I=d(950,1185,950,1125,"arrow-rural-auto2");S.appendChild(I),v("start")}function g(S){const F={"arc-a":{OpsEnv:"OPS in Atypical or Segregated Airspace",IGDR:1,AEC:12,ARCI:"ARC-a"},"arc-b":{OpsEnv:"Operations above Flight Level 600",IGDR:1,AEC:11,ARCI:"ARC-b"},"arc-c-1":{OpsEnv:"OPS in Airport/Heliport Environment in Class E airspace or in Class F or G",IGDR:3,AEC:6,ARCI:"ARC-c"},"arc-d-1":{OpsEnv:"OPS in Airport/Heliport Environment in Class B, C or D airspace",IGDR:5,AEC:1,ARCI:"ARC-d"},"arc-d-2":{OpsEnv:"Operations above 500 feet AGL but below Flight level 600 in a Mode-S Veil or Transponder Mandatory Zone (TMZ)",IGDR:5,AEC:2,ARCI:"ARC-d"},"arc-d-3":{OpsEnv:"Operations above 500 feet AGL but below Flight level 600 in controlled airspace",IGDR:5,AEC:3,ARCI:"ARC-d"},"arc-c-4":{OpsEnv:"Operations above 500 feet AGL but below Flight level 600 in uncontrolled airspace over Urban Area",IGDR:3,AEC:4,ARCI:"ARC-c"},"arc-c-5":{OpsEnv:"Operations below 500 ft AGL OPS in a Mode-S Veil or Transponder Mandatory Zone (TMZ)",IGDR:3,AEC:7,ARCI:"ARC-c"},"arc-c-6":{OpsEnv:"Operations below 500 ft AGL OPS in controlled airspace",IGDR:3,AEC:8,ARCI:"ARC-c"},"arc-c-7":{OpsEnv:"Operations below 500 ft AGL OPS in uncontrolled airspace over Urban Area",IGDR:2,AEC:9,ARCI:"ARC-c"},"arc-c-rural-1":{OpsEnv:"Operations above 500 feet AGL but below Flight level 600 in uncontrolled airspace over Rural Area",IGDR:2,AEC:5,ARCI:"ARC-c"},"arc-b-rural-2":{OpsEnv:"Operations below 500 ft AGL in uncontrolled airspace over Rural Area",IGDR:1,AEC:10,ARCI:"ARC-b"}}[S];F&&t({...e,OpsEnv:F.OpsEnv,IGDR:F.IGDR,AEC:F.AEC,ARCI:F.ARCI})}function v(S){const T=i.nodes[S];i.currentNode=S,i.visitedNodes.add(S);const F=document.getElementById(`node-${S}`),I=[document.getElementById(`text-${S}`),document.getElementById(`text-${S}-1`),document.getElementById(`text-${S}-2`),document.getElementById(`text-${S}-3`)].filter(D=>D);if(F&&(F.classList.remove("inactive"),F.classList.add("active"),T.type==="result"&&F.classList.add("final")),I.forEach(D=>{D&&D.classList.remove("inactive")}),S==="ops-500"){const D=document.getElementById("arrow-ops-auto");D&&(D.classList.remove("inactive"),D.classList.add("active")),setTimeout(()=>{v("q6-low")},1e3);return}if(S==="rural-ops-1"){const D=document.getElementById("arrow-rural-auto1");D&&(D.classList.remove("inactive"),D.classList.add("active")),setTimeout(()=>{v("arc-c-rural-1")},1e3);return}if(S==="rural-ops-2"){const D=document.getElementById("arrow-rural-auto2");D&&(D.classList.remove("inactive"),D.classList.add("active")),setTimeout(()=>{v("arc-b-rural-2")},1e3);return}if(T.type==="question"){if(T.yes){const D=document.getElementById(`arrow-${S}-yes`),C=document.getElementById(`label-${S}-yes`);D&&C&&(D.classList.remove("inactive"),D.classList.add("clickable"),C.classList.remove("inactive"))}if(T.no){const D=document.getElementById(`arrow-${S}-no`),C=document.getElementById(`label-${S}-no`);D&&C&&(D.classList.remove("inactive"),D.classList.add("clickable"),C.classList.remove("inactive"))}}}function _(S,T){const F=i.nodes[S],I=T==="yes"?F.yes:F.no;if(I){const D={currentNode:i.currentNode,visitedNodes:new Set(i.visitedNodes),visitedArrows:new Set(i.visitedArrows)};i.history.push(D);const C=document.getElementById(`arrow-${S}-${T}`);C&&(C.classList.add("active"),C.classList.remove("clickable"),i.visitedArrows.add(`arrow-${S}-${T}`));const G=T==="yes"?"no":"yes",Y=document.getElementById(`arrow-${S}-${G}`);Y&&(Y.classList.remove("clickable"),Y.classList.add("inactive")),setTimeout(()=>{v(I)},300)}}function k(){if(i.history.length>0){const S=i.history.pop();i.currentNode=S.currentNode,i.visitedNodes=new Set(S.visitedNodes),i.visitedArrows=new Set(S.visitedArrows),document.querySelectorAll(".diamond, .result-box, .arrow, .text").forEach(T=>{T.classList.remove("active","clickable","final"),T.classList.add("inactive")}),i.visitedNodes.forEach(T=>{const F=document.getElementById(`node-${T}`),I=[document.getElementById(`text-${T}`),document.getElementById(`text-${T}-1`),document.getElementById(`text-${T}-2`)].filter(D=>D);F&&(F.classList.remove("inactive"),F.classList.add("active")),I.forEach(D=>{D&&D.classList.remove("inactive")})}),i.visitedArrows.forEach(T=>{const F=document.getElementById(T);F&&(F.classList.remove("inactive"),F.classList.add("active"))}),v(i.currentNode)}}function E(S){const T=i.nodes[S];if(T.type==="question"){i.currentQuestionNode=S;const F=document.getElementById("questionModal"),I=document.getElementById("modalQuestion");F&&I&&(I.textContent=T.text,F.classList.remove("hidden"))}}function j(){const S=document.getElementById("questionModal");S&&S.classList.add("hidden")}function x(S){i.currentQuestionNode&&(_(i.currentQuestionNode,S),j())}function w(){i.currentNode="start",i.visitedNodes.clear(),i.visitedArrows.clear(),i.history=[],document.querySelectorAll(".diamond, .result-box, .arrow, .text").forEach(S=>{S.classList.remove("active","clickable","final"),S.classList.add("inactive")}),v("start")}window.goBack=k,window.resetQuestionnaire=w,window.handleModalAnswer=x,window.closeModal=j;const A=document.createElement("style");A.textContent=`
      .diamond {
        fill: #f9f9f9;
        stroke: #333;
        stroke-width: 2;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .diamond.active {
        fill: #4CAF50;
        stroke: #2E7D32;
        stroke-width: 3;
        filter: drop-shadow(0 4px 6px rgba(76, 175, 80, 0.3));
      }
      .diamond.inactive {
        opacity: 0.3;
        fill: #e0e0e0;
        stroke: #bdbdbd;
        cursor: default;
      }
      .result-box {
        fill: #fff;
        stroke: #333;
        stroke-width: 2;
        rx: 30;
      }
      .result-box.arc-a {
        fill: #4CAF50;
        stroke: #2E7D32;
      }
      .result-box.arc-b {
        fill: #FFEB3B;
        stroke: #F57F17;
      }
      .result-box.arc-c {
        fill: #FF9800;
        stroke: #E65100;
      }
      .result-box.arc-d {
        fill: #F44336;
        stroke: #C62828;
      }
      .result-box.final {
        filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
        stroke-width: 4;
      }
      .result-box.inactive {
        opacity: 0.3;
        fill: #e0e0e0;
        stroke: #bdbdbd;
      }
      .arrow {
        stroke: #333;
        stroke-width: 3;
        fill: none;
        marker-end: url(#arrowhead);
        transition: all 0.3s ease;
      }
      .arrow.inactive {
        opacity: 0.3;
        stroke: #bdbdbd;
      }
      .arrow.active {
        stroke: #4CAF50;
        stroke-width: 4.5;
      }
      .arrow.clickable {
        cursor: pointer;
        stroke-width: 4.5;
      }
      .arrow.clickable:hover {
        stroke: #FF5722;
      }
      .text {
        font-size: 16.5px;
        text-anchor: middle;
        dominant-baseline: middle;
        pointer-events: none;
      }
      .text.inactive {
        opacity: 0.3;
        fill: #bdbdbd;
      }
      .text.small {
        font-size: 15px;
      }
    `,document.head.appendChild(A),f()},[]),l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Rappel des données :"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Limite verticale du Volume d'évolution (Flight Geometry) :"}),l.jsxs("div",{className:"mt-1 p-2 bg-gray-100 rounded-md",children:[e.FlightGeographyHeight," m"]}),l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Limite verticale du Volume de contingence (Contingency Volume) :"}),l.jsxs("div",{className:"mt-1 p-2 bg-gray-100 rounded-md",children:[e.ContingencyVolumeHeight," m"]}),l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Limite verticale du Volume Adjacent (Adjacent Volume) :"}),l.jsxs("div",{className:"mt-1 p-2 bg-gray-100 rounded-md",children:[e.AdjacentVolumeHeight," m"]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Volume d'espace aérien"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:"Sélectionnez une ou plusieurs des neuf options. Sélectionnez 'Autre' si aucune des options précédentes ne s'applique (par exemple, les zones militaires).",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Classe d'espace aérien de l'opération envisagée"})}),l.jsx("div",{className:"mt-1 space-y-2",children:n.map(i=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:(e.airspaceClasses||[]).includes(i),onChange:a=>t({...e,airspaceClasses:a.target.checked?[...e.airspaceClasses||[],i]:(e.airspaceClasses||[]).filter(s=>s!==i)}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:i}),i==="U-Space"&&(e.airspaceClasses||[]).includes("U-Space")&&l.jsx("input",{type:"text",value:e.uspaceProvider,onChange:a=>t({...e,uspaceProvider:a.target.value}),className:"ml-4 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Fournisseur de service USSP"}),i==="Autre, Préciser"&&(e.airspaceClasses||[]).includes("Autre, Préciser")&&l.jsx("input",{type:"text",value:e.otherDetails,onChange:a=>t({...e,otherDetails:a.target.value}),className:"ml-4 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Préciser la nature de l'espace aérien"})]},i))})]}),l.jsx(Ee,{text:"Si l'autorité compétente, l'ANSP ou le service UTM/U-space fournit une carte des risques de collision aérienne (statique ou dynamique), le candidat doit utiliser ce service pour déterminer l'ARC initiale/résiduelle.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Carte des risques de collision aérienne (statique ou dynamique)"})}),l.jsx("input",{type:"checkbox",checked:(e.AirCollisionRiskMap||[]).includes("OUI"),onChange:i=>t({...e,AirCollisionRiskMap:i.target.checked?"OUI":"NON"}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),"  Le service est disponible et sera utilisé",e.AirCollisionRiskMap=="OUI"?l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["U-SPACE",l.jsx("br",{}),`Si vous avez sélectionné "U-Space" comme classe d'espace aérien, veuillez indiquer le nom du fournisseur de service UTM (USSP) que vous utiliserez pour l'opération.`]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Merci de préciser les informations sur votre fournisseur de service"})}),l.jsx("textarea",{value:e.AirCollisionRiskMapJustification,onChange:i=>t({...e,AirCollisionRiskMapJustification:i.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"4"})]}):l.jsx("div",{children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Si vous n'avez pas de fournisseur de service, identifier l'ARC initial du volume opérationnel à l'aide de l'arbre de décision ci-dessous."})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Questionnaire ARC - Classification des Espaces Aériens"}),e.AirCollisionRiskMap=="OUI"?l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Si votre service de carte des risques de collision aérienne est disponible, veuillez l'utiliser pour déterminer l'ARC initial. Vous pôuvez alors passer à l'étape suivante en bas de page en spécifiant vos Niveaux de Risque Air Initiaux."}):l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cliquez sur les nœuds pour répondre aux questions et déterminer l'ARC initial."}),l.jsxs("div",{className:"bg-white rounded-lg p-5 shadow-lg border border-gray-200",children:[l.jsx("div",{ref:r,className:"w-full h-[1100px] border border-gray-300 rounded-md overflow-hidden",id:"flowchart"}),l.jsxs("div",{className:"flex gap-2 mt-5",children:[l.jsx("button",{onClick:()=>{window.goBack&&window.goBack()},className:"px-5 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors",children:"Revenir en arrière"}),l.jsx("button",{onClick:()=>{window.resetQuestionnaire&&window.resetQuestionnaire()},className:"px-5 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors",children:"Recommencer"})]})]}),l.jsx("div",{id:"questionModal",className:"fixed inset-0 bg-black bg-opacity-50 z-50 hidden",children:l.jsxs("div",{className:"bg-white mx-auto mt-[15%] p-5 border border-gray-300 w-4/5 max-w-lg rounded-lg text-center",children:[l.jsx("p",{id:"modalQuestion",className:"mb-5"}),l.jsxs("div",{className:"flex justify-center gap-2",children:[l.jsx("button",{onClick:()=>{window.handleModalAnswer&&window.handleModalAnswer("yes")},className:"px-5 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Yes"}),l.jsx("button",{onClick:()=>{window.handleModalAnswer&&window.handleModalAnswer("no")},className:"px-5 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"No"}),l.jsx("button",{onClick:()=>{window.closeModal&&window.closeModal()},className:"px-5 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600",children:"Dismiss"})]})]})}),l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-gray-400 p-4 md:col-span-2 rounded-md",children:[l.jsx("label",{className:"block text-sm font-medium text-blue-700 mt-4",children:l.jsx("i",{children:"Cliquer sur le nœud ARC précédemment identifier pour valider et afficher les détails de l'ARC initial."})}),l.jsx("label",{className:"block text-sm font-bold text-gray-700 mt-4",children:"Volume Opérationnel, AEC and ARC."}),l.jsx("div",{children:l.jsxs("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e.OpsEnv}),l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 text-black",children:[l.jsx("th",{className:"py-2 px-4 border-b",children:"Taux initial de densité généralisée"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Catégories de rencontres dans l'espace aérien"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC Initial"})]})}),l.jsx("tbody",{children:l.jsxs("tr",{className:"bg-gray-50 text-gray-700",children:[l.jsx("td",{className:"py-2 px-4 border-b",children:e.IGDR}),l.jsx("td",{className:"py-2 px-4 border-b",children:e.AEC}),l.jsx("td",{className:"py-2 px-4 border-b",children:e.ARCI})]})})]})]})})]})})]}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Niveau de Risque Air Initial"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:"Sélectionnez le Niveau de Risque Air Initial pour l'opération envisagée.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Volume Opérationnel"})}),l.jsxs("select",{value:e.OperationalVolumeLevel,onChange:i=>t({...e,OperationalVolumeLevel:i.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"ARC-a",children:"ARC-a"}),l.jsx("option",{value:"ARC-b",children:"ARC-b"}),l.jsx("option",{value:"ARC-c",children:"ARC-c"}),l.jsx("option",{value:"ARC-d",children:"ARC-d"})]})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:"Sélectionnez le Niveau de Risque Air Initial pour le volume adjacent.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Volume Adjacent"})}),l.jsxs("select",{value:e.AdjacentVolumeLevel,onChange:i=>t({...e,AdjacentVolumeLevel:i.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"ARC-a",children:"ARC-a"}),l.jsx("option",{value:"ARC-b",children:"ARC-b"}),l.jsx("option",{value:"ARC-c",children:"ARC-c"}),l.jsx("option",{value:"ARC-d",children:"ARC-d"})]})]})]})]})}function F3({assessment:e,onChange:t}){return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Mitigation Stratégique Risque Air"}),l.jsx("div",{children:"L'atténuation stratégique consiste en des procédures et des restrictions opérationnelles visant à réduire les taux de rencontre avec l'UAS ou le temps d'exposition, avant le décollage."}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["Les restrictions opérationnelles sont contrôlées4 par l'opérateur et visent à réduire les risques de collision avant le décollage. Cette section fournit des détails sur les restrictions opérationnelles et des exemples sur la façon dont elles peuvent être appliquées aux opérations UAS.",l.jsx("br",{}),"Les restrictions opérationnelles sont le principal moyen dont dispose un exploitant pour réduire les risques de collision au moyen d'une ou plusieurs mesures d'atténuation stratégiques. Les mesures d'atténuation les plus courantes sont les suivantes :",l.jsx("br",{}),l.jsx("li",{children:"Atténuation(s) qui limite(nt) le volume géographique dans lequel l'UAS opère (par exemple, certaines frontières ou volumes d'espace aérien)"}),l.jsx("li",{children:"Atténuation(s) qui limite(nt) le cadre temporel opérationnel (par exemple, limité à certaines heures de la journée, comme voler seulement la nuit)"}),l.jsx("br",{}),"En plus de ce qui précède, une autre approche pour limiter l'exposition au risque est de limiter le temps d'exposition. C'est ce qu'on appelle « l'atténuation par l'exposition ». L'atténuation par l'exposition limite simplement la durée d'exposition au risque opérationnel."]}),children:l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Atténuations Stratégique par des restrictions opérationnelles ",l.jsx("button",{type:"button",onClick:()=>window.open("http://jarus-rpas.org/wp-content/uploads/2024/06/SORA-Annex-C-v1.0.pdf","_blank"),className:"text-blue-500 hover:text-blue-700 transition-colors",title:"Ouvrir la documentation JARUS SORA v2.5 Annex C - 5.1 Strategic Mitigation by Operational Restrictions",children:l.jsx($s,{className:"w-4 h-4"})})]})}),l.jsxs("select",{value:e.StrategicMitigationOperationalRestrictionsAvailable,onChange:r=>t({...e,StrategicMitigationOperationalRestrictionsAvailable:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Indiquer une valeur",children:"Indiquer une valeur"}),l.jsx("option",{value:"OUI",children:"OUI"}),l.jsx("option",{value:"NON",children:"NON"})]})]}),e.StrategicMitigationOperationalRestrictionsAvailable==="OUI"&&l.jsxs("div",{children:[l.jsx(Ee,{text:"En quelques phrases, Justifier vos éléments de restrictions opérationnelles",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justifier vos éléments de restrictions opérationnelles"})}),l.jsx("textarea",{value:e.StrategicMitigationOperationalRestrictionsJustification,onChange:r=>t({...e,StrategicMitigationOperationalRestrictionsJustification:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]}),l.jsxs("div",{children:[l.jsx(Ee,{text:l.jsxs("div",{children:["L'atténuation stratégique par des structures et des règles communes exige que tous les aéronefs d'une certaine classe d'espace aérien suivent les mêmes structures et règles ; ces structures et règles visent à réduire le risque de collision dans l'espace aérien.",l.jsx("br",{}),"Tous les aéronefs évoluant dans cet espace aérien doivent y participer et seules les autorités compétentes et/ou les ANSP sont habilitées à fixer des exigences pour ces aéronefs.",l.jsx("br",{}),"L'opérateur de l'UAS n'a aucun contrôle sur l'existence ou le niveau de participation à la structure de l'espace aérien ou sur l'application des règles de vol.",l.jsx("br",{}),"Par conséquent, l'atténuation stratégique par des structures et des règles communes n'est appliquée que par les autorités compétentes et/ou les ANSP. Elle est à la disposition de l'opérateur UAS ou non."]}),children:l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Atténuations Stratégique par des structures communes et des règles ",l.jsx("button",{type:"button",onClick:()=>window.open("http://jarus-rpas.org/wp-content/uploads/2024/06/SORA-Annex-C-v1.0.pdf","_blank"),className:"text-blue-500 hover:text-blue-700 transition-colors",title:"Ouvrir la documentation JARUS SORA v2.5 Annex C - 5.2 Strategic Mitigation by Common Structures and Rules",children:l.jsx($s,{className:"w-4 h-4"})})]})}),l.jsxs("select",{value:e.StrategicMitigationCommonStructuresAvailable,onChange:r=>t({...e,StrategicMitigationCommonStructuresAvailable:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Indiquer une valeur",children:"Indiquer une valeur"}),l.jsx("option",{value:"OUI",children:"OUI"}),l.jsx("option",{value:"NON",children:"NON"})]})]}),e.StrategicMitigationCommonStructuresAvailable==="OUI"&&l.jsxs("div",{children:[l.jsx(Ee,{text:"En quelques phrases, Justifier vos éléments de restrictions opérationnelles",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justifier vos éléments de restrictions opérationnelles"})}),l.jsx("textarea",{value:e.StrategicMitigationCommonStructuresJustification,onChange:r=>t({...e,StrategicMitigationCommonStructuresJustification:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Niveau de Risque Air Résiduel après Mitigation Stratégique "}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("div",{children:[l.jsx(Ee,{text:"Sélectionnez le niveau de risque résiduel pour l'opération envisagée.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Volume Opérationnel"})}),l.jsxs("select",{value:e.OperationalVolumeLevelMitigated,onChange:r=>t({...e,OperationalVolumeLevelMitigated:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"ARC-a",children:"ARC-a"}),l.jsx("option",{value:"ARC-b",children:"ARC-b"}),l.jsx("option",{value:"ARC-c",children:"ARC-c"}),l.jsx("option",{value:"ARC-d",children:"ARC-d"})]})]})})]})]})}function B3({assessment:e,onChange:t}){const r=[{ARC:"ARC-d",Attenuation:"Haut",Robustness:"Haute"},{ARC:"ARC-c",Attenuation:"Moyen",Robustness:"Moyenne"},{ARC:"ARC-b",Attenuation:"Faible",Robustness:"Faible"},{ARC:"ARC-a",Attenuation:"Aucun minimum",Robustness:"Aucun minimum"}];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Tableau de Mitigation Tactique"}),l.jsx("div",{children:"Les mesures d'atténuation tactiques sont appliquées pour réduire tout risque résiduel de collision en vol nécessaire pour atteindre l'objectif de sécurité de l'espace aérien applicable."}),l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-Final"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Niveau d'atténuation Tactique"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Robustesse de l'atténuation"})]})}),l.jsx("tbody",{children:r.map((n,i)=>l.jsxs("tr",{className:n.ARC===e.OperationalVolumeLevelMitigated?"bg-blue-900 text-white":"bg-gray-200 text-gray-400",children:[l.jsx("th",{className:"py-2 px-4 border-b",children:n.ARC}),l.jsx("th",{className:"py-2 px-4 border-b",children:n.Attenuation}),l.jsx("th",{className:"py-2 px-4 border-b",children:n.Robustness})]},i))})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Mitigation Tactique Risque Air"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ee,{text:"L'étape 5 permet de réduire l’ARC en justifiant d’une probabilité réduite de rencontre avec d'autres aéronefs s’appuyant par exemple sur une densité aérienne plus faible, sur une coordination avec les services de contrôle, sur une information des autres usagers de l’espace aérien, etc. La réduction de l’ARC proposée doit être explicitement justifiée et argumentée.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Une Mitigation Tactique est-elle mise en place"})}),l.jsxs("select",{value:e.TacticalMitigationAvailable,onChange:n=>t({...e,TacticalMitigationAvailable:n.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"OUI",children:"OUI"}),l.jsx("option",{value:"NON",children:"NON"})]})]}),e.TacticalMitigationAvailable==="OUI"&&l.jsxs("div",{children:[l.jsx(Ee,{text:"En quelques phrases, veuillez décrire les moyens et TacticalMitigationJustifications de Mitigation Stratégique du risque Air",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justifier vos éléments de Mitigation Tactique du risque Air"})}),l.jsx("textarea",{value:e.TacticalMitigationJustification,onChange:n=>t({...e,TacticalMitigationJustification:n.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]})]})]})}function z3({assessment:e,onChange:t}){const r=[{ARC:"ARC-d",Attenuation:"Haut",Robustness:"Haute"},{ARC:"ARC-c",Attenuation:"Moyen",Robustness:"Moyenne"},{ARC:"ARC-b",Attenuation:"Faible",Robustness:"Faible"},{ARC:"ARC-a",Attenuation:"Aucun minimum",Robustness:"Aucun minimum"}];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Détermination du SAIL"}),l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-Final"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Niveau d'atténuation Tactique"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Robustesse de l'atténuation"})]})}),l.jsx("tbody",{children:r.map((n,i)=>l.jsxs("tr",{className:n.ARC===e.OperationalVolumeLevelMitigated?"bg-white":"bg-gray-200",children:[l.jsx("td",{className:"py-2 px-4 border-b",children:n.ARC}),l.jsx("td",{className:"py-2 px-4 border-b",children:n.Attenuation}),l.jsx("td",{className:"py-2 px-4 border-b",children:n.Robustness})]},i))})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Commentaires additionnels"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("div",{children:[l.jsx(Ee,{text:"En quelques phrases, vous pouvez apporter des commentaires additionnels sur le niveau de SAIL de l'opération envisagée",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Apporter vos commentaires sur le niveau de SAIL si vous le souhaitez :"})}),l.jsx("textarea",{value:e.SAILJustification,onChange:n=>t({...e,SAILJustification:n.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})})]})]})}function U3({assessment:e,onChange:t}){const r=[{GRC_Final:"<=2",ARC_a:"I",ARC_b:"II",ARC_c:"IV",ARC_d:"VI"},{GRC_Final:"3",ARC_a:"II",ARC_b:"II",ARC_c:"IV",ARC_d:"VI"},{GRC_Final:"4",ARC_a:"III",ARC_b:"III",ARC_c:"IV",ARC_d:"VI"},{GRC_Final:"5",ARC_a:"IV",ARC_b:"IV",ARC_c:"IV",ARC_d:"VI"},{GRC_Final:"6",ARC_a:"V",ARC_b:"V",ARC_c:"V",ARC_d:"VI"},{GRC_Final:"7",ARC_a:"VI",ARC_b:"VI",ARC_c:"VI",ARC_d:"VI"}];let n="0";switch(e.GRC_Final){case"1":switch(n="<=2",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 1";break;case"ARC-b":e.SAIL="SAIL 2";break;case"ARC-c":e.SAIL="SAIL 4";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"2":switch(n="<=2",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 1";break;case"ARC-b":e.SAIL="SAIL 2";break;case"ARC-c":e.SAIL="SAIL 4";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"3":switch(n="3",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 2";break;case"ARC-b":e.SAIL="SAIL 2";break;case"ARC-c":e.SAIL="SAIL 4";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"4":switch(n="4",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 3";break;case"ARC-b":e.SAIL="SAIL 3";break;case"ARC-c":e.SAIL="SAIL 4";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"5":switch(n="5",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 4";break;case"ARC-b":e.SAIL="SAIL 4";break;case"ARC-c":e.SAIL="SAIL 4";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"6":switch(n="6",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 5";break;case"ARC-b":e.SAIL="SAIL 5";break;case"ARC-c":e.SAIL="SAIL 5";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"7":switch(n="7",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 6";break;case"ARC-b":e.SAIL="SAIL 6";break;case"ARC-c":e.SAIL="SAIL 6";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"8":n=">7",e.SAIL="Certifié";break;default:n="0",e.SAIL="Certifié"}return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Détermination du SAIL"}),l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsxs("thead",{children:[l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{className:"bg-white  py-2 px-4 border-b"}),l.jsx("th",{colspan:"4",className:"  py-2 px-4 border-b",children:"ARC Final"})]}),l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{className:"bg-blue-400 py-2 px-4 border-b",children:"GRC Final"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-a"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-b"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-c"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-d"})]})]}),l.jsxs("tbody",{children:[r.map((i,a)=>l.jsxs("tr",{className:"bg-gray-200",children:[l.jsx("th",{className:"bg-blue-400 py-2 px-4 border-b",children:i.GRC_Final}),l.jsxs("th",{className:i.GRC_Final.includes(n)&&e.OperationalVolumeLevelMitigated==="ARC-a"?"bg-blue-900  text-white":"bg-gray-200 text-gray-400",children:[i.ARC_a,"    "]}),l.jsxs("th",{className:i.GRC_Final.includes(n)&&e.OperationalVolumeLevelMitigated==="ARC-b"?"bg-blue-900 text-white":"bg-gray-200 text-gray-400",children:[i.ARC_b,"    "]}),l.jsxs("th",{className:i.GRC_Final.includes(n)&&e.OperationalVolumeLevelMitigated==="ARC-c"?"bg-blue-900 text-white":"bg-gray-200 text-gray-400",children:[i.ARC_c,"    "]}),l.jsxs("th",{className:i.GRC_Final.includes(n)&&e.OperationalVolumeLevelMitigated==="ARC-d"?"bg-blue-900 text-white":"bg-gray-200 text-gray-400",children:[i.ARC_d,"    "]})]})),l.jsxs("tr",{children:[l.jsx("th",{className:"bg-blue-400 py-2 px-4 border-b",children:">7"}),l.jsx("th",{className:n.includes(">7")?"bg-blue-900 text-white":"bg-gray-200 text-gray-400",colspan:"5",children:"Opération en catégorie certifiée"})]})]})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Commentaires additionnels"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("div",{children:[l.jsx(Ee,{text:"En quelques phrases, vous pouvez apporter des commentaires additionnels sur le niveau de SAIL de l'opération envisagée",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Apporter vos commentaires sur le niveau de SAIL si vous le souhaitez :"})}),l.jsx("textarea",{value:e.SAILJustification,onChange:i=>t({...e,SAILJustification:i.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})})]})]})}function $3({formData:e}){return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Informations sur l'exploitant"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Nom :"})," ",e.operator.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"N° d'enregistrement :"})," ",e.operator.registrationNumber]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Gestionnaire :"})," ",e.operator.managerName]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Contact opérationnel :"})," ",e.operator.operationalContact]})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Informations sur le drone"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Fabricant :"})," ",e.drone.manufacturer]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Modèle :"})," ",e.drone.model]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Masse :"})," ",e.drone.mass," kg"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Vitesse max :"})," ",e.drone.maxSpeed," m/s"]})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Évaluation des risques"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"GRC Initial :"})," ",e.riskAssessment.intrinsicGroundRisk]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"GRC Final :"})," ",e.riskAssessment.finalGroundRisk]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"ARC :"})," ",e.riskAssessment.airRisk]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"SAIL :"})," ",e.riskAssessment.sailLevel]})]})]}),l.jsx("div",{className:"text-sm text-gray-600 mt-8",children:l.jsx("p",{children:"Vous pouvez maintenant télécharger votre dossier SORA complet en cliquant sur le bouton ci-dessous."})})]})}function V3({className:e=""}){const{studyId:t,studyName:r,formData:n,saving:i,setSaving:a,setStudyId:s}=gf(),{user:c}=Tl(),[d,h]=ve.useState(null),f=async()=>{if(!(!r||i||!c)){a(!0),h(null);try{if(t){const{error:g}=await ei.from("sora_studies").update({name:r,data:n,updated_at:new Date().toISOString(),user_id:c.id}).eq("id",t).eq("user_id",c.id);if(g)throw g}else{const{data:g,error:v}=await ei.from("sora_studies").insert({name:r,data:n,user_id:c.id}).select().single();if(v)throw v;g&&s(g.id)}}catch(g){const v=g instanceof Error?g.message:"Une erreur est survenue lors de la sauvegarde";h(v),console.error("Erreur détaillée lors de la sauvegarde:",g)}finally{a(!1)}}};return l.jsxs("div",{className:"fixed bottom-8 right-8 flex flex-col items-end",children:[d&&l.jsx("div",{className:"mb-2 p-3 bg-red-100 text-red-700 rounded-lg max-w-md",children:d}),l.jsxs("button",{onClick:f,disabled:i||!r||!c,className:`flex items-center gap-2 px-6 py-3 rounded-full shadow-lg transition-all transform hover:scale-105 ${i||!c?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-xl"} ${e}`,children:[l.jsx(JN,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:i?"Sauvegarde...":"Sauvegarder"})]})]})}function q3({isOpen:e,onClose:t,onSaveAndExit:r,onExitWithoutSaving:n}){return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Sauvegarder les modifications ?"}),l.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:l.jsx(Bv,{className:"w-5 h-5"})})]}),l.jsx("p",{className:"mb-6 text-gray-600",children:"Voulez-vous sauvegarder votre travail avant de quitter ?"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Quitter sans sauvegarder"}),l.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Sauvegarder et quitter"})]})]})}):null}function G3(){const e=El(),{user:t}=Tl(),{studyId:r,studyName:n,formData:i,saving:a,setSaving:s}=gf(),[c,d]=ve.useState(!1),h=()=>{d(!0)},f=async()=>{if(!(!t||a)){s(!0);try{r?await ei.from("sora_studies").update({name:n,data:i,updated_at:new Date().toISOString()}).eq("id",r).eq("user_id",t.id):n&&await ei.from("sora_studies").insert({name:n,data:i,user_id:t.id}),e("/")}catch(v){console.error("Erreur lors de la sauvegarde:",v)}finally{s(!1),d(!1)}}},g=()=>{d(!1),e("/")};return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:h,className:"fixed top-4 left-4 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-colors",title:"Retour à l'accueil",children:l.jsx(ZN,{className:"w-6 h-6 text-gray-600"})}),l.jsx(q3,{isOpen:c,onClose:()=>d(!1),onSaveAndExit:f,onExitWithoutSaving:g})]})}var H3={},en={},_i={},Z3=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_i,"__esModule",{value:!0});_i.zipSave=_i.zipSetText=_i.zipGetText=_i.zipLoad=void 0;var W3=Z3(f1),X3=function(e){return W3.default.loadAsync(e)};_i.zipLoad=X3;var J3=function(e,t){var r=e.file(t);return r?r.async("text"):null};_i.zipGetText=J3;var K3=function(e,t,r){return e.file(t,r,{binary:!1})};_i.zipSetText=K3;var Y3=function(e){return e.generateAsync({type:"uint8array",compression:"DEFLATE",compressionOptions:{level:1}})};_i.zipSave=Y3;var fl={},eC={};const Q3={},eO=Object.freeze(Object.defineProperty({__proto__:null,default:Q3},Symbol.toStringTag,{value:"Module"})),a0=ab(eO);var Ip={},qd={exports:{}},qx;function tO(){return qx||(qx=1,function(e,t){var r=a0,n=r.Buffer;function i(s,c){for(var d in s)c[d]=s[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a);function a(s,c,d){return n(s,c,d)}i(n,a),a.from=function(s,c,d){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,c,d)},a.alloc=function(s,c,d){if(typeof s!="number")throw new TypeError("Argument must be a number");var h=n(s);return c!==void 0?typeof d=="string"?h.fill(c,d):h.fill(c):h.fill(0),h},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}(qd,qd.exports)),qd.exports}var Gx;function rO(){if(Gx)return Ip;Gx=1;var e=tO().Buffer,t=e.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(x){if(!x)return"utf8";for(var w;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(w)return;x=(""+x).toLowerCase(),w=!0}}function n(x){var w=r(x);if(typeof w!="string"&&(e.isEncoding===t||!t(x)))throw new Error("Unknown encoding: "+x);return w||x}Ip.StringDecoder=i;function i(x){this.encoding=n(x);var w;switch(this.encoding){case"utf16le":this.text=g,this.end=v,w=4;break;case"utf8":this.fillLast=d,w=4;break;case"base64":this.text=_,this.end=k,w=3;break;default:this.write=E,this.end=j;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(w)}i.prototype.write=function(x){if(x.length===0)return"";var w,A;if(this.lastNeed){if(w=this.fillLast(x),w===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<x.length?w?w+this.text(x,A):this.text(x,A):w||""},i.prototype.end=f,i.prototype.text=h,i.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function a(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function s(x,w,A){var S=w.length-1;if(S<A)return 0;var T=a(w[S]);return T>=0?(T>0&&(x.lastNeed=T-1),T):--S<A||T===-2?0:(T=a(w[S]),T>=0?(T>0&&(x.lastNeed=T-2),T):--S<A||T===-2?0:(T=a(w[S]),T>=0?(T>0&&(T===2?T=0:x.lastNeed=T-3),T):0))}function c(x,w,A){if((w[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return x.lastNeed=2,"�"}}function d(x){var w=this.lastTotal-this.lastNeed,A=c(this,x);if(A!==void 0)return A;if(this.lastNeed<=x.length)return x.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,w,0,x.length),this.lastNeed-=x.length}function h(x,w){var A=s(this,x,w);if(!this.lastNeed)return x.toString("utf8",w);this.lastTotal=A;var S=x.length-(A-this.lastNeed);return x.copy(this.lastChar,0,S),x.toString("utf8",w,S)}function f(x){var w=x&&x.length?this.write(x):"";return this.lastNeed?w+"�":w}function g(x,w){if((x.length-w)%2===0){var A=x.toString("utf16le",w);if(A){var S=A.charCodeAt(A.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",w,x.length-1)}function v(x){var w=x&&x.length?this.write(x):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,A)}return w}function _(x,w){var A=(x.length-w)%3;return A===0?x.toString("base64",w):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",w,x.length-A))}function k(x){var w=x&&x.length?this.write(x):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function E(x){return x.toString(this.encoding)}function j(x){return x&&x.length?this.write(x):""}return Ip}(function(e){(function(t){t.parser=function(U,B){return new n(U,B)},t.SAXParser=n,t.SAXStream=f,t.createStream=h,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(U,B){if(!(this instanceof n))return new n(U,B);var se=this;a(se),se.q=se.c="",se.bufferCheckPosition=t.MAX_BUFFER_LENGTH,se.opt=B||{},se.opt.lowercase=se.opt.lowercase||se.opt.lowercasetags,se.looseCase=se.opt.lowercase?"toLowerCase":"toUpperCase",se.tags=[],se.closed=se.closedRoot=se.sawRoot=!1,se.tag=se.error=null,se.strict=!!U,se.noscript=!!(U||se.opt.noscript),se.state=C.BEGIN,se.strictEntities=se.opt.strictEntities,se.ENTITIES=se.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),se.attribList=[],se.opt.xmlns&&(se.ns=Object.create(E)),se.trackPosition=se.opt.position!==!1,se.trackPosition&&(se.position=se.line=se.column=0),Y(se,"onready")}Object.create||(Object.create=function(U){function B(){}B.prototype=U;var se=new B;return se}),Object.keys||(Object.keys=function(U){var B=[];for(var se in U)U.hasOwnProperty(se)&&B.push(se);return B});function i(U){for(var B=Math.max(t.MAX_BUFFER_LENGTH,10),se=0,le=0,Le=r.length;le<Le;le++){var Be=U[r[le]].length;if(Be>B)switch(r[le]){case"textNode":ie(U);break;case"cdata":z(U,"oncdata",U.cdata),U.cdata="";break;case"script":z(U,"onscript",U.script),U.script="";break;default:ue(U,"Max buffer length exceeded: "+r[le])}se=Math.max(se,Be)}var $e=t.MAX_BUFFER_LENGTH-se;U.bufferCheckPosition=$e+U.position}function a(U){for(var B=0,se=r.length;B<se;B++)U[r[B]]=""}function s(U){ie(U),U.cdata!==""&&(z(U,"oncdata",U.cdata),U.cdata=""),U.script!==""&&(z(U,"onscript",U.script),U.script="")}n.prototype={end:function(){pe(this)},write:Te,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var c;try{c=a0.Stream}catch{c=function(){}}c||(c=function(){});var d=t.EVENTS.filter(function(U){return U!=="error"&&U!=="end"});function h(U,B){return new f(U,B)}function f(U,B){if(!(this instanceof f))return new f(U,B);c.apply(this),this._parser=new n(U,B),this.writable=!0,this.readable=!0;var se=this;this._parser.onend=function(){se.emit("end")},this._parser.onerror=function(le){se.emit("error",le),se._parser.error=null},this._decoder=null,d.forEach(function(le){Object.defineProperty(se,"on"+le,{get:function(){return se._parser["on"+le]},set:function(Le){if(!Le)return se.removeAllListeners(le),se._parser["on"+le]=Le,Le;se.on(le,Le)},enumerable:!0,configurable:!1})})}f.prototype=Object.create(c.prototype,{constructor:{value:f}}),f.prototype.write=function(U){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(U)){if(!this._decoder){var B=rO().StringDecoder;this._decoder=new B("utf8")}U=this._decoder.write(U)}return this._parser.write(U.toString()),this.emit("data",U),!0},f.prototype.end=function(U){return U&&U.length&&this.write(U),this._parser.end(),!0},f.prototype.on=function(U,B){var se=this;return!se._parser["on"+U]&&d.indexOf(U)!==-1&&(se._parser["on"+U]=function(){var le=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);le.splice(0,0,U),se.emit.apply(se,le)}),c.prototype.on.call(se,U,B)};var g="[CDATA[",v="DOCTYPE",_="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/2000/xmlns/",E={xml:_,xmlns:k},j=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function S(U){return U===" "||U===`
`||U==="\r"||U==="	"}function T(U){return U==='"'||U==="'"}function F(U){return U===">"||S(U)}function I(U,B){return U.test(B)}function D(U,B){return!I(U,B)}var C=0;t.STATE={BEGIN:C++,BEGIN_WHITESPACE:C++,TEXT:C++,TEXT_ENTITY:C++,OPEN_WAKA:C++,SGML_DECL:C++,SGML_DECL_QUOTED:C++,DOCTYPE:C++,DOCTYPE_QUOTED:C++,DOCTYPE_DTD:C++,DOCTYPE_DTD_QUOTED:C++,COMMENT_STARTING:C++,COMMENT:C++,COMMENT_ENDING:C++,COMMENT_ENDED:C++,CDATA:C++,CDATA_ENDING:C++,CDATA_ENDING_2:C++,PROC_INST:C++,PROC_INST_BODY:C++,PROC_INST_ENDING:C++,OPEN_TAG:C++,OPEN_TAG_SLASH:C++,ATTRIB:C++,ATTRIB_NAME:C++,ATTRIB_NAME_SAW_WHITE:C++,ATTRIB_VALUE:C++,ATTRIB_VALUE_QUOTED:C++,ATTRIB_VALUE_CLOSED:C++,ATTRIB_VALUE_UNQUOTED:C++,ATTRIB_VALUE_ENTITY_Q:C++,ATTRIB_VALUE_ENTITY_U:C++,CLOSE_TAG:C++,CLOSE_TAG_SAW_WHITE:C++,SCRIPT:C++,SCRIPT_ENDING:C++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(U){var B=t.ENTITIES[U],se=typeof B=="number"?String.fromCharCode(B):B;t.ENTITIES[U]=se});for(var G in t.STATE)t.STATE[t.STATE[G]]=G;C=t.STATE;function Y(U,B,se){U[B]&&U[B](se)}function z(U,B,se){U.textNode&&ie(U),Y(U,B,se)}function ie(U){U.textNode=P(U.opt,U.textNode),U.textNode&&Y(U,"ontext",U.textNode),U.textNode=""}function P(U,B){return U.trim&&(B=B.trim()),U.normalize&&(B=B.replace(/\s+/g," ")),B}function ue(U,B){return ie(U),U.trackPosition&&(B+=`
Line: `+U.line+`
Column: `+U.column+`
Char: `+U.c),B=new Error(B),U.error=B,Y(U,"onerror",B),U}function pe(U){return U.sawRoot&&!U.closedRoot&&ce(U,"Unclosed root tag"),U.state!==C.BEGIN&&U.state!==C.BEGIN_WHITESPACE&&U.state!==C.TEXT&&ue(U,"Unexpected end"),ie(U),U.c="",U.closed=!0,Y(U,"onend"),n.call(U,U.strict,U.opt),U}function ce(U,B){if(typeof U!="object"||!(U instanceof n))throw new Error("bad call to strictFail");U.strict&&ue(U,B)}function he(U){U.strict||(U.tagName=U.tagName[U.looseCase]());var B=U.tags[U.tags.length-1]||U,se=U.tag={name:U.tagName,attributes:{}};U.opt.xmlns&&(se.ns=B.ns),U.attribList.length=0,z(U,"onopentagstart",se)}function O(U,B){var se=U.indexOf(":"),le=se<0?["",U]:U.split(":"),Le=le[0],Be=le[1];return B&&U==="xmlns"&&(Le="xmlns",Be=""),{prefix:Le,local:Be}}function ae(U){if(U.strict||(U.attribName=U.attribName[U.looseCase]()),U.attribList.indexOf(U.attribName)!==-1||U.tag.attributes.hasOwnProperty(U.attribName)){U.attribName=U.attribValue="";return}if(U.opt.xmlns){var B=O(U.attribName,!0),se=B.prefix,le=B.local;if(se==="xmlns")if(le==="xml"&&U.attribValue!==_)ce(U,"xml: prefix must be bound to "+_+`
Actual: `+U.attribValue);else if(le==="xmlns"&&U.attribValue!==k)ce(U,"xmlns: prefix must be bound to "+k+`
Actual: `+U.attribValue);else{var Le=U.tag,Be=U.tags[U.tags.length-1]||U;Le.ns===Be.ns&&(Le.ns=Object.create(Be.ns)),Le.ns[le]=U.attribValue}U.attribList.push([U.attribName,U.attribValue])}else U.tag.attributes[U.attribName]=U.attribValue,z(U,"onattribute",{name:U.attribName,value:U.attribValue});U.attribName=U.attribValue=""}function ee(U,B){if(U.opt.xmlns){var se=U.tag,le=O(U.tagName);se.prefix=le.prefix,se.local=le.local,se.uri=se.ns[le.prefix]||"",se.prefix&&!se.uri&&(ce(U,"Unbound namespace prefix: "+JSON.stringify(U.tagName)),se.uri=le.prefix);var Le=U.tags[U.tags.length-1]||U;se.ns&&Le.ns!==se.ns&&Object.keys(se.ns).forEach(function(H){z(U,"onopennamespace",{prefix:H,uri:se.ns[H]})});for(var Be=0,$e=U.attribList.length;Be<$e;Be++){var N=U.attribList[Be],te=N[0],X=N[1],q=O(te,!0),V=q.prefix,Z=q.local,Q=V===""?"":se.ns[V]||"",W={name:te,value:X,prefix:V,local:Z,uri:Q};V&&V!=="xmlns"&&!Q&&(ce(U,"Unbound namespace prefix: "+JSON.stringify(V)),W.uri=V),U.tag.attributes[te]=W,z(U,"onattribute",W)}U.attribList.length=0}U.tag.isSelfClosing=!!B,U.sawRoot=!0,U.tags.push(U.tag),z(U,"onopentag",U.tag),B||(!U.noscript&&U.tagName.toLowerCase()==="script"?U.state=C.SCRIPT:U.state=C.TEXT,U.tag=null,U.tagName=""),U.attribName=U.attribValue="",U.attribList.length=0}function re(U){if(!U.tagName){ce(U,"Weird empty close tag."),U.textNode+="</>",U.state=C.TEXT;return}if(U.script){if(U.tagName!=="script"){U.script+="</"+U.tagName+">",U.tagName="",U.state=C.SCRIPT;return}z(U,"onscript",U.script),U.script=""}var B=U.tags.length,se=U.tagName;U.strict||(se=se[U.looseCase]());for(var le=se;B--;){var Le=U.tags[B];if(Le.name!==le)ce(U,"Unexpected close tag");else break}if(B<0){ce(U,"Unmatched closing tag: "+U.tagName),U.textNode+="</"+U.tagName+">",U.state=C.TEXT;return}U.tagName=se;for(var Be=U.tags.length;Be-- >B;){var $e=U.tag=U.tags.pop();U.tagName=U.tag.name,z(U,"onclosetag",U.tagName);var N={};for(var te in $e.ns)N[te]=$e.ns[te];var X=U.tags[U.tags.length-1]||U;U.opt.xmlns&&$e.ns!==X.ns&&Object.keys($e.ns).forEach(function(q){var V=$e.ns[q];z(U,"onclosenamespace",{prefix:q,uri:V})})}B===0&&(U.closedRoot=!0),U.tagName=U.attribValue=U.attribName="",U.attribList.length=0,U.state=C.TEXT}function ke(U){var B=U.entity,se=B.toLowerCase(),le,Le="";return U.ENTITIES[B]?U.ENTITIES[B]:U.ENTITIES[se]?U.ENTITIES[se]:(B=se,B.charAt(0)==="#"&&(B.charAt(1)==="x"?(B=B.slice(2),le=parseInt(B,16),Le=le.toString(16)):(B=B.slice(1),le=parseInt(B,10),Le=le.toString(10))),B=B.replace(/^0+/,""),isNaN(le)||Le.toLowerCase()!==B?(ce(U,"Invalid character entity"),"&"+U.entity+";"):String.fromCodePoint(le))}function _e(U,B){B==="<"?(U.state=C.OPEN_WAKA,U.startTagPosition=U.position):S(B)||(ce(U,"Non-whitespace before first tag."),U.textNode=B,U.state=C.TEXT)}function xe(U,B){var se="";return B<U.length&&(se=U.charAt(B)),se}function Te(U){var B=this;if(this.error)throw this.error;if(B.closed)return ue(B,"Cannot write after close. Assign an onready handler.");if(U===null)return pe(B);typeof U=="object"&&(U=U.toString());for(var se=0,le="";le=xe(U,se++),B.c=le,!!le;)switch(B.trackPosition&&(B.position++,le===`
`?(B.line++,B.column=0):B.column++),B.state){case C.BEGIN:if(B.state=C.BEGIN_WHITESPACE,le==="\uFEFF")continue;_e(B,le);continue;case C.BEGIN_WHITESPACE:_e(B,le);continue;case C.TEXT:if(B.sawRoot&&!B.closedRoot){for(var Le=se-1;le&&le!=="<"&&le!=="&";)le=xe(U,se++),le&&B.trackPosition&&(B.position++,le===`
`?(B.line++,B.column=0):B.column++);B.textNode+=U.substring(Le,se-1)}le==="<"&&!(B.sawRoot&&B.closedRoot&&!B.strict)?(B.state=C.OPEN_WAKA,B.startTagPosition=B.position):(!S(le)&&(!B.sawRoot||B.closedRoot)&&ce(B,"Text data outside of root node."),le==="&"?B.state=C.TEXT_ENTITY:B.textNode+=le);continue;case C.SCRIPT:le==="<"?B.state=C.SCRIPT_ENDING:B.script+=le;continue;case C.SCRIPT_ENDING:le==="/"?B.state=C.CLOSE_TAG:(B.script+="<"+le,B.state=C.SCRIPT);continue;case C.OPEN_WAKA:if(le==="!")B.state=C.SGML_DECL,B.sgmlDecl="";else if(!S(le))if(I(j,le))B.state=C.OPEN_TAG,B.tagName=le;else if(le==="/")B.state=C.CLOSE_TAG,B.tagName="";else if(le==="?")B.state=C.PROC_INST,B.procInstName=B.procInstBody="";else{if(ce(B,"Unencoded <"),B.startTagPosition+1<B.position){var Be=B.position-B.startTagPosition;le=new Array(Be).join(" ")+le}B.textNode+="<"+le,B.state=C.TEXT}continue;case C.SGML_DECL:(B.sgmlDecl+le).toUpperCase()===g?(z(B,"onopencdata"),B.state=C.CDATA,B.sgmlDecl="",B.cdata=""):B.sgmlDecl+le==="--"?(B.state=C.COMMENT,B.comment="",B.sgmlDecl=""):(B.sgmlDecl+le).toUpperCase()===v?(B.state=C.DOCTYPE,(B.doctype||B.sawRoot)&&ce(B,"Inappropriately located doctype declaration"),B.doctype="",B.sgmlDecl=""):le===">"?(z(B,"onsgmldeclaration",B.sgmlDecl),B.sgmlDecl="",B.state=C.TEXT):(T(le)&&(B.state=C.SGML_DECL_QUOTED),B.sgmlDecl+=le);continue;case C.SGML_DECL_QUOTED:le===B.q&&(B.state=C.SGML_DECL,B.q=""),B.sgmlDecl+=le;continue;case C.DOCTYPE:le===">"?(B.state=C.TEXT,z(B,"ondoctype",B.doctype),B.doctype=!0):(B.doctype+=le,le==="["?B.state=C.DOCTYPE_DTD:T(le)&&(B.state=C.DOCTYPE_QUOTED,B.q=le));continue;case C.DOCTYPE_QUOTED:B.doctype+=le,le===B.q&&(B.q="",B.state=C.DOCTYPE);continue;case C.DOCTYPE_DTD:B.doctype+=le,le==="]"?B.state=C.DOCTYPE:T(le)&&(B.state=C.DOCTYPE_DTD_QUOTED,B.q=le);continue;case C.DOCTYPE_DTD_QUOTED:B.doctype+=le,le===B.q&&(B.state=C.DOCTYPE_DTD,B.q="");continue;case C.COMMENT:le==="-"?B.state=C.COMMENT_ENDING:B.comment+=le;continue;case C.COMMENT_ENDING:le==="-"?(B.state=C.COMMENT_ENDED,B.comment=P(B.opt,B.comment),B.comment&&z(B,"oncomment",B.comment),B.comment=""):(B.comment+="-"+le,B.state=C.COMMENT);continue;case C.COMMENT_ENDED:le!==">"?(ce(B,"Malformed comment"),B.comment+="--"+le,B.state=C.COMMENT):B.state=C.TEXT;continue;case C.CDATA:le==="]"?B.state=C.CDATA_ENDING:B.cdata+=le;continue;case C.CDATA_ENDING:le==="]"?B.state=C.CDATA_ENDING_2:(B.cdata+="]"+le,B.state=C.CDATA);continue;case C.CDATA_ENDING_2:le===">"?(B.cdata&&z(B,"oncdata",B.cdata),z(B,"onclosecdata"),B.cdata="",B.state=C.TEXT):le==="]"?B.cdata+="]":(B.cdata+="]]"+le,B.state=C.CDATA);continue;case C.PROC_INST:le==="?"?B.state=C.PROC_INST_ENDING:S(le)?B.state=C.PROC_INST_BODY:B.procInstName+=le;continue;case C.PROC_INST_BODY:if(!B.procInstBody&&S(le))continue;le==="?"?B.state=C.PROC_INST_ENDING:B.procInstBody+=le;continue;case C.PROC_INST_ENDING:le===">"?(z(B,"onprocessinginstruction",{name:B.procInstName,body:B.procInstBody}),B.procInstName=B.procInstBody="",B.state=C.TEXT):(B.procInstBody+="?"+le,B.state=C.PROC_INST_BODY);continue;case C.OPEN_TAG:I(x,le)?B.tagName+=le:(he(B),le===">"?ee(B):le==="/"?B.state=C.OPEN_TAG_SLASH:(S(le)||ce(B,"Invalid character in tag name"),B.state=C.ATTRIB));continue;case C.OPEN_TAG_SLASH:le===">"?(ee(B,!0),re(B)):(ce(B,"Forward-slash in opening tag not followed by >"),B.state=C.ATTRIB);continue;case C.ATTRIB:if(S(le))continue;le===">"?ee(B):le==="/"?B.state=C.OPEN_TAG_SLASH:I(j,le)?(B.attribName=le,B.attribValue="",B.state=C.ATTRIB_NAME):ce(B,"Invalid attribute name");continue;case C.ATTRIB_NAME:le==="="?B.state=C.ATTRIB_VALUE:le===">"?(ce(B,"Attribute without value"),B.attribValue=B.attribName,ae(B),ee(B)):S(le)?B.state=C.ATTRIB_NAME_SAW_WHITE:I(x,le)?B.attribName+=le:ce(B,"Invalid attribute name");continue;case C.ATTRIB_NAME_SAW_WHITE:if(le==="=")B.state=C.ATTRIB_VALUE;else{if(S(le))continue;ce(B,"Attribute without value"),B.tag.attributes[B.attribName]="",B.attribValue="",z(B,"onattribute",{name:B.attribName,value:""}),B.attribName="",le===">"?ee(B):I(j,le)?(B.attribName=le,B.state=C.ATTRIB_NAME):(ce(B,"Invalid attribute name"),B.state=C.ATTRIB)}continue;case C.ATTRIB_VALUE:if(S(le))continue;T(le)?(B.q=le,B.state=C.ATTRIB_VALUE_QUOTED):(ce(B,"Unquoted attribute value"),B.state=C.ATTRIB_VALUE_UNQUOTED,B.attribValue=le);continue;case C.ATTRIB_VALUE_QUOTED:if(le!==B.q){le==="&"?B.state=C.ATTRIB_VALUE_ENTITY_Q:B.attribValue+=le;continue}ae(B),B.q="",B.state=C.ATTRIB_VALUE_CLOSED;continue;case C.ATTRIB_VALUE_CLOSED:S(le)?B.state=C.ATTRIB:le===">"?ee(B):le==="/"?B.state=C.OPEN_TAG_SLASH:I(j,le)?(ce(B,"No whitespace between attributes"),B.attribName=le,B.attribValue="",B.state=C.ATTRIB_NAME):ce(B,"Invalid attribute name");continue;case C.ATTRIB_VALUE_UNQUOTED:if(!F(le)){le==="&"?B.state=C.ATTRIB_VALUE_ENTITY_U:B.attribValue+=le;continue}ae(B),le===">"?ee(B):B.state=C.ATTRIB;continue;case C.CLOSE_TAG:if(B.tagName)le===">"?re(B):I(x,le)?B.tagName+=le:B.script?(B.script+="</"+B.tagName,B.tagName="",B.state=C.SCRIPT):(S(le)||ce(B,"Invalid tagname in closing tag"),B.state=C.CLOSE_TAG_SAW_WHITE);else{if(S(le))continue;D(j,le)?B.script?(B.script+="</"+le,B.state=C.SCRIPT):ce(B,"Invalid tagname in closing tag."):B.tagName=le}continue;case C.CLOSE_TAG_SAW_WHITE:if(S(le))continue;le===">"?re(B):ce(B,"Invalid characters in closing tag");continue;case C.TEXT_ENTITY:case C.ATTRIB_VALUE_ENTITY_Q:case C.ATTRIB_VALUE_ENTITY_U:var $e,N;switch(B.state){case C.TEXT_ENTITY:$e=C.TEXT,N="textNode";break;case C.ATTRIB_VALUE_ENTITY_Q:$e=C.ATTRIB_VALUE_QUOTED,N="attribValue";break;case C.ATTRIB_VALUE_ENTITY_U:$e=C.ATTRIB_VALUE_UNQUOTED,N="attribValue";break}if(le===";")if(B.opt.unparsedEntities){var te=ke(B);B.entity="",B.state=$e,B.write(te)}else B[N]+=ke(B),B.entity="",B.state=$e;else I(B.entity.length?A:w,le)?B.entity+=le:(ce(B,"Invalid character in entity name"),B[N]+="&"+B.entity+le,B.entity="",B.state=$e);continue;default:throw new Error(B,"Unknown state: "+B.state)}return B.position>=B.bufferCheckPosition&&i(B),B}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var U=String.fromCharCode,B=Math.floor,se=function(){var le=16384,Le=[],Be,$e,N=-1,te=arguments.length;if(!te)return"";for(var X="";++N<te;){var q=Number(arguments[N]);if(!isFinite(q)||q<0||q>1114111||B(q)!==q)throw RangeError("Invalid code point: "+q);q<=65535?Le.push(q):(q-=65536,Be=(q>>10)+55296,$e=q%1024+56320,Le.push(Be,$e)),(N+1===te||Le.length>le)&&(X+=U.apply(null,Le),Le.length=0)}return X};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:se,configurable:!0,writable:!0}):String.fromCodePoint=se}()})(e)})(eC);var Nl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.setDebugLogSink=e.logger=void 0,e.logger={debug:function(){}};function t(r){e.logger.debug=r}e.setDebugLogSink=t})(Nl);var nO=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});fl.buildXml=fl.parseXml=void 0;var iO=nO(eC),aO=Nl,oO=function(e){var t=iO.default.parser(!0,{trim:!1,normalize:!1}),r,n=null,i=0;return new Promise(function(a,s){t.onopentag=function(c){var d={_parent:n||void 0,_children:[],_fTextNode:!1,_tag:c.name,_attrs:c.attributes};n!=null?n._children.push(d):r=d,n=d,i+=1},t.onclosetag=function(){n=n!=null?n._parent:null},t.ontext=function(c){n!=null&&n._children.push({_parent:n,_children:[],_fTextNode:!0,_text:c})},t.onend=function(){aO.logger.debug("Number of XML elements: ".concat(i)),a(r)},t.onerror=function(c){s(c)},t.write(e),t.end()})};fl.parseXml=oO;function tC(e,t,r){r===void 0&&(r="");var n=r.length?"":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',i=[Buffer.from(n,"utf-8")];if(e._fTextNode)i.push(Buffer.from(sO(e._text,t)));else{var a="",s=e._attrs;Object.keys(s).forEach(function(g){a+=" ".concat(g,'="').concat(lO(s[g]),'"')});var c=e._children.length>0,d=c?"":"/";i.push(Buffer.from(`
`.concat(r,"<").concat(e._tag).concat(a).concat(d,">")));var h=!1;if(e._children.forEach(function(g){i.push(tC(g,t,"".concat(r,"  "))),h=!g._fTextNode}),c){var f=h?`
`.concat(r):"";i.push(Buffer.from("".concat(f,"</").concat(e._tag,">")))}}return Buffer.concat(i)}fl.buildXml=tC;var sO=function(e,t){for(var r="",n=e.split(t.literalXmlDelimiter),i=!1,a=0;a<n.length;a++){var s=n[a];i||(s=s.replace(/&/g,"&amp;"),s=s.replace(/</g,"&lt;"),s=s.replace(/>/g,"&gt;")),r+=s,i=!i}return r},lO=function(e){var t=typeof e=="string"?e:e.value;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/'/g,"&apos;"),t=t.replace(/"/g,"&quot;"),t},o0={},Gt={},Pt={},ki=He&&He.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.UnterminatedForLoopError=Pt.IncompleteConditionalStatementError=Pt.TemplateParseError=Pt.InternalError=Pt.ImageError=Pt.CommandExecutionError=Pt.InvalidCommandError=Pt.CommandSyntaxError=Pt.ObjectCommandResultError=Pt.NullishCommandResultError=Pt.isError=void 0;function uO(e){return e instanceof Error||typeof e=="object"&&!!e&&"name"in e&&"message"in e}Pt.isError=uO;var cO=function(e){ki(t,e);function t(r){var n=e.call(this,"Result of command ".concat(r," is null or undefined and rejectNullish is set"))||this;return Object.setPrototypeOf(n,t.prototype),n.command=r,n}return t}(Error);Pt.NullishCommandResultError=cO;var dO=function(e){ki(t,e);function t(r,n){var i=e.call(this,"Result of command '".concat(r,"' is an object"))||this;return Object.setPrototypeOf(i,t.prototype),i.command=r,i.result=n,i}return t}(Error);Pt.ObjectCommandResultError=dO;var hO=function(e){ki(t,e);function t(r){var n=e.call(this,"Invalid command syntax: ".concat(r))||this;return Object.setPrototypeOf(n,t.prototype),n.command=r,n}return t}(Error);Pt.CommandSyntaxError=hO;var fO=function(e){ki(t,e);function t(r,n){var i=e.call(this,"".concat(r,": ").concat(n))||this;return Object.setPrototypeOf(i,t.prototype),i.command=n,i}return t}(Error);Pt.InvalidCommandError=fO;var rC=function(e){ki(t,e);function t(r,n){var i=e.call(this,"Error executing command '".concat(n,"': ").concat(r.name,": ").concat(r.message))||this;return Object.setPrototypeOf(i,t.prototype),i.command=n,i.err=r,i}return t}(Error);Pt.CommandExecutionError=rC;var pO=function(e){ki(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(rC);Pt.ImageError=pO;var mO=function(e){ki(t,e);function t(r){return e.call(this,"INTERNAL ERROR: ".concat(r))||this}return t}(Error);Pt.InternalError=mO;var gO=function(e){ki(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);Pt.TemplateParseError=gO;var vO=function(e){ki(t,e);function t(){return e.call(this,"Incomplete IF/END-IF statement. Make sure each IF-statement has a corresponding END-IF command.")||this}return t}(Error);Pt.IncompleteConditionalStatementError=vO;var yO=function(e){ki(t,e);function t(r){return e.call(this,"Unterminated FOR-loop ('FOR ".concat(r.varName,"'). Make sure each FOR loop has a corresponding END-FOR command."))||this}return t}(Error);Pt.UnterminatedForLoopError=yO;Object.defineProperty(Gt,"__esModule",{value:!0});Gt.logLoop=Gt.isLoopExploring=Gt.getCurLoop=Gt.addChild=Gt.newTextNode=Gt.newNonTextNode=Gt.insertTextSiblingAfter=Gt.getNextSibling=Gt.cloneNodeWithoutChildren=void 0;var Mp=Pt,xO=Nl,nC=function(e){return e._fTextNode?{_children:[],_fTextNode:!0,_text:e._text}:{_children:[],_fTextNode:!1,_tag:e._tag,_attrs:e._attrs}};Gt.cloneNodeWithoutChildren=nC;var _O=function(e){var t=e._parent;if(t==null)return null;var r=t._children,n=r.indexOf(e);return n<0||n>=r.length-1?null:r[n+1]};Gt.getNextSibling=_O;var bO=function(e){var t=e._parent;if(!(t&&!t._fTextNode&&t._tag==="w:t"))throw new Mp.TemplateParseError("Template syntax error: text node not within w:t");var r=t._parent;if(r==null)throw new Mp.TemplateParseError("Template syntax error: w:t node has no parent");var n=r._children.indexOf(t);if(n<0)throw new Mp.TemplateParseError("Template syntax error");var i=nC(t);i._parent=r;var a={_parent:i,_children:[],_fTextNode:!0,_text:""};return i._children=[a],r._children.splice(n+1,0,i),a};Gt.insertTextSiblingAfter=bO;var wO=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r=[]);var n={_fTextNode:!1,_tag:e,_attrs:t,_children:r};return n._children.forEach(function(i){i._parent=n}),n};Gt.newNonTextNode=wO;var CO=function(e){var t={_children:[],_fTextNode:!0,_text:e};return t};Gt.newTextNode=CO;var EO=function(e,t){return e._children.push(t),t._parent=e,t};Gt.addChild=EO;var iC=function(e){return e.loops.length?e.loops[e.loops.length-1]:null};Gt.getCurLoop=iC;var SO=function(e){var t=iC(e);return t!=null&&t.idx<0};Gt.isLoopExploring=SO;var AO=function(e){if(e.length){var t=e.length-1,r=e[t],n=r.varName,i=r.idx,a=r.loopOver,s=r.isIf,c=i>=0?i+1:"EXPLORATION";xO.logger.debug("".concat(s?"IF":"FOR"," loop ")+"on ".concat(t,":").concat(n)+"".concat(c,"/").concat(a.length))}};Gt.logLoop=AO;Object.defineProperty(o0,"__esModule",{value:!0});var Fp=Gt,TO=function(e,t){for(var r=e,n=!1,i=null,a=0,s="".concat(t[0],"CMD_NODE").concat(t[1]);r!=null;){if(!r._fTextNode&&r._tag==="w:t"&&(r._attrs["xml:space"]="preserve"),!r._fTextNode&&r._tag==="w:p"&&i&&(i._text+=" "),r._fTextNode&&r._parent&&!r._parent._fTextNode&&r._parent._tag==="w:t"){i==null&&(i=r);var c=r._text;r._text="";for(var d=0;d<c.length;d++){var h=c[d],f=n?t[1]:t[0];if(h===f[a]){if(a+=1,a===f.length){n=!n;var g=r===i;n&&i._text.length&&(i=(0,Fp.insertTextSiblingAfter)(i),g&&(r=i)),i._text+=f,!n&&d<c.length-1&&(i=(0,Fp.insertTextSiblingAfter)(i),g&&(r=i)),a=0,n||(i=r)}}else a&&(i._text+=f.slice(0,a),a=0,n||(i=r)),i._text+=h}!n&&!a&&(i=null),c.length&&!r._text.length&&(r._text=s)}if(r._children.length)r=r._children[0];else{for(var v=!1;r._parent!=null;){var _=r._parent,k=(0,Fp.getNextSibling)(r);if(k){v=!0,r=k;break}r=_}v||(r=null)}}return e};o0.default=TO;var Nr={},Df={},va=He&&He.__assign||function(){return va=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},va.apply(this,arguments)},NO=He&&He.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(f){try{h(n.next(f))}catch(g){s(g)}}function d(f){try{h(n.throw(f))}catch(g){s(g)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})},kO=He&&He.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(h){return function(f){return d([h,f])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(f){h=[6,f],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},DO=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Df,"__esModule",{value:!0});Df.runUserJsAndGetRaw=void 0;var Hx=DO(a0),jO=Gt,Bp=Pt,OO=Nl;function RO(e,t,r){return NO(this,void 0,void 0,function(){var n,i,a,s,c,d,h,f,g,v,_;return kO(this,function(k){switch(k.label){case 0:n=va(va(va(va({},r.jsSandbox||{}),{__code__:t,__result__:void 0}),e),r.options.additionalJsContext),i=(0,jO.getCurLoop)(r),i&&(n.$idx=i.idx),Object.keys(r.vars).forEach(function(E){n["$".concat(E)]=r.vars[E]}),k.label=1;case 1:return k.trys.push([1,8,,12]),r.options.runJs?(c=r.options.runJs({sandbox:n,ctx:r}),a=c.modifiedSandbox,[4,c.result]):[3,3];case 2:return s=k.sent(),[3,7];case 3:return r.options.noSandbox?(a=n,d=new Function("with(this) { return eval(__code__); }"),[4,d.call(a)]):[3,5];case 4:return s=k.sent(),[3,7];case 5:return h=new Hx.default.Script((_=n.__code__)!==null&&_!==void 0?_:""),a=Hx.default.createContext(n),[4,h.runInContext(a)];case 6:s=k.sent(),k.label=7;case 7:return[3,12];case 8:return f=k.sent(),g=(0,Bp.isError)(f)?f:new Error("".concat(f)),r.options.errorHandler==null?[3,10]:(a=n,[4,r.options.errorHandler(g,t)]);case 9:return s=k.sent(),[3,11];case 10:throw new Bp.CommandExecutionError(g,t);case 11:return[3,12];case 12:return r.options.rejectNullish&&s==null?(v=new Bp.NullishCommandResultError(t),r.options.errorHandler==null?[3,14]:[4,r.options.errorHandler(v,t)]):[3,15];case 13:return s=k.sent(),[3,15];case 14:throw v;case 15:return r.jsSandbox=va(va({},a),{__code__:void 0,__result__:void 0}),OO.logger.debug("Command returned: ",s),[2,s]}})})}Df.runUserJsAndGetRaw=RO;var pl={};Object.defineProperty(pl,"__esModule",{value:!0});pl.BUILT_IN_COMMANDS=pl.ImageExtensions=void 0;pl.ImageExtensions=[".png",".gif",".jpg",".jpeg",".svg"];pl.BUILT_IN_COMMANDS=["QUERY","CMD_NODE","ALIAS","FOR","END-FOR","IF","END-IF","INS","EXEC","IMAGE","LINK","HTML"];var Hh=He&&He.__assign||function(){return Hh=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Hh.apply(this,arguments)},Xa=He&&He.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(f){try{h(n.next(f))}catch(g){s(g)}}function d(f){try{h(n.throw(f))}catch(g){s(g)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})},Ja=He&&He.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(h){return function(f){return d([h,f])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(f){h=[6,f],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.splitCommand=Nr.getCommand=Nr.walkTemplate=Nr.findHighestImgId=Nr.produceJsReport=Nr.extractQuery=Nr.newContext=void 0;var Qt=Gt,Co=Df,Eg=pl,nr=Pt,Kn=Nl;function aC(e,t){return t===void 0&&(t=0),{gCntIf:0,gCntEndIf:0,level:1,fCmd:!1,cmd:"",fSeekQuery:!1,buffers:{"w:p":{text:"",cmds:"",fInsertedText:!1},"w:tr":{text:"",cmds:"",fInsertedText:!1},"w:tc":{text:"",cmds:"",fInsertedText:!1}},imageAndShapeIdIncrement:t,images:{},linkId:0,links:{},htmlId:0,htmls:{},vars:{},loops:[],fJump:!1,shorthands:{},options:e,pIfCheckMap:new Map,trIfCheckMap:new Map}}Nr.newContext=aC;function PO(e,t){return Xa(this,void 0,void 0,function(){var r,n,i,a,s,c;return Ja(this,function(d){switch(d.label){case 0:r=aC(t),r.fSeekQuery=!0,n=e,d.label=1;case 1:if(n._children.length)n=n._children[0];else{for(i=!1;n._parent!=null;){if(a=n._parent,s=(0,Qt.getNextSibling)(n),s){n=s,i=!0;break}n=a}if(!i)return[3,4]}return n?(c=n._parent,n._fTextNode&&c&&!c._fTextNode&&c._tag==="w:t"?[4,lC(null,n,r,uC)]:[3,3]):[3,4];case 2:d.sent(),d.label=3;case 3:return r.query!=null?[3,4]:[3,1];case 4:return[2,r.query]}})})}Nr.extractQuery=PO;function LO(e,t,r){return Xa(this,void 0,void 0,function(){return Ja(this,function(n){return[2,sC(e,t,r,uC)]})})}Nr.produceJsReport=LO;function IO(e){var t=[],r=function(n){for(var i=0,a=n._children;i<a.length;i++){var s=a[i],c=s._fTextNode?null:s._tag;if(c!=null){if(c==="wp:docPr"){if(s._fTextNode)continue;var d=s._attrs.id;if(typeof d!="string")continue;var h=Number.parseInt(d,10);Number.isSafeInteger(h)&&t.push(h)}s._children.length>0&&r(s)}}};return r(e),t.length>0?Math.max.apply(Math,t):0}Nr.findHighestImgId=IO;var bs=function(e){return JSON.stringify(e._fTextNode?{_ifName:e._ifName,_fTextNode:e._fTextNode,_text:e==null?void 0:e._text}:{_ifName:e._ifName,_fTextNode:e._fTextNode,_tag:e==null?void 0:e._tag,_attrs:e==null?void 0:e._attrs})},oC=function(e){for(var t=e._parent,r=null;t!=null&&r==null;){var n=t._fTextNode?null:t._tag;if(n==="w:p"){var i=t._parent!=null?t._parent._parent:null;i!=null&&!i._fTextNode&&i._tag==="w:tr"?r=i:r=t}t=t._parent}return r};function sC(e,t,r,n){return Xa(this,void 0,void 0,function(){var i,a,s,c,d,h,f,g,v,_,k,C,E,j,x,w,A,S,T,F,I,D,C,G,Y,z,ie,ue,P,ue,pe,ce;return Ja(this,function(he){switch(he.label){case 0:i=(0,Qt.cloneNodeWithoutChildren)(t),a=t,s=i,d=0,h=[],f=0,g=((ce=r.options)===null||ce===void 0?void 0:ce.maximumWalkingDepth)||1e6,he.label=1;case 1:if(v=(0,Qt.getCurLoop)(r),_=null,r.fJump){if(!v)throw new nr.InternalError("jumping while curLoop is null");Kn.logger.debug("Jumping to level ".concat(v.refNodeLevel,"..."),bs(v.refNode)),d=r.level-v.refNodeLevel,a=v.refNode,r.level=v.refNodeLevel,r.fJump=!1,c="JUMP"}else if(a._children.length&&c!=="UP")a=a._children[0],r.level+=1,c="DOWN";else if(_=(0,Qt.getNextSibling)(a))a=_,c="SIDE";else{if(k=a._parent,k==null)return Kn.logger.debug("=== parent is null, breaking after ".concat(f," loops...")),[3,5];if(f>g)throw Kn.logger.debug("=== parent is still not null after ".concat(f," loops, something must be wrong ..."),bs(k)),new nr.InternalError("infinite loop or massive dataset detected. Please review and try again");a=k,r.level-=1,c="UP"}if(Kn.logger.debug("Next node [".concat(c,", level ").concat(r.level,"]"),bs(a)),c!=="DOWN"&&(C=s._fTextNode?null:s._tag,E=!1,(C==="w:p"||C==="w:tbl"||C==="w:tr"||C==="w:tc")&&(0,Qt.isLoopExploring)(r)?E=!0:(C==="w:p"||C==="w:tr"||C==="w:tc")&&(j=r.buffers[C],E=j.text===""&&j.cmds!==""&&!j.fInsertedText,C==="w:tr"&&E&&(E=a._children.filter(function(O){return!O._fTextNode&&O._tag==="w:tr"}).length!==1),C==="w:tc"&&E&&(E=!(s._children.filter(function(O){return!O._fTextNode&&O._tag==="w:tbl"}).length>0))),E&&s._parent!=null&&s._parent._children.pop()),c==="UP"){if((0,Qt.isLoopExploring)(r)&&v&&a===v.refNode._parent&&(v.refNode=a,v.refNodeLevel-=1,Kn.logger.debug("Updated loop '".concat(v.varName,"' refNode: ")+bs(a))),x=s._parent,x==null)throw new nr.InternalError("node parent is null");s=x,r.pendingImageNode&&!s._fTextNode&&s._tag==="w:t"&&(w=r.pendingImageNode.image,A=r.pendingImageNode.caption,S=s._parent,S&&(w._parent=S,S._children.pop(),S._children.push(w),A&&(pe=S._children).push.apply(pe,A),r.buffers["w:p"].fInsertedText=!0,r.buffers["w:tr"].fInsertedText=!0,r.buffers["w:tc"].fInsertedText=!0),delete r.pendingImageNode),r.pendingLinkNode&&!s._fTextNode&&s._tag==="w:r"&&(T=r.pendingLinkNode,F=s._parent,F&&(T._parent=F,F._children.pop(),F._children.push(T),r.buffers["w:p"].fInsertedText=!0,r.buffers["w:tr"].fInsertedText=!0,r.buffers["w:tc"].fInsertedText=!0),delete r.pendingLinkNode),r.pendingHtmlNode&&!s._fTextNode&&s._tag==="w:p"&&(I=r.pendingHtmlNode,D=s._parent,D&&(I._parent=D,D._children.pop(),D._children.push(I),r.buffers["w:p"].fInsertedText=!0,r.buffers["w:tr"].fInsertedText=!0,r.buffers["w:tc"].fInsertedText=!0),delete r.pendingHtmlNode),!s._fTextNode&&s._tag==="w:tc"&&!s._children.filter(function(O){return!O._fTextNode&&(O._tag==="w:p"||O._tag==="w:altChunk")}).length&&s._children.push({_parent:s,_children:[],_fTextNode:!1,_tag:"w:p",_attrs:{}}),!s._fTextNode&&s._tag==="w:rPr"&&(r.textRunPropsNode=s),!a._fTextNode&&a._tag==="w:r"&&delete r.textRunPropsNode}if(!(c==="DOWN"||c==="SIDE"))return[3,4];if(c==="SIDE"){if(s._parent==null)throw new nr.InternalError("node parent is null");s=s._parent}return C=a._fTextNode?null:a._tag,(C==="w:p"||C==="w:tr"||C==="w:tc")&&(r.buffers[C]={text:"",cmds:"",fInsertedText:!1}),G=(0,Qt.cloneNodeWithoutChildren)(a),G._parent=s,s._children.push(G),Y=G._tag,!(0,Qt.isLoopExploring)(r)&&(Y==="wp:docPr"||Y==="v:shape")&&(Kn.logger.debug("detected a - ",bs(G)),ZO(G,r)),z=a._parent,a._fTextNode&&z&&!z._fTextNode&&z._tag==="w:t"?[4,lC(e,a,r,n)]:[3,3];case 2:ie=he.sent(),typeof ie=="string"?(G._text=ie,Kn.logger.debug("Inserted command result string into node. Updated node: "+bs(G))):h.push.apply(h,ie),he.label=3;case 3:s=G,he.label=4;case 4:if(c==="JUMP")for(;d>0;){if(s._parent==null)throw new nr.InternalError("node parent is null");s=s._parent,d-=1}return f++,[3,1];case 5:if(r.gCntIf!==r.gCntEndIf){if(ue=new nr.IncompleteConditionalStatementError,r.options.failFast)throw ue;h.push(ue)}if(r.loops.filter(function(O){return!O.isIf}).length>0){if(P=r.loops[r.loops.length-1],ue=new nr.UnterminatedForLoopError(P),r.options.failFast)throw ue;h.push(ue)}return h.length>0?[2,{status:"errors",errors:h}]:[2,{status:"success",report:i,images:r.images,links:r.links,htmls:r.htmls}]}})})}Nr.walkTemplate=sC;var lC=function(e,t,r,n){return Xa(void 0,void 0,void 0,function(){var i,a,s,c,d,h,f,g,v,_;return Ja(this,function(k){switch(k.label){case 0:if(i=r.options,a=i.cmdDelimiter,s=i.failFast,c=t._text,c==null||c==="")return[2,""];d=c.split(a[0]).map(function(E){return E.split(a[1])}).reduce(function(E,j){return E.concat(j)}),h="",f=[],g=0,k.label=1;case 1:return g<d.length?(g>0&&zp(a[0],r,{fCmd:!0}),v=d[g],r.fCmd?r.cmd+=v:(0,Qt.isLoopExploring)(r)||(h+=v),zp(v,r,{fCmd:r.fCmd}),g<d.length-1?r.fCmd?[4,n(e,t,r)]:[3,3]:[3,4]):[3,5];case 2:if(_=k.sent(),_!=null)if(typeof _=="string")h+=_,zp(_,r,{fCmd:!1,fInsertedText:!0});else{if(s)throw _;f.push(_)}k.label=3;case 3:r.fCmd=!r.fCmd,k.label=4;case 4:return g++,[3,1];case 5:return f.length>0?[2,f]:[2,h]}})})},uC=function(e,t,r){return Xa(void 0,void 0,void 0,function(){var n,i,a,s,c,d,h,f,g,v,_,k,E,j,x,w,A,S,T;return Ja(this,function(F){switch(F.label){case 0:n=cC(r.cmd,r.shorthands,r.options.fixSmartQuotes),r.cmd="",F.label=1;case 1:return F.trys.push([1,28,,29]),i=dC(n),a=i.cmdName,s=i.cmdRest,a!=="CMD_NODE"&&Kn.logger.debug("Processing cmd: ".concat(n)),r.fSeekQuery?(a==="QUERY"&&(r.query=s),[2]):a==="QUERY"||a==="CMD_NODE"?[3,27]:[3,2];case 2:if(a!=="ALIAS")return[3,3];if(c=/^(\S+)\s+(.+)/.exec(s),!c)throw new nr.InvalidCommandError("Invalid ALIAS command",n);return d=c[1],h=c[2],r.shorthands[d]=h,Kn.logger.debug("Defined alias '".concat(d,"' for: ").concat(h)),[3,27];case 3:return a==="FOR"||a==="IF"?[4,BO(e,t,r,n,a,s)]:[3,5];case 4:return F.sent(),[3,27];case 5:return a==="END-FOR"||a==="END-IF"?(zO(t,r,n,a,s),[3,27]):[3,6];case 6:return a!=="INS"?[3,12]:(0,Qt.isLoopExploring)(r)?[3,11]:[4,(0,Co.runUserJsAndGetRaw)(e,s,r)];case 7:return f=F.sent(),f==null?[2,""]:typeof f=="object"&&!Array.isArray(f)?(g=new nr.ObjectCommandResultError(s,f),r.options.errorHandler==null?[3,9]:[4,r.options.errorHandler(g,s)]):[3,10];case 8:return f=F.sent(),[3,10];case 9:throw g;case 10:return v=String(f),r.options.processLineBreaks&&(_=r.options.literalXmlDelimiter,r.options.processLineBreaksAsNewText?(k=v.split(`
`),E="".concat(_,"<w:br/>").concat(_),j="".concat(_,"</w:t>").concat(_),x="".concat(_,'<w:t xml:space="preserve">').concat(_),v=k.join("".concat(j).concat(E).concat(x))):v=v.replace(/\n/g,"".concat(_,"<w:br/>").concat(_))),[2,v];case 11:return[3,27];case 12:return a!=="EXEC"?[3,15]:(0,Qt.isLoopExploring)(r)?[3,14]:[4,(0,Co.runUserJsAndGetRaw)(e,s,r)];case 13:F.sent(),F.label=14;case 14:return[3,27];case 15:return a!=="IMAGE"?[3,18]:(0,Qt.isLoopExploring)(r)?[3,17]:[4,(0,Co.runUserJsAndGetRaw)(e,s,r)];case 16:if(w=F.sent(),w!=null)try{$O(r,w)}catch(I){throw(0,nr.isError)(I)?new nr.ImageError(I,n):I}F.label=17;case 17:return[3,27];case 18:return a!=="LINK"?[3,22]:(0,Qt.isLoopExploring)(r)?[3,21]:[4,(0,Co.runUserJsAndGetRaw)(e,s,r)];case 19:return A=F.sent(),A==null?[3,21]:[4,qO(r,A)];case 20:F.sent(),F.label=21;case 21:return[3,27];case 22:return a!=="HTML"?[3,26]:(0,Qt.isLoopExploring)(r)?[3,25]:[4,(0,Co.runUserJsAndGetRaw)(e,s,r)];case 23:return S=F.sent(),S==null?[3,25]:[4,GO(r,S)];case 24:F.sent(),F.label=25;case 25:return[3,27];case 26:throw new nr.CommandSyntaxError(n);case 27:return[2];case 28:if(T=F.sent(),!(0,nr.isError)(T))throw T;return r.options.errorHandler!=null?[2,r.options.errorHandler(T)]:[2,T];case 29:return[2]}})})},MO=Eg.BUILT_IN_COMMANDS.map(function(e){return new RegExp("^".concat(e,"\\b"))}),FO=function(e){return!MO.some(function(t){return t.test(e.toUpperCase())})};function cC(e,t,r){var n=e.trim();if(n[0]==="*"){var i=n.slice(1).trim();if(!t[i])throw new nr.InvalidCommandError("Unknown alias",n);n=t[i],Kn.logger.debug("Alias for: ".concat(n))}else n[0]==="="?n="INS ".concat(n.slice(1).trim()):n[0]==="!"?n="EXEC ".concat(n.slice(1).trim()):FO(n)&&(n="INS ".concat(n.trim()));return r&&(n=n.replace(/[\u201C\u201D\u201E]/g,'"').replace(/[\u2018\u2019\u201A]/g,"'")),n.trim()}Nr.getCommand=cC;function dC(e){var t=/^(\S+)\s*/.exec(e),r,n="";return t!=null&&(r=t[1].toUpperCase(),n=e.slice(r.length).trim()),{cmdName:r,cmdRest:n}}Nr.splitCommand=dC;var BO=function(e,t,r,n,i,a){return Xa(void 0,void 0,void 0,function(){var s,c,d,h,f,g,v,_,k,E;return Ja(this,function(j){switch(j.label){case 0:if(s=i==="IF",c=null,d=void 0,s)t._ifName||(t._ifName="__if_".concat(r.gCntIf),r.gCntIf+=1),d=t._ifName;else{if(c=/^(\S+)\s+IN\s+(.+)/i.exec(a),!c)throw new nr.InvalidCommandError("Invalid FOR command",n);d=c[1]}if(h=(0,Qt.getCurLoop)(r),h&&h.varName===d)return[3,6];if(s&&(f=oC(t),g=f!=null?f._fTextNode?null:f._tag:null,f!=null)){if(g==="w:p"){if(r.pIfCheckMap.has(f)&&r.pIfCheckMap.get(f)!==n)throw new nr.InvalidCommandError("Invalid IF command nested into another IF command on the same line",n);r.pIfCheckMap.set(f,n)}else if(g==="w:tr"){if(r.trIfCheckMap.has(f)&&r.trIfCheckMap.get(f)!==n)throw new nr.InvalidCommandError("Invalid IF command nested into another IF command on the same table row",n);r.trIfCheckMap.set(f,n)}}return v=r.loops.length-1,_=v>=0&&r.loops[v].idx===-1,k=void 0,_?(k=[],[3,5]):[3,1];case 1:return s?[4,(0,Co.runUserJsAndGetRaw)(e,a,r)]:[3,3];case 2:return E=!!j.sent(),k=E?[1]:[],[3,5];case 3:if(!c)throw new nr.InvalidCommandError("Invalid FOR command",n);return[4,(0,Co.runUserJsAndGetRaw)(e,c[2],r)];case 4:if(k=j.sent(),!Array.isArray(k))throw new nr.InvalidCommandError("Invalid FOR command (can only iterate over Array)",n);j.label=5;case 5:r.loops.push({refNode:t,refNodeLevel:r.level,varName:d,loopOver:k,isIf:s,idx:-1}),j.label=6;case 6:return(0,Qt.logLoop)(r.loops),[2]}})})},zO=function(e,t,r,n,i){var a=n==="END-IF",s=(0,Qt.getCurLoop)(t);if(!s)throw new nr.InvalidCommandError("Unexpected ".concat(n," outside of ").concat(a?"IF statement":"FOR loop"," context"),r);var c=oC(e),d=c!=null?c._fTextNode?null:c._tag:null;d==="w:p"?t.pIfCheckMap.delete(c):d==="w:tr"&&t.trIfCheckMap.delete(c),a&&!e._ifName&&(e._ifName=s.varName,t.gCntEndIf+=1);var h=a?e._ifName:i;if(s.varName!==h){if(t.loops.find(function(v){return v.varName===h})==null){Kn.logger.debug("Ignoring ".concat(r," (").concat(h,", but we're expecting ").concat(s.varName,")"));return}throw new nr.InvalidCommandError("Invalid command",r)}var f=s.idx+1,g=s.loopOver[f];g!=null?(t.vars[h]=g,t.fJump=!0,s.idx=f):t.loops.pop()},Zx=function(e,t){Sg(t),e.imageAndShapeIdIncrement+=1;var r=String(e.imageAndShapeIdIncrement),n="img".concat(r);return e.images[n]=t,n};function Sg(e){if(!(e.data instanceof Uint8Array||e.data instanceof ArrayBuffer||typeof e.data=="string"))throw new Error("image .data property needs to be provided as Uint8Array (e.g. Buffer), ArrayBuffer, or as a base64-encoded string");if(!Eg.ImageExtensions.includes(e.extension))throw new Error("An extension (one of ".concat(Eg.ImageExtensions,") needs to be provided when providing an image or a thumbnail."))}function UO(e){if(!Number.isFinite(e.width))throw new Error("invalid image width: ".concat(e.width," (in cm)"));if(!Number.isFinite(e.height))throw new Error("invalid image height: ".concat(e.height," (in cm)"));Sg(e),e.thumbnail&&Sg(e.thumbnail)}var $O=function(e,t){var r;UO(t);var n=(t.width*36e4).toFixed(0),i=(t.height*36e4).toFixed(0),a=Zx(e,VO(t)),s=String(e.imageAndShapeIdIncrement),c=t.alt||"desc",d=Qt.newNonTextNode,h=[];h.push(d("a:ext",{uri:"{28A0092B-C50C-407E-A947-70E740481C1C}"},[d("a14:useLocalDpi",{"xmlns:a14":"http://schemas.microsoft.com/office/drawing/2010/main",val:"0"})]));var f=t.rotation?(t.rotation*6e4).toString():void 0;if(e.images[a].extension===".svg"){var g=(r=t.thumbnail)!==null&&r!==void 0?r:{data:"bm90aGluZwo=",extension:".png"},v=Zx(e,g);h.push(d("a:ext",{uri:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"},[d("asvg:svgBlip",{"xmlns:asvg":"http://schemas.microsoft.com/office/drawing/2016/SVG/main","r:embed":a})])),a=v}var _=d("pic:pic",{"xmlns:pic":"http://schemas.openxmlformats.org/drawingml/2006/picture"},[d("pic:nvPicPr",{},[d("pic:cNvPr",{id:"0",name:"Picture ".concat(s),descr:c}),d("pic:cNvPicPr",{},[d("a:picLocks",{noChangeAspect:"1",noChangeArrowheads:"1"})])]),d("pic:blipFill",{},[d("a:blip",{"r:embed":a,cstate:"print"},[d("a:extLst",{},h)]),d("a:srcRect"),d("a:stretch",{},[d("a:fillRect")])]),d("pic:spPr",{bwMode:"auto"},[d("a:xfrm",f?{rot:f}:{},[d("a:off",{x:"0",y:"0"}),d("a:ext",{cx:n,cy:i})]),d("a:prstGeom",{prst:"rect"},[d("a:avLst")]),d("a:noFill"),d("a:ln",{},[d("a:noFill")])])]),k=d("w:drawing",{},[d("wp:inline",{distT:"0",distB:"0",distL:"0",distR:"0"},[d("wp:extent",{cx:n,cy:i}),d("wp:docPr",{id:s,name:"Picture ".concat(s),descr:c}),d("wp:cNvGraphicFramePr",{},[d("a:graphicFrameLocks",{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:"1"})]),d("a:graphic",{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},[d("a:graphicData",{uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"},[_])])])]);e.pendingImageNode={image:k},t.caption&&(e.pendingImageNode.caption=[d("w:br"),d("w:t",{},[(0,Qt.newTextNode)(t.caption)])])};function VO(e){var t=e.data,r=e.extension;if(!r)throw new Error("If you return image `data`, make sure you return an extension as well!");return{extension:r,data:t}}var qO=function(e,t){return Xa(void 0,void 0,void 0,function(){var r,n,i,a,s,c,d,h;return Ja(this,function(f){return r=t.url,n=t.label,i=n===void 0?r:n,e.linkId+=1,a=String(e.linkId),s="link".concat(a),e.links[s]={url:r},c=Qt.newNonTextNode,d=e.textRunPropsNode,h=c("w:hyperlink",{"r:id":s,"w:history":"1"},[c("w:r",{},[d||c("w:rPr",{},[c("w:u",{"w:val":"single"})]),c("w:t",{},[(0,Qt.newTextNode)(i)])])]),e.pendingLinkNode=h,[2]})})},GO=function(e,t){return Xa(void 0,void 0,void 0,function(){var r,n,i,a;return Ja(this,function(s){return e.htmlId+=1,r=String(e.htmlId),n="html".concat(r),e.htmls[n]=t,i=Qt.newNonTextNode,a=i("w:altChunk",{"r:id":n}),e.pendingHtmlNode=a,[2]})})},HO=["w:p","w:tr","w:tc"],zp=function(e,t,r){if(!t.fSeekQuery){var n=r.fCmd,i=r.fInsertedText,a=n?"cmds":"text";HO.forEach(function(s){var c=t.buffers[s];c[a]+=e,i&&(c.fInsertedText=!0)})}};function ZO(e,t){t.imageAndShapeIdIncrement+=1;var r=String(t.imageAndShapeIdIncrement);e._attrs=Hh(Hh({},e._attrs),{id:"".concat(r)})}var Cn=He&&He.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(f){try{h(n.next(f))}catch(g){s(g)}}function d(f){try{h(n.throw(f))}catch(g){s(g)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})},En=He&&He.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(h){return function(f){return d([h,f])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(f){h=[6,f],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Ag=He&&He.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},WO=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(en,"__esModule",{value:!0});en.getMainDoc=en.readContentTypes=en.getMetadata=en.listCommands=en.parseTemplate=void 0;var rn=_i,Ci=fl,s0=WO(o0),Yn=Nr,Ba=Gt,oc=Pt,jt=Nl,Wx="+++",Mc="||",l0="[Content_Types].xml",Ti="word",XO=new RegExp("".concat(Ti,"\\/[^\\/]+\\.xml"));function u0(e){return Cn(this,void 0,void 0,function(){var t,r,n,i,a,s,c,d,h;return En(this,function(f){switch(f.label){case 0:return jt.logger.debug("Unzipping..."),[4,(0,rn.zipLoad)(e)];case 1:return t=f.sent(),jt.logger.debug("finding main template file (e.g. document.xml)"),[4,fC(t)];case 2:return r=f.sent(),n=pC(r),i="".concat(Ti,"/").concat(n),jt.logger.debug("Reading ".concat(i,"...")),[4,(0,rn.zipGetText)(t,i)];case 3:if(a=f.sent(),a==null)throw new oc.TemplateParseError("".concat(n," could not be found"));return jt.logger.debug("".concat(i," file length: ").concat(a.length)),jt.logger.debug("Parsing ".concat(i," XML...")),s=new Date().getTime(),[4,(0,Ci.parseXml)(a)];case 4:return c=f.sent(),d=c,h=new Date().getTime(),jt.logger.debug("".concat(i," parsed in ").concat(h-s," ms")),[2,{jsTemplate:d,mainDocument:n,zip:t,contentTypes:r}]}})})}en.parseTemplate=u0;function hC(e,t,r){return Cn(this,void 0,void 0,function(){var n,i,a,s,c,d,h,f,g=this;return En(this,function(v){switch(v.label){case 0:n=[],e.forEach(function(_){return Cn(g,void 0,void 0,function(){return En(this,function(k){return XO.test(_)&&_!=="".concat(Ti,"/").concat(t)&&_.indexOf("".concat(Ti,"/template"))!==0&&n.push(_),[2]})})}),n.sort(),i=[],a=0,s=n,v.label=1;case 1:return a<s.length?(c=s[a],jt.logger.debug("Reading ".concat(c,"...")),[4,(0,rn.zipGetText)(e,c)]):[3,5];case 2:if(d=v.sent(),d==null)throw new oc.TemplateParseError("".concat(c," could not be read"));return jt.logger.debug("".concat(c," file length: ").concat(d.length)),jt.logger.debug("Parsing ".concat(c," XML...")),[4,(0,Ci.parseXml)(d)];case 3:h=v.sent(),f=(0,s0.default)(h,r.cmdDelimiter),i.push([f,c]),v.label=4;case 4:return a++,[3,1];case 5:return[2,i]}})})}function JO(e,t){return Cn(this,void 0,void 0,function(){var r,n,i,a,s,c,d,h,f,g,v,_,k,E,j,x,w,A,S,T,F,I,D,C,G,Y,z,ie,P,ue,pe,ce,he,O,ae,ee,re,ke,_e,xe,Te;return En(this,function(U){switch(U.label){case 0:return jt.logger.debug("Report options:",{attach:e}),r=e.template,n=e.data,i=e.queryVars,a=e.literalXmlDelimiter||Mc,s={cmdDelimiter:mC(e.cmdDelimiter),literalXmlDelimiter:a,processLineBreaks:e.processLineBreaks!=null?e.processLineBreaks:!0,noSandbox:e.noSandbox||!1,runJs:e.runJs,additionalJsContext:e.additionalJsContext||{},failFast:e.failFast==null?!0:e.failFast,rejectNullish:e.rejectNullish==null?!1:e.rejectNullish,errorHandler:typeof e.errorHandler=="function"?e.errorHandler:null,fixSmartQuotes:e.fixSmartQuotes==null?!1:e.fixSmartQuotes,processLineBreaksAsNewText:e.processLineBreaksAsNewText==null?!1:e.processLineBreaksAsNewText,maximumWalkingDepth:e.maximumWalkingDepth},c={literalXmlDelimiter:a},[4,u0(r)];case 1:return d=U.sent(),h=d.jsTemplate,f=d.mainDocument,g=d.zip,v=d.contentTypes,jt.logger.debug("Preprocessing template..."),_=(0,s0.default)(h,s.cmdDelimiter),k=null,typeof n!="function"?[3,4]:(jt.logger.debug("Looking for the query in the template..."),[4,(0,Yn.extractQuery)(_,s)]);case 2:return E=U.sent(),jt.logger.debug("Query: ".concat(E||"no query found")),[4,n(E,i)];case 3:return k=U.sent(),[3,5];case 4:k=n,U.label=5;case 5:return[4,hC(g,f,s)];case 6:return j=U.sent(),x=Math.max.apply(Math,Ag(Ag([],j.map(function(B){var se=B[0];return B[1],(0,Yn.findHighestImgId)(se)}),!1),[(0,Yn.findHighestImgId)(_)],!1)),jt.logger.debug("Generating report..."),w=(0,Yn.newContext)(s,x),[4,(0,Yn.produceJsReport)(k,_,w)];case 7:if(A=U.sent(),A.status==="errors")throw A.errors;return S=A.report,T=A.images,F=A.links,I=A.htmls,t==="JS"?[2,S]:(jt.logger.debug("Converting report to XML..."),D=(0,Ci.buildXml)(S,c),t==="XML"?[2,D.toString("utf-8")]:(jt.logger.debug("Writing report..."),(0,rn.zipSetText)(g,"".concat(Ti,"/").concat(f),D),C=Object.keys(T).length,G=Object.keys(I).length,[4,Xx(T,f,g)]));case 8:return U.sent(),[4,Jx(F,f,g)];case 9:return U.sent(),[4,Kx(I,f,g)];case 10:U.sent(),Y=0,z=j,U.label=11;case 11:return Y<z.length?(ie=z[Y],P=ie[0],ue=ie[1],w=(0,Yn.newContext)(s,w.imageAndShapeIdIncrement),[4,(0,Yn.produceJsReport)(k,P,w)]):[3,17];case 12:if(pe=U.sent(),pe.status==="errors")throw pe.errors;return ce=pe.report,he=pe.images,O=pe.links,ae=pe.htmls,ee=(0,Ci.buildXml)(ce,c),(0,rn.zipSetText)(g,ue,ee),C+=Object.keys(he).length,G+=Object.keys(ae).length,re=ue.split("/"),ke=re[re.length-1],[4,Xx(he,ke,g)];case 13:return U.sent(),[4,Jx(O,f,g)];case 14:return U.sent(),[4,Kx(ae,f,g)];case 15:U.sent(),U.label=16;case 16:return Y++,[3,11];case 17:return(C||G)&&(jt.logger.debug("Completing [Content_Types].xml..."),jt.logger.debug("Content types",{attach:v}),_e=function(B,se){var le=v._children;le.filter(function(Le){var Be;return!Le._fTextNode&&((Be=Le._attrs.Extension)===null||Be===void 0?void 0:Be.toLowerCase())===(B==null?void 0:B.toLowerCase())}).length||(0,Ba.addChild)(v,(0,Ba.newNonTextNode)("Default",{Extension:B,ContentType:se}))},C&&(jt.logger.debug("Completing [Content_Types].xml for IMAGES..."),_e("png","image/png"),_e("jpg","image/jpeg"),_e("jpeg","image/jpeg"),_e("gif","image/gif"),_e("bmp","image/bmp"),_e("svg","image/svg+xml")),G&&(jt.logger.debug("Completing [Content_Types].xml for HTML..."),_e("html","text/html")),xe=(0,Ci.buildXml)(v,c),(0,rn.zipSetText)(g,l0,xe)),jt.logger.debug("Zipping..."),[4,(0,rn.zipSave)(g)];case 18:return Te=U.sent(),[2,Te]}})})}function KO(e,t){return Cn(this,void 0,void 0,function(){var r,n,i,a,s,c,d,h,f,g,v,_,k,E=this;return En(this,function(j){switch(j.label){case 0:return r={cmdDelimiter:mC(t),literalXmlDelimiter:Mc,processLineBreaks:!0,noSandbox:!1,additionalJsContext:{},failFast:!1,rejectNullish:!1,errorHandler:null,fixSmartQuotes:!1,processLineBreaksAsNewText:!1},[4,u0(e)];case 1:return n=j.sent(),i=n.jsTemplate,a=n.mainDocument,s=n.zip,[4,hC(s,a,r)];case 2:c=j.sent(),d=Ag([i],c.map(function(x){var w=x[0];return x[1],w}),!0),h=[],f=0,g=d,j.label=3;case 3:return f<g.length?(v=g[f],_=(0,s0.default)(v,r.cmdDelimiter),k=(0,Yn.newContext)(r),[4,(0,Yn.walkTemplate)(void 0,_,k,function(x,w,A){return Cn(E,void 0,void 0,function(){var S,T,F,I,D;return En(this,function(C){return S=(0,Yn.getCommand)(A.cmd,A.shorthands,A.options.fixSmartQuotes),A.cmd="",T=(0,Yn.splitCommand)(S),F=T.cmdName,I=T.cmdRest,D=F,D!=null&&D!=="CMD_NODE"&&h.push({raw:S,type:D,code:I}),[2,void 0]})})})]):[3,6];case 4:j.sent(),j.label=5;case 5:return f++,[3,3];case 6:return[2,h]}})})}en.listCommands=KO;function YO(e){return Cn(this,void 0,void 0,function(){function t(h){if(h._children.length!==0){var f=h._children[0];if(f._fTextNode)return f._text;throw new Error("Not a text node")}}function r(h,f){for(var g=0,v=h._children;g<v.length;g++){var _=v[g];if(!_._fTextNode&&_._tag===f)return t(_)}}var n,i,a,s,c,d;return En(this,function(h){switch(h.label){case 0:return n="docProps/app.xml",i="docProps/core.xml",[4,(0,rn.zipLoad)(e)];case 1:return a=h.sent(),[4,Tg(a,n)];case 2:return s=h.sent(),[4,Tg(a,i)];case 3:return c=h.sent(),d=function(f){var g=Number(f);if(Number.isFinite(g))return g},[2,{pages:d(r(s,"Pages")),words:d(r(s,"Words")),characters:d(r(s,"Characters")),lines:d(r(s,"Lines")),paragraphs:d(r(s,"Paragraphs")),company:r(s,"Company"),template:r(s,"Template"),title:r(c,"dc:title"),subject:r(c,"dc:subject"),creator:r(c,"dc:creator"),description:r(c,"dc:description"),lastModifiedBy:r(c,"cp:lastModifiedBy"),revision:r(c,"cp:revision"),lastPrinted:r(c,"cp:lastPrinted"),created:r(c,"dcterms:created"),modified:r(c,"dcterms:modified"),category:r(c,"cp:category")}]}})})}en.getMetadata=YO;function Tg(e,t){return Cn(this,void 0,void 0,function(){var r,n;return En(this,function(i){switch(i.label){case 0:return[4,(0,rn.zipGetText)(e,t)];case 1:if(r=i.sent(),r==null)throw new oc.TemplateParseError("".concat(t," could not be read"));return[4,(0,Ci.parseXml)(r)];case 2:if(n=i.sent(),n._fTextNode)throw new oc.TemplateParseError("".concat(t," is a text node when parsed"));return[2,n]}})})}function fC(e){return Cn(this,void 0,void 0,function(){return En(this,function(t){switch(t.label){case 0:return[4,Tg(e,l0)];case 1:return[2,t.sent()]}})})}en.readContentTypes=fC;function pC(e){for(var t=["application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","application/vnd.ms-word.document.macroEnabled.main+xml"],r=0,n=e._children;r<n.length;r++){var i=n[r];if(!i._fTextNode&&i._attrs.ContentType!=null&&t.includes(i._attrs.ContentType)){var a=i._attrs.PartName;if(a)return a.replace("/word/","")}}throw new oc.TemplateParseError("Could not find main document (e.g. document.xml) in ".concat(l0))}en.getMainDoc=pC;var Xx=function(e,t,r){return Cn(void 0,void 0,void 0,function(){var n,i,a,s,c,d,h,f,g,v,_,k;return En(this,function(E){switch(E.label){case 0:return jt.logger.debug("Processing images for ".concat(t,"...")),n=Object.keys(e),n.length?(jt.logger.debug("Completing document.xml.rels..."),i="".concat(Ti,"/_rels/").concat(t,".rels"),[4,c0(r,i)]):[2];case 1:for(a=E.sent(),s=0,c=n;s<c.length;s++)d=c[s],h=e[d],f=h.extension,g=h.data,v="template_".concat(t,"_").concat(d).concat(f),jt.logger.debug("Writing image ".concat(d," (").concat(v,")...")),_="".concat(Ti,"/media/").concat(v),typeof g=="string"?r.file(_,g,{base64:!0}):r.file(_,g,{binary:!0}),(0,Ba.addChild)(a,(0,Ba.newNonTextNode)("Relationship",{Id:d,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"media/".concat(v)}));return k=(0,Ci.buildXml)(a,{literalXmlDelimiter:Mc}),(0,rn.zipSetText)(r,i,k),[2]}})})},Jx=function(e,t,r){return Cn(void 0,void 0,void 0,function(){var n,i,a,s,c,d,h,f;return En(this,function(g){switch(g.label){case 0:return jt.logger.debug("Processing links for ".concat(t,"...")),n=Object.keys(e),n.length?(jt.logger.debug("Completing document.xml.rels..."),i="".concat(Ti,"/_rels/").concat(t,".rels"),[4,c0(r,i)]):[3,2];case 1:for(a=g.sent(),s=0,c=n;s<c.length;s++)d=c[s],h=e[d].url,(0,Ba.addChild)(a,(0,Ba.newNonTextNode)("Relationship",{Id:d,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Target:h,TargetMode:"External"}));f=(0,Ci.buildXml)(a,{literalXmlDelimiter:Mc}),(0,rn.zipSetText)(r,i,f),g.label=2;case 2:return[2]}})})},Kx=function(e,t,r){return Cn(void 0,void 0,void 0,function(){var n,i,a,s,c,d,h,f,g,v,_;return En(this,function(k){switch(k.label){case 0:return jt.logger.debug("Processing htmls for ".concat(t,"...")),n=Object.keys(e),n.length?(jt.logger.debug("Completing document.xml.rels..."),i=[],a="".concat(Ti,"/_rels/").concat(t,".rels"),[4,c0(r,a)]):[3,2];case 1:for(s=k.sent(),c=0,d=n;c<d.length;c++)h=d[c],f=e[h],g="template_".concat(t.replace(/\./g,"_"),"_").concat(h,".html"),jt.logger.debug("Writing html ".concat(h," (").concat(g,")...")),v="".concat(Ti,"/").concat(g),i.push("/".concat(v)),(0,rn.zipSetText)(r,v,Buffer.from(f)),(0,Ba.addChild)(s,(0,Ba.newNonTextNode)("Relationship",{Id:h,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk",Target:"".concat(g)}));_=(0,Ci.buildXml)(s,{literalXmlDelimiter:Mc}),(0,rn.zipSetText)(r,a,_),k.label=2;case 2:return[2]}})})},c0=function(e,t){return Cn(void 0,void 0,void 0,function(){var r;return En(this,function(n){switch(n.label){case 0:return[4,(0,rn.zipGetText)(e,t)];case 1:return r=n.sent(),r||(r=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
        <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
        </Relationships>`),[2,(0,Ci.parseXml)(r)]}})})},mC=function(e){return e?typeof e=="string"?[e,e]:e:[Wx,Wx]};en.default=JO;(function(e){var t=He&&He.__createBinding||(Object.create?function(s,c,d,h){h===void 0&&(h=d);var f=Object.getOwnPropertyDescriptor(c,d);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(s,h,f)}:function(s,c,d,h){h===void 0&&(h=d),s[h]=c[d]}),r=He&&He.__exportStar||function(s,c){for(var d in s)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&t(c,s,d)},n=He&&He.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.createReport=e.getMetadata=e.listCommands=void 0;var i=n(en);e.createReport=i.default;var a=en;Object.defineProperty(e,"listCommands",{enumerable:!0,get:function(){return a.listCommands}}),Object.defineProperty(e,"getMetadata",{enumerable:!0,get:function(){return a.getMetadata}}),r(Pt,e),e.default=i.default})(H3);const QO="data:application/octet-stream;base64,";var gC={exports:{}},_t={},er={};function e5(e,t,r){if(r===void 0&&(r=Array.prototype),e&&typeof r.find=="function")return r.find.call(e,t);for(var n=0;n<e.length;n++)if(Go(e,n)){var i=e[n];if(t.call(void 0,i,n,e))return i}}function kl(e,t){return t===void 0&&(t=Object),t&&typeof t.getOwnPropertyDescriptors=="function"&&(e=t.create(null,t.getOwnPropertyDescriptors(e))),t&&typeof t.freeze=="function"?t.freeze(e):e}function Go(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t5(e,t){if(e===null||typeof e!="object")throw new TypeError("target is not an object");for(var r in t)Go(t,r)&&(e[r]=t[r]);return e}var vC=kl({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0});function r5(e){return Go(vC,e.toLowerCase())}var yC=kl({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n5(e){return Go(yC,e.toLowerCase())}var sc=kl({script:!1,style:!1,textarea:!0,title:!0});function i5(e){var t=e.toLowerCase();return Go(sc,t)&&!sc[t]}function a5(e){var t=e.toLowerCase();return Go(sc,t)&&sc[t]}function xC(e){return e===lc.HTML}function o5(e){return xC(e)||e===lc.XML_XHTML_APPLICATION}var lc=kl({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),s5=Object.keys(lc).map(function(e){return lc[e]});function l5(e){return s5.indexOf(e)>-1}var u5=kl({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});er.assign=t5;er.find=e5;er.freeze=kl;er.HTML_BOOLEAN_ATTRIBUTES=vC;er.HTML_RAW_TEXT_ELEMENTS=sc;er.HTML_VOID_ELEMENTS=yC;er.hasDefaultHTMLNamespace=o5;er.hasOwn=Go;er.isHTMLBooleanAttribute=r5;er.isHTMLRawTextElement=i5;er.isHTMLEscapableRawTextElement=a5;er.isHTMLMimeType=xC;er.isHTMLVoidElement=n5;er.isValidMimeType=l5;er.MIME_TYPE=lc;er.NAMESPACE=u5;var Ka={},c5=er;function _C(e,t){e.prototype=Object.create(Error.prototype,{constructor:{value:e},name:{value:e.name,enumerable:!0,writable:t}})}var uc=c5.freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),bC=Object.keys(uc);function wC(e){return typeof e=="number"&&e>=1&&e<=25}function d5(e){return typeof e=="string"&&e.substring(e.length-uc.Error.length)===uc.Error}function Fc(e,t){wC(e)?(this.name=bC[e],this.message=t||""):(this.message=e,this.name=d5(t)?t:uc.Error),Error.captureStackTrace&&Error.captureStackTrace(this,Fc)}_C(Fc,!0);Object.defineProperties(Fc.prototype,{code:{enumerable:!0,get:function(){var e=bC.indexOf(this.name);return wC(e)?e:0}}});var CC={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},Up=Object.entries(CC);for(var Gd=0;Gd<Up.length;Gd++){var h5=Up[Gd][0];Fc[h5]=Up[Gd][1]}function d0(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,d0)}_C(d0);Ka.DOMException=Fc;Ka.DOMExceptionName=uc;Ka.ExceptionCode=CC;Ka.ParseError=d0;var tr={},ut={};function EC(e){try{typeof e!="function"&&(e=RegExp);var t=new e("𝌆","u").exec("𝌆");return!!t&&t[0].length===2}catch{}return!1}var Bc=EC();function Mo(e){if(e.source[0]!=="[")throw new Error(e+" can not be used with chars");return e.source.slice(1,e.source.lastIndexOf("]"))}function ml(e,t){if(e.source[0]!=="[")throw new Error("/"+e.source+"/ can not be used with chars_without");if(!t||typeof t!="string")throw new Error(JSON.stringify(t)+" is not a valid search");if(e.source.indexOf(t)===-1)throw new Error('"'+t+'" is not is /'+e.source+"/");if(t==="-"&&e.source.indexOf(t)!==1)throw new Error('"'+t+'" is not at the first postion of /'+e.source+"/");return new RegExp(e.source.replace(t,""),Bc?"u":"")}function ft(e){var t=this;return new RegExp(Array.prototype.slice.call(arguments).map(function(r){var n=typeof r=="string";if(n&&t===void 0&&r==="|")throw new Error("use regg instead of reg to wrap expressions with `|`!");return n?r:r.source}).join(""),Bc?"mu":"m")}function Qe(e){if(arguments.length===0)throw new Error("no parameters provided");return ft.apply(Qe,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var f5="�",Fo=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;Bc&&(Fo=ft("[",Mo(Fo),"\\u{10000}-\\u{10FFFF}","]"));var h0=/[\x20\x09\x0D\x0A]/,p5=Mo(h0),Rt=ft(h0,"+"),Zt=ft(h0,"*"),cc=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;Bc&&(cc=ft("[",Mo(cc),"\\u{10000}-\\u{10FFFF}","]"));var m5=Mo(cc),f0=ft("[",m5,Mo(/[-.0-9\xB7]/),Mo(/[\u0300-\u036F\u203F-\u2040]/),"]"),Fn=ft(cc,f0,"*"),Yx=ft(f0,"+"),g5=ft("&",Fn,";"),v5=Qe(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),dc=Qe(g5,"|",v5),hc=ft("%",Fn,";"),p0=Qe(ft('"',Qe(/[^%&"]/,"|",hc,"|",dc),"*",'"'),"|",ft("'",Qe(/[^%&']/,"|",hc,"|",dc),"*","'")),y5=Qe('"',Qe(/[^<&"]/,"|",dc),"*",'"',"|","'",Qe(/[^<&']/,"|",dc),"*","'"),x5=ml(cc,":"),_5=ml(f0,":"),Qx=ft(x5,_5,"*"),zc=ft(Qx,Qe(":",Qx),"?"),b5=ft("^",zc,"$"),w5=ft("(",zc,")"),fc=Qe(/"[^"]*"|'[^']*'/),C5=ft(/^<\?/,"(",Fn,")",Qe(Rt,"(",Fo,"*?)"),"?",/\?>/),e_=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,jf=Qe('"',e_,'*"',"|","'",ml(e_,"'"),"*'"),SC="<!--",AC="-->",E5=ft(SC,Qe(ml(Fo,"-"),"|",ft("-",ml(Fo,"-"))),"*",AC),t_="#PCDATA",S5=Qe(ft(/\(/,Zt,t_,Qe(Zt,/\|/,Zt,zc),"*",Zt,/\)\*/),"|",ft(/\(/,Zt,t_,Zt,/\)/)),A5=/[?*+]?/,T5=ft(/\([^>]+\)/,A5),N5=Qe("EMPTY","|","ANY","|",S5,"|",T5),k5="<!ELEMENT",D5=ft(k5,Rt,Qe(zc,"|",hc),Rt,Qe(N5,"|",hc),Zt,">"),j5=ft("NOTATION",Rt,/\(/,Zt,Fn,Qe(Zt,/\|/,Zt,Fn),"*",Zt,/\)/),O5=ft(/\(/,Zt,Yx,Qe(Zt,/\|/,Zt,Yx),"*",Zt,/\)/),R5=Qe(j5,"|",O5),P5=Qe(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",R5),L5=Qe(/#REQUIRED|#IMPLIED/,"|",Qe(Qe("#FIXED",Rt),"?",y5)),I5=Qe(Rt,Fn,Rt,P5,Rt,L5),M5="<!ATTLIST",F5=ft(M5,Rt,Fn,I5,"*",Zt,">"),Ng="about:legacy-compat",B5=Qe('"'+Ng+'"',"|","'"+Ng+"'"),m0="SYSTEM",Of="PUBLIC",Rf=Qe(Qe(m0,Rt,fc),"|",Qe(Of,Rt,jf,Rt,fc)),z5=ft("^",Qe(Qe(m0,Rt,"(?<SystemLiteralOnly>",fc,")"),"|",Qe(Of,Rt,"(?<PubidLiteral>",jf,")",Rt,"(?<SystemLiteral>",fc,")"))),U5=Qe(Rt,"NDATA",Rt,Fn),$5=Qe(p0,"|",Qe(Rf,U5,"?")),TC="<!ENTITY",V5=ft(TC,Rt,Fn,Rt,$5,Zt,">"),q5=Qe(p0,"|",Rf),G5=ft(TC,Rt,"%",Rt,Fn,Rt,q5,Zt,">"),H5=Qe(V5,"|",G5),Z5=ft(Of,Rt,jf),W5=ft("<!NOTATION",Rt,Fn,Rt,Qe(Rf,"|",Z5),Zt,">"),g0=ft(Zt,"=",Zt),r_=/1[.]\d+/,X5=ft(Rt,"version",g0,Qe("'",r_,"'","|",'"',r_,'"')),n_=/[A-Za-z][-A-Za-z0-9._]*/,J5=Qe(Rt,"encoding",g0,Qe('"',n_,'"',"|","'",n_,"'")),K5=Qe(Rt,"standalone",g0,Qe("'",Qe("yes","|","no"),"'","|",'"',Qe("yes","|","no"),'"')),Y5=ft(/^<\?xml/,X5,J5,"?",K5,"?",Zt,/\?>/),Q5="<!DOCTYPE",eR="<![CDATA[",tR="]]>",rR=/<!\[CDATA\[/,nR=/\]\]>/,iR=ft(Fo,"*?",nR),aR=ft(rR,iR);ut.chars=Mo;ut.chars_without=ml;ut.detectUnicodeSupport=EC;ut.reg=ft;ut.regg=Qe;ut.ABOUT_LEGACY_COMPAT=Ng;ut.ABOUT_LEGACY_COMPAT_SystemLiteral=B5;ut.AttlistDecl=F5;ut.CDATA_START=eR;ut.CDATA_END=tR;ut.CDSect=aR;ut.Char=Fo;ut.Comment=E5;ut.COMMENT_START=SC;ut.COMMENT_END=AC;ut.DOCTYPE_DECL_START=Q5;ut.elementdecl=D5;ut.EntityDecl=H5;ut.EntityValue=p0;ut.ExternalID=Rf;ut.ExternalID_match=z5;ut.Name=Fn;ut.NotationDecl=W5;ut.Reference=dc;ut.PEReference=hc;ut.PI=C5;ut.PUBLIC=Of;ut.PubidLiteral=jf;ut.QName=zc;ut.QName_exact=b5;ut.QName_group=w5;ut.S=Rt;ut.SChar_s=p5;ut.S_OPT=Zt;ut.SYSTEM=m0;ut.SystemLiteral=fc;ut.UNICODE_REPLACEMENT_CHARACTER=f5;ut.UNICODE_SUPPORT=Bc;ut.XMLDecl=Y5;var Ln=er,Ei=Ln.find,oR=Ln.hasDefaultHTMLNamespace,gl=Ln.hasOwn,sR=Ln.isHTMLMimeType,lR=Ln.isHTMLRawTextElement,uR=Ln.isHTMLVoidElement,Eu=Ln.MIME_TYPE,Ni=Ln.NAMESPACE,Ur=Symbol(),NC=Ka,Je=NC.DOMException,cR=NC.DOMExceptionName,yi=ut;function dn(e){if(e!==Ur)throw new TypeError("Illegal constructor")}function dR(e){return e!==""}function hR(e){return e?e.split(/[\t\n\f\r ]+/).filter(dR):[]}function fR(e,t){return gl(e,t)||(e[t]=!0),e}function i_(e){if(!e)return[];var t=hR(e);return Object.keys(t.reduce(fR,{}))}function pR(e){return function(t){return e&&e.indexOf(t)!==-1}}function kC(e){if(!yi.QName_exact.test(e))throw new Je(Je.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+e+'"')}function kg(e,t){kC(t),e=e||null;var r=null,n=t;if(t.indexOf(":")>=0){var i=t.split(":");r=i[0],n=i[1]}if(r!==null&&e===null)throw new Je(Je.NAMESPACE_ERR,"prefix is non-null and namespace is null");if(r==="xml"&&e!==Ln.NAMESPACE.XML)throw new Je(Je.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if((r==="xmlns"||t==="xmlns")&&e!==Ln.NAMESPACE.XMLNS)throw new Je(Je.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(e===Ln.NAMESPACE.XMLNS&&r!=="xmlns"&&t!=="xmlns")throw new Je(Je.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[e,r,n]}function Dl(e,t){for(var r in e)gl(e,r)&&(t[r]=e[r])}function hn(e,t){var r=e.prototype;if(!(r instanceof t)){let n=function(){};n.prototype=t.prototype,n=new n,Dl(r,n),e.prototype=r=n}r.constructor!=e&&(typeof e!="function"&&console.error("unknown Class:"+e),r.constructor=e)}var fn={},ti=fn.ELEMENT_NODE=1,vl=fn.ATTRIBUTE_NODE=2,Zh=fn.TEXT_NODE=3,DC=fn.CDATA_SECTION_NODE=4,jC=fn.ENTITY_REFERENCE_NODE=5,mR=fn.ENTITY_NODE=6,OC=fn.PROCESSING_INSTRUCTION_NODE=7,RC=fn.COMMENT_NODE=8,pc=fn.DOCUMENT_NODE=9,PC=fn.DOCUMENT_TYPE_NODE=10,za=fn.DOCUMENT_FRAGMENT_NODE=11,gR=fn.NOTATION_NODE=12,Jt=Ln.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function LC(e,t){if(t.length<e.length)return LC(t,e);var r=null;for(var n in e){if(e[n]!==t[n])return r;r=e[n]}return r}function a_(e){return e.guid||(e.guid=Math.random()),e.guid}function dr(){}dr.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e){for(var t=[],r=0;r<this.length;r++)qs(this[r],t,e);return t.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}};dr.prototype[Symbol.iterator]=function(){var e=this,t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function ko(e,t){this._node=e,this._refresh=t,Pf(this)}function Pf(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if(ZC(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var n=r.length;n in e;n++)gl(e,n)&&delete e[n];Dl(r,e),e._inc=t}}ko.prototype.item=function(e){return Pf(this),this[e]||null};hn(ko,dr);function yl(){}function IC(e,t){for(var r=0;r<e.length;){if(e[r]===t)return r;r++}}function vR(e,t,r,n){if(n?t[IC(t,n)]=r:(t[t.length]=r,t.length++),e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&BC(i,e,n),yR(i,e,r))}}function o_(e,t,r){var n=IC(t,r);if(n>=0){for(var i=t.length-1;n<=i;)t[n]=t[++n];if(t.length=i,e){var a=e.ownerDocument;a&&BC(a,e,r),r.ownerElement=null}}}yl.prototype={length:0,item:dr.prototype.item,getNamedItem:function(e){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase());for(var t=0;t<this.length;){var r=this[t];if(r.nodeName===e)return r;t++}return null},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!==this._ownerElement)throw new Je(Je.INUSE_ATTRIBUTE_ERR);var r=this.getNamedItemNS(e.namespaceURI,e.localName);return r===e?e:(vR(this._ownerElement,this,e,r),r)},setNamedItemNS:function(e){return this.setNamedItem(e)},removeNamedItem:function(e){var t=this.getNamedItem(e);if(!t)throw new Je(Je.NOT_FOUND_ERR,e);return o_(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);if(!r)throw new Je(Je.NOT_FOUND_ERR,e?e+" : "+t:t);return o_(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){e||(e=null);for(var r=0;r<this.length;){var n=this[r];if(n.localName===t&&n.namespaceURI===e)return n;r++}return null}};yl.prototype[Symbol.iterator]=function(){var e=this,t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function MC(){}MC.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=Eu.XML_APPLICATION;e===Ni.HTML?n=Eu.XML_XHTML_APPLICATION:e===Ni.SVG&&(n=Eu.XML_SVG_IMAGE);var i=new Ua(Ur,{contentType:n});if(i.implementation=this,i.childNodes=new dr,i.doctype=r||null,r&&i.appendChild(r),t){var a=i.createElementNS(e,t);i.appendChild(a)}return i},createDocumentType:function(e,t,r,n){kC(e);var i=new Mf(Ur);return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=r||"",i.internalSubset=n||"",i.childNodes=new dr,i},createHTMLDocument:function(e){var t=new Ua(Ur,{contentType:Eu.HTML});if(t.implementation=this,t.childNodes=new dr,e!==!1){t.doctype=this.createDocumentType("html"),t.doctype.ownerDocument=t,t.appendChild(t.doctype);var r=t.createElement("html");t.appendChild(r);var n=t.createElement("head");if(r.appendChild(n),typeof e=="string"){var i=t.createElement("title");i.appendChild(t.createTextNode(e)),n.appendChild(i)}r.appendChild(t.createElement("body"))}return t}};function xt(e){dn(e)}xt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var e=this.getRootNode();return e&&e.nodeType===e.DOCUMENT_NODE},contains:function(e){if(!e)return!1;var t=e;do{if(this===t)return!0;t=e.parentNode}while(t);return!1},getRootNode:function(e){var t=this;do{if(!t.parentNode)return t;t=t.parentNode}while(t)},isEqualNode:function(e){if(!e||this.nodeType!==e.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==e.name||this.publicId!==e.publicId||this.systemId!==e.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==e.namespaceURI||this.prefix!==e.prefix||this.localName!==e.localName||this.attributes.length!==e.attributes.length)return!1;for(var t=0;t<this.attributes.length;t++){var r=this.attributes.item(t);if(!r.isEqualNode(e.getAttributeNodeNS(r.namespaceURI,r.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==e.namespaceURI||this.localName!==e.localName||this.value!==e.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==e.target||this.data!==e.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==e.data)return!1;break}if(this.childNodes.length!==e.childNodes.length)return!1;for(var t=0;t<this.childNodes.length;t++)if(!this.childNodes[t].isEqualNode(e.childNodes[t]))return!1;return!0},isSameNode:function(e){return this===e},insertBefore:function(e,t){return Wh(this,e,t)},replaceChild:function(e,t){Wh(this,e,t,VC),t&&this.removeChild(t)},removeChild:function(e){return UC(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return Dg(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Zh&&e.nodeType==Zh?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(gl(r,n)&&r[n]===e)return n}t=t.nodeType==vl?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&gl(r,e))return r[e];t=t.nodeType==vl?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null},compareDocumentPosition:function(e){if(this===e)return 0;var t=e,r=this,n=null,i=null;if(t instanceof Bo&&(n=t,t=n.ownerElement),r instanceof Bo&&(i=r,r=i.ownerElement,n&&t&&r===t))for(var a=0,s;s=r.attributes[a];a++){if(s===n)return Jt.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+Jt.DOCUMENT_POSITION_PRECEDING;if(s===i)return Jt.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+Jt.DOCUMENT_POSITION_FOLLOWING}if(!t||!r||r.ownerDocument!==t.ownerDocument)return Jt.DOCUMENT_POSITION_DISCONNECTED+Jt.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(a_(r.ownerDocument)>a_(t.ownerDocument)?Jt.DOCUMENT_POSITION_FOLLOWING:Jt.DOCUMENT_POSITION_PRECEDING);if(i&&t===r)return Jt.DOCUMENT_POSITION_CONTAINS+Jt.DOCUMENT_POSITION_PRECEDING;if(n&&t===r)return Jt.DOCUMENT_POSITION_CONTAINED_BY+Jt.DOCUMENT_POSITION_FOLLOWING;for(var c=[],d=t.parentNode;d;){if(!i&&d===r)return Jt.DOCUMENT_POSITION_CONTAINED_BY+Jt.DOCUMENT_POSITION_FOLLOWING;c.push(d),d=d.parentNode}c.reverse();for(var h=[],f=r.parentNode;f;){if(!n&&f===t)return Jt.DOCUMENT_POSITION_CONTAINS+Jt.DOCUMENT_POSITION_PRECEDING;h.push(f),f=f.parentNode}h.reverse();var g=LC(c,h);for(var v in g.childNodes){var _=g.childNodes[v];if(_===r)return Jt.DOCUMENT_POSITION_FOLLOWING;if(_===t)return Jt.DOCUMENT_POSITION_PRECEDING;if(h.indexOf(_)>=0)return Jt.DOCUMENT_POSITION_FOLLOWING;if(c.indexOf(_)>=0)return Jt.DOCUMENT_POSITION_PRECEDING}return 0}};function FC(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}Dl(fn,xt);Dl(fn,xt.prototype);Dl(Jt,xt);Dl(Jt,xt.prototype);function Iu(e,t){if(t(e))return!0;if(e=e.firstChild)do if(Iu(e,t))return!0;while(e=e.nextSibling)}function Ua(e,t){dn(e);var r=t||{};this.ownerDocument=this,this.contentType=r.contentType||Eu.XML_APPLICATION,this.type=sR(this.contentType)?"html":"xml"}function yR(e,t,r){e&&e._inc++;var n=r.namespaceURI;n===Ni.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function BC(e,t,r,n){e&&e._inc++;var i=r.namespaceURI;i===Ni.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function zC(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r&&!r.nextSibling)n[n.length++]=r;else{for(var i=t.firstChild,a=0;i;)n[a++]=i,i=i.nextSibling;n.length=a,delete n[n.length]}}}function UC(e,t){if(e!==t.parentNode)throw new Je(Je.NOT_FOUND_ERR,"child's parent is not parent");var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,zC(e.ownerDocument,e),t.parentNode=null,t.previousSibling=null,t.nextSibling=null,t}function xR(e){return e&&(e.nodeType===xt.DOCUMENT_NODE||e.nodeType===xt.DOCUMENT_FRAGMENT_NODE||e.nodeType===xt.ELEMENT_NODE)}function _R(e){return e&&(e.nodeType===xt.CDATA_SECTION_NODE||e.nodeType===xt.COMMENT_NODE||e.nodeType===xt.DOCUMENT_FRAGMENT_NODE||e.nodeType===xt.DOCUMENT_TYPE_NODE||e.nodeType===xt.ELEMENT_NODE||e.nodeType===xt.PROCESSING_INSTRUCTION_NODE||e.nodeType===xt.TEXT_NODE)}function $a(e){return e&&e.nodeType===xt.DOCUMENT_TYPE_NODE}function qi(e){return e&&e.nodeType===xt.ELEMENT_NODE}function $C(e){return e&&e.nodeType===xt.TEXT_NODE}function s_(e,t){var r=e.childNodes||[];if(Ei(r,qi)||$a(t))return!1;var n=Ei(r,$a);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function l_(e,t){var r=e.childNodes||[];function n(a){return qi(a)&&a!==t}if(Ei(r,n))return!1;var i=Ei(r,$a);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function bR(e,t,r){if(!xR(e))throw new Je(Je.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new Je(Je.NOT_FOUND_ERR,"child not in parent");if(!_R(t)||$a(t)&&e.nodeType!==xt.DOCUMENT_NODE)throw new Je(Je.HIERARCHY_REQUEST_ERR,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function wR(e,t,r){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===xt.DOCUMENT_FRAGMENT_NODE){var a=i.filter(qi);if(a.length>1||Ei(i,$C))throw new Je(Je.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(a.length===1&&!s_(e,r))throw new Je(Je.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(qi(t)&&!s_(e,r))throw new Je(Je.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if($a(t)){if(Ei(n,$a))throw new Je(Je.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var s=Ei(n,qi);if(r&&n.indexOf(s)<n.indexOf(r))throw new Je(Je.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!r&&s)throw new Je(Je.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function VC(e,t,r){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===xt.DOCUMENT_FRAGMENT_NODE){var a=i.filter(qi);if(a.length>1||Ei(i,$C))throw new Je(Je.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(a.length===1&&!l_(e,r))throw new Je(Je.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(qi(t)&&!l_(e,r))throw new Je(Je.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if($a(t)){if(Ei(n,function(d){return $a(d)&&d!==r}))throw new Je(Je.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var s=Ei(n,qi);if(r&&n.indexOf(s)<n.indexOf(r))throw new Je(Je.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function Wh(e,t,r,n){bR(e,t,r),e.nodeType===xt.DOCUMENT_NODE&&(n||wR)(e,t,r);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===za){var a=t.firstChild;if(a==null)return t;var s=t.lastChild}else a=s=t;var c=r?r.previousSibling:e.lastChild;a.previousSibling=c,s.nextSibling=r,c?c.nextSibling=a:e.firstChild=a,r==null?e.lastChild=s:r.previousSibling=s;do a.parentNode=e;while(a!==s&&(a=a.nextSibling));return zC(e.ownerDocument||e,e,t),t.nodeType==za&&(t.firstChild=t.lastChild=null),t}Ua.prototype={implementation:null,nodeName:"#document",nodeType:pc,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType===za){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return Wh(this,e,t),e.ownerDocument=this,this.documentElement===null&&e.nodeType===ti&&(this.documentElement=e),e},removeChild:function(e){var t=UC(this,e);return t===this.documentElement&&(this.documentElement=null),t},replaceChild:function(e,t){Wh(this,e,t,VC),e.ownerDocument=this,t&&this.removeChild(t),qi(e)&&(this.documentElement=e)},importNode:function(e,t){return HC(this,e,t)},getElementById:function(e){var t=null;return Iu(this.documentElement,function(r){if(r.nodeType==ti&&r.getAttribute("id")==e)return t=r,!0}),t},createElement:function(e){var t=new Va(Ur);t.ownerDocument=this,this.type==="html"&&(e=e.toLowerCase()),oR(this.contentType)&&(t.namespaceURI=Ni.HTML),t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new dr;var r=t.attributes=new yl;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new $c(Ur);return e.ownerDocument=this,e.childNodes=new dr,e},createTextNode:function(e){var t=new Uc(Ur);return t.ownerDocument=this,t.childNodes=new dr,t.appendData(e),t},createComment:function(e){var t=new Lf(Ur);return t.ownerDocument=this,t.childNodes=new dr,t.appendData(e),t},createCDATASection:function(e){var t=new If(Ur);return t.ownerDocument=this,t.childNodes=new dr,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new Bf(Ur);return r.ownerDocument=this,r.childNodes=new dr,r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){if(!yi.QName_exact.test(e))throw new Je(Je.INVALID_CHARACTER_ERR,'invalid character in name "'+e+'"');return this.type==="html"&&(e=e.toLowerCase()),this._createAttribute(e)},_createAttribute:function(e){var t=new Bo(Ur);return t.ownerDocument=this,t.childNodes=new dr,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){if(!yi.Name.test(e))throw new Je(Je.INVALID_CHARACTER_ERR,'not a valid xml name "'+e+'"');if(this.type==="html")throw new Je("document is an html document",cR.NotSupportedError);var t=new Ff(Ur);return t.ownerDocument=this,t.childNodes=new dr,t.nodeName=e,t},createElementNS:function(e,t){var r=kg(e,t),n=new Va(Ur),i=n.attributes=new yl;return n.childNodes=new dr,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=r[0],n.prefix=r[1],n.localName=r[2],i._ownerElement=n,n},createAttributeNS:function(e,t){var r=kg(e,t),n=new Bo(Ur);return n.ownerDocument=this,n.childNodes=new dr,n.nodeName=t,n.name=t,n.specified=!0,n.namespaceURI=r[0],n.prefix=r[1],n.localName=r[2],n}};hn(Ua,xt);function Va(e){dn(e),this._nsMap=Object.create(null)}Va.prototype={nodeType:ti,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return this.ownerDocument.type==="html"&&this.namespaceURI===Ni.HTML},hasAttributes:function(){return!!(this.attributes&&this.attributes.length)},hasAttribute:function(e){return!!this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t?t.value:null},getAttributeNode:function(e){return this._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase()),this.attributes.getNamedItem(e)},setAttribute:function(e,t){this._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase());var r=this.getAttributeNode(e);r?r.value=r.nodeValue=""+t:(r=this.ownerDocument._createAttribute(e),r.value=r.nodeValue=""+t,this.setAttributeNode(r))},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r?r.value:null},setAttributeNS:function(e,t,r){var n=kg(e,t),i=n[2],a=this.getAttributeNodeNS(e,i);a?a.value=a.nodeValue=""+r:(a=this.ownerDocument.createAttributeNS(e,t),a.value=a.nodeValue=""+r,this.setAttributeNode(a))},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByClassName:function(e){var t=i_(e);return new ko(this,function(r){var n=[];return t.length>0&&Iu(r,function(i){if(i!==r&&i.nodeType===ti){var a=i.getAttribute("class");if(a){var s=e===a;if(!s){var c=i_(a);s=t.every(pR(c))}s&&n.push(i)}}}),n})},getElementsByTagName:function(e){var t=(this.nodeType===pc?this:this.ownerDocument).type==="html",r=e.toLowerCase();return new ko(this,function(n){var i=[];return Iu(n,function(a){if(!(a===n||a.nodeType!==ti))if(e==="*")i.push(a);else{var s=a.getQualifiedName(),c=t&&a.namespaceURI===Ni.HTML?r:e;s===c&&i.push(a)}}),i})},getElementsByTagNameNS:function(e,t){return new ko(this,function(r){var n=[];return Iu(r,function(i){i!==r&&i.nodeType===ti&&(e==="*"||i.namespaceURI===e)&&(t==="*"||i.localName==t)&&n.push(i)}),n})}};Ua.prototype.getElementsByClassName=Va.prototype.getElementsByClassName;Ua.prototype.getElementsByTagName=Va.prototype.getElementsByTagName;Ua.prototype.getElementsByTagNameNS=Va.prototype.getElementsByTagNameNS;hn(Va,xt);function Bo(e){dn(e),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}Bo.prototype.nodeType=vl;hn(Bo,xt);function jl(e){dn(e)}jl.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),i=this.data.substring(e+t);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};hn(jl,xt);function Uc(e){dn(e)}Uc.prototype={nodeName:"#text",nodeType:Zh,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};hn(Uc,jl);function Lf(e){dn(e)}Lf.prototype={nodeName:"#comment",nodeType:RC};hn(Lf,jl);function If(e){dn(e)}If.prototype={nodeName:"#cdata-section",nodeType:DC};hn(If,Uc);function Mf(e){dn(e)}Mf.prototype.nodeType=PC;hn(Mf,xt);function v0(e){dn(e)}v0.prototype.nodeType=gR;hn(v0,xt);function y0(e){dn(e)}y0.prototype.nodeType=mR;hn(y0,xt);function Ff(e){dn(e)}Ff.prototype.nodeType=jC;hn(Ff,xt);function $c(e){dn(e)}$c.prototype.nodeName="#document-fragment";$c.prototype.nodeType=za;hn($c,xt);function Bf(e){dn(e)}Bf.prototype.nodeType=OC;hn(Bf,jl);function qC(){}qC.prototype.serializeToString=function(e,t){return GC.call(e,t)};xt.prototype.toString=GC;function GC(e){var t=[],r=this.nodeType===pc&&this.documentElement||this,n=r.prefix,i=r.namespaceURI;if(i&&n==null){var n=r.lookupPrefix(i);if(n==null)var a=[{namespace:i,prefix:null}]}return qs(this,t,e,a),t.join("")}function u_(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!i||n==="xml"&&i===Ni.XML||i===Ni.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===n)return s.namespace!==i}return!0}function $p(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,FC),'"')}function qs(e,t,r,n){n||(n=[]);var i=e.nodeType===pc?e:e.ownerDocument,a=i.type==="html";if(r)if(e=r(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case ti:var s=e.attributes,c=s.length,A=e.firstChild,d=e.tagName,h=d;if(!a&&!e.prefix&&e.namespaceURI){for(var f,g=0;g<s.length;g++)if(s.item(g).name==="xmlns"){f=s.item(g).value;break}if(!f)for(var v=n.length-1;v>=0;v--){var _=n[v];if(_.prefix===""&&_.namespace===e.namespaceURI){f=_.namespace;break}}if(f!==e.namespaceURI)for(var v=n.length-1;v>=0;v--){var _=n[v];if(_.namespace===e.namespaceURI){_.prefix&&(h=_.prefix+":"+d);break}}}t.push("<",h);for(var k=0;k<c;k++){var E=s.item(k);E.prefix=="xmlns"?n.push({prefix:E.localName,namespace:E.value}):E.nodeName=="xmlns"&&n.push({prefix:"",namespace:E.value})}for(var k=0;k<c;k++){var E=s.item(k);if(u_(E,a,n)){var j=E.prefix||"",x=E.namespaceURI;$p(t,j?"xmlns:"+j:"xmlns",x),n.push({prefix:j,namespace:x})}qs(E,t,r,n)}if(d===h&&u_(e,a,n)){var j=e.prefix||"",x=e.namespaceURI;$p(t,j?"xmlns:"+j:"xmlns",x),n.push({prefix:j,namespace:x})}var w=!A;if(w&&(a||e.namespaceURI===Ni.HTML)&&(w=uR(d)),w)t.push("/>");else{if(t.push(">"),a&&lR(d))for(;A;)A.data?t.push(A.data):qs(A,t,r,n.slice()),A=A.nextSibling;else for(;A;)qs(A,t,r,n.slice()),A=A.nextSibling;t.push("</",h,">")}return;case pc:case za:for(var A=e.firstChild;A;)qs(A,t,r,n.slice()),A=A.nextSibling;return;case vl:return $p(t,e.name,e.value);case Zh:return t.push(e.data.replace(/[<&>]/g,FC));case DC:return t.push(yi.CDATA_START,e.data,yi.CDATA_END);case RC:return t.push(yi.COMMENT_START,e.data,yi.COMMENT_END);case PC:var S=e.publicId,T=e.systemId;t.push(yi.DOCTYPE_DECL_START," ",e.name),S?(t.push(" ",yi.PUBLIC," ",S),T&&T!=="."&&t.push(" ",T)):T&&T!=="."&&t.push(" ",yi.SYSTEM," ",T),e.internalSubset&&t.push(" [",e.internalSubset,"]"),t.push(">");return;case OC:return t.push("<?",e.target," ",e.data,"?>");case jC:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function HC(e,t,r){var n;switch(t.nodeType){case ti:n=t.cloneNode(!1),n.ownerDocument=e;case za:break;case vl:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(HC(e,i,r)),i=i.nextSibling;return n}function Dg(e,t,r){var n=new t.constructor(Ur);for(var i in t)if(gl(t,i)){var a=t[i];typeof a!="object"&&a!=n[i]&&(n[i]=a)}switch(t.childNodes&&(n.childNodes=new dr),n.ownerDocument=e,n.nodeType){case ti:var s=t.attributes,c=n.attributes=new yl,d=s.length;c._ownerElement=n;for(var h=0;h<d;h++)n.setAttributeNode(Dg(e,s.item(h),!0));break;case vl:r=!0}if(r)for(var f=t.firstChild;f;)n.appendChild(Dg(e,f,r)),f=f.nextSibling;return n}function ZC(e,t,r){e[t]=r}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case ti:case za:var r=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}};Object.defineProperty(ko.prototype,"length",{get:function(){return Pf(this),this.$$length}}),Object.defineProperty(xt.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case ti:case za:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),ZC=function(t,r,n){t["$$"+r]=n}}}catch{}tr._updateLiveList=Pf;tr.Attr=Bo;tr.CDATASection=If;tr.CharacterData=jl;tr.Comment=Lf;tr.Document=Ua;tr.DocumentFragment=$c;tr.DocumentType=Mf;tr.DOMImplementation=MC;tr.Element=Va;tr.Entity=y0;tr.EntityReference=Ff;tr.LiveNodeList=ko;tr.NamedNodeMap=yl;tr.Node=xt;tr.NodeList=dr;tr.Notation=v0;tr.Text=Uc;tr.ProcessingInstruction=Bf;tr.XMLSerializer=qC;var Ol={},WC={};(function(e){var t=er.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),e.entityMap=e.HTML_ENTITIES})(WC);var zf={},Rl=er,st=ut,XC=Ka,CR=Rl.isHTMLEscapableRawTextElement,ER=Rl.isHTMLMimeType,SR=Rl.isHTMLRawTextElement,mc=Rl.hasOwn,c_=Rl.NAMESPACE,d_=XC.ParseError,AR=XC.DOMException,gu=0,la=1,ws=2,vu=3,Cs=4,Es=5,yu=6,Hd=7;function JC(){}JC.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),KC(t,t=Object.create(null)),TR(e,t,r,n,this.errorHandler),n.endDocument()}};var x0=/&#?\w+;?/g;function TR(e,t,r,n,i){var a=ER(n.mimeType);e.indexOf(st.UNICODE_REPLACEMENT_CHARACTER)>=0&&i.warning("Unicode replacement character detected, source encoding issues?");function s(O){if(O>65535){O-=65536;var ae=55296+(O>>10),ee=56320+(O&1023);return String.fromCharCode(ae,ee)}else return String.fromCharCode(O)}function c(O){var ae=O[O.length-1]===";"?O:O+";";if(!a&&ae!==O)return i.error("EntityRef: expecting ;"),O;var ee=st.Reference.exec(ae);if(!ee||ee[0].length!==ae.length)return i.error("entity not matching Reference production: "+O),O;var re=ae.slice(1,-1);return mc(r,re)?r[re]:re.charAt(0)==="#"?s(parseInt(re.substring(1).replace("x","0x"))):(i.error("entity not found:"+O),O)}function d(O){if(O>j){var ae=e.substring(j,O).replace(x0,c);v&&_(j),n.characters(ae,0,O-j),j=O}}var h=0,f=0,g=/\r\n?|\n|$/g,v=n.locator;function _(O,ae){for(;O>=f&&(ae=g.exec(e));)h=f,f=ae.index+ae[0].length,v.lineNumber++;v.columnNumber=O-h+1}for(var k=[{currentNSMap:t}],E=[],j=0;;){try{var x=e.indexOf("<",j);if(x<0){if(!a&&E.length>0)return i.fatalError("unclosed xml tag(s): "+E.join(", "));if(!e.substring(j).match(/^\s*$/)){var w=n.doc,A=w.createTextNode(e.substring(j));if(w.documentElement)return i.error("Extra content at the end of the document");w.appendChild(A),n.currentElement=A}return}if(x>j){var S=e.substring(j,x);!a&&E.length===0&&(S=S.replace(new RegExp(st.S_OPT.source,"g"),""),S&&i.error("Unexpected content outside root element: '"+S+"'")),d(x)}switch(e.charAt(x+1)){case"/":var P=e.indexOf(">",x+2),T=e.substring(x+2,P>0?P:void 0);if(!T)return i.fatalError("end tag name missing");var F=P>0&&st.reg("^",st.QName_group,st.S_OPT,"$").exec(T);if(!F)return i.fatalError('end tag name contains invalid characters: "'+T+'"');if(!n.currentElement&&!n.doc.documentElement)return;var I=E[E.length-1]||n.currentElement.tagName||n.doc.documentElement.tagName||"";if(I!==F[1]){var D=F[1].toLowerCase();if(!a||I.toLowerCase()!==D)return i.fatalError('Opening and ending tag mismatch: "'+I+'" != "'+T+'"')}var C=k.pop();E.pop();var G=C.localNSMap;if(n.endElement(C.uri,C.localName,I),G)for(var Y in G)mc(G,Y)&&n.endPrefixMapping(Y);P++;break;case"?":v&&_(x),P=jR(e,x,n,i);break;case"!":v&&_(x),P=QC(e,x,n,i,a);break;default:v&&_(x);var z=new eE,ie=k[k.length-1].currentNSMap,P=NR(e,x,z,ie,c,i,a),ue=z.length;if(z.closed||(a&&Rl.isHTMLVoidElement(z.tagName)?z.closed=!0:E.push(z.tagName)),v&&ue){for(var pe=h_(v,{}),ce=0;ce<ue;ce++){var he=z[ce];_(he.offset),he.locator=h_(v,{})}n.locator=pe,f_(z,n,ie)&&k.push(z),n.locator=v}else f_(z,n,ie)&&k.push(z);a&&!z.closed?P=kR(e,P,z.tagName,c,n):P++}}catch(O){if(O instanceof d_)throw O;if(O instanceof AR)throw new d_(O.name+": "+O.message,n.locator,O);i.error("element parse error: "+O),P=-1}P>j?j=P:d(Math.max(x,j)+1)}}function h_(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function NR(e,t,r,n,i,a,s){function c(_,k,E){if(mc(r.attributeNames,_))return a.fatalError("Attribute "+_+" redefined");if(!s&&k.indexOf("<")>=0)return a.fatalError("Unescaped '<' not allowed in attributes values");r.addValue(_,k.replace(/[\t\n\r]/g," ").replace(x0,i),E)}for(var d,h,f=++t,g=gu;;){var v=e.charAt(f);switch(v){case"=":if(g===la)d=e.slice(t,f),g=vu;else if(g===ws)g=vu;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(g===vu||g===la)if(g===la&&(a.warning('attribute value must after "="'),d=e.slice(t,f)),t=f+1,f=e.indexOf(v,t),f>0)h=e.slice(t,f),c(d,h,t-1),g=Es;else throw new Error("attribute value no end '"+v+"' match");else if(g==Cs)h=e.slice(t,f),c(d,h,t),a.warning('attribute "'+d+'" missed start quot('+v+")!!"),t=f+1,g=Es;else throw new Error('attribute value must after "="');break;case"/":switch(g){case gu:r.setTagName(e.slice(t,f));case Es:case yu:case Hd:g=Hd,r.closed=!0;case Cs:case la:break;case ws:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),g==gu&&r.setTagName(e.slice(t,f)),f;case">":switch(g){case gu:r.setTagName(e.slice(t,f));case Es:case yu:case Hd:break;case Cs:case la:h=e.slice(t,f),h.slice(-1)==="/"&&(r.closed=!0,h=h.slice(0,-1));case ws:g===ws&&(h=d),g==Cs?(a.warning('attribute "'+h+'" missed quot(")!'),c(d,h,t)):(s||a.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),c(h,h,t));break;case vu:if(!s)return a.fatalError(`AttValue: ' or " expected`)}return f;case"":v=" ";default:if(v<=" ")switch(g){case gu:r.setTagName(e.slice(t,f)),g=yu;break;case la:d=e.slice(t,f),g=ws;break;case Cs:var h=e.slice(t,f);a.warning('attribute "'+h+'" missed quot(")!!'),c(d,h,t);case Es:g=yu;break}else switch(g){case ws:s||a.warning('attribute "'+d+'" missed value!! "'+d+'" instead2!!'),c(d,d,t),t=f,g=la;break;case Es:a.warning('attribute space is required"'+d+'"!!');case yu:g=la,t=f;break;case vu:g=Cs,t=f;break;case Hd:throw new Error("elements closed character '/' and '>' must be connected to")}}f++}}function f_(e,t,r){for(var n=e.tagName,i=null,g=e.length;g--;){var a=e[g],s=a.qName,c=a.value,v=s.indexOf(":");if(v>0)var d=a.prefix=s.slice(0,v),h=s.slice(v+1),f=d==="xmlns"&&h;else h=s,d=null,f=s==="xmlns"&&"";a.localName=h,f!==!1&&(i==null&&(i=Object.create(null),KC(r,r=Object.create(null))),r[f]=i[f]=c,a.uri=c_.XMLNS,t.startPrefixMapping(f,c))}for(var g=e.length;g--;)a=e[g],a.prefix&&(a.prefix==="xml"&&(a.uri=c_.XML),a.prefix!=="xmlns"&&(a.uri=r[a.prefix]));var v=n.indexOf(":");v>0?(d=e.prefix=n.slice(0,v),h=e.localName=n.slice(v+1)):(d=null,h=e.localName=n);var _=e.uri=r[d||""];if(t.startElement(_,h,n,e),e.closed){if(t.endElement(_,h,n),i)for(d in i)mc(i,d)&&t.endPrefixMapping(d)}else return e.currentNSMap=r,e.localNSMap=i,!0}function kR(e,t,r,n,i){var a=CR(r);if(a||SR(r)){var s=e.indexOf("</"+r+">",t),c=e.substring(t+1,s);return a&&(c=c.replace(x0,n)),i.characters(c,0,c.length),s}return t+1}function KC(e,t){for(var r in e)mc(e,r)&&(t[r]=e[r])}function YC(e,t){var r=t;function n(f){return f=f||0,e.charAt(r+f)}function i(f){f=f||1,r+=f}function a(){for(var f=0;r<e.length;){var g=n();if(g!==" "&&g!==`
`&&g!=="	"&&g!=="\r")return f;f++,i()}return-1}function s(){return e.substring(r)}function c(f){return e.substring(r,r+f.length)===f}function d(f){return e.substring(r,r+f.length).toUpperCase()===f.toUpperCase()}function h(f){var g=st.reg("^",f),v=g.exec(s());return v?(i(v[0].length),v[0]):null}return{char:n,getIndex:function(){return r},getMatch:h,getSource:function(){return e},skip:i,skipBlanks:a,substringFromIndex:s,substringStartsWith:c,substringStartsWithCaseInsensitive:d}}function DR(e,t){function r(c,d){var h=st.PI.exec(c.substringFromIndex());return h?h[1].toLowerCase()==="xml"?d.fatalError("xml declaration is only allowed at the start of the document, but found at position "+c.getIndex()):(c.skip(h[0].length),h[0]):d.fatalError("processing instruction is not well-formed at position "+c.getIndex())}var n=e.getSource();if(e.char()==="["){e.skip(1);for(var i=e.getIndex();e.getIndex()<n.length;){if(e.skipBlanks(),e.char()==="]"){var a=n.substring(i,e.getIndex());return e.skip(1),a}var s=null;if(e.char()==="<"&&e.char(1)==="!")switch(e.char(2)){case"E":e.char(3)==="L"?s=e.getMatch(st.elementdecl):e.char(3)==="N"&&(s=e.getMatch(st.EntityDecl));break;case"A":s=e.getMatch(st.AttlistDecl);break;case"N":s=e.getMatch(st.NotationDecl);break;case"-":s=e.getMatch(st.Comment);break}else if(e.char()==="<"&&e.char(1)==="?")s=r(e,t);else if(e.char()==="%")s=e.getMatch(st.PEReference);else return t.fatalError("Error detected in Markup declaration");if(!s)return t.fatalError("Error in internal subset at position "+e.getIndex())}return t.fatalError("doctype internal subset is not well-formed, missing ]")}}function QC(e,t,r,n,i){var a=YC(e,t);switch(i?a.char(2).toUpperCase():a.char(2)){case"-":var s=a.getMatch(st.Comment);return s?(r.comment(s,st.COMMENT_START.length,s.length-st.COMMENT_START.length-st.COMMENT_END.length),a.getIndex()):n.fatalError("comment is not well-formed at position "+a.getIndex());case"[":var c=a.getMatch(st.CDSect);return c?!i&&!r.currentElement?n.fatalError("CDATA outside of element"):(r.startCDATA(),r.characters(c,st.CDATA_START.length,c.length-st.CDATA_START.length-st.CDATA_END.length),r.endCDATA(),a.getIndex()):n.fatalError("Invalid CDATA starting at position "+t);case"D":{if(r.doc&&r.doc.documentElement)return n.fatalError("Doctype not allowed inside or after documentElement at position "+a.getIndex());if(i?!a.substringStartsWithCaseInsensitive(st.DOCTYPE_DECL_START):!a.substringStartsWith(st.DOCTYPE_DECL_START))return n.fatalError("Expected "+st.DOCTYPE_DECL_START+" at position "+a.getIndex());if(a.skip(st.DOCTYPE_DECL_START.length),a.skipBlanks()<1)return n.fatalError("Expected whitespace after "+st.DOCTYPE_DECL_START+" at position "+a.getIndex());var d={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(d.name=a.getMatch(st.Name),!d.name)return n.fatalError("doctype name missing or contains unexpected characters at position "+a.getIndex());if(i&&d.name.toLowerCase()!=="html"&&n.warning("Unexpected DOCTYPE in HTML document at position "+a.getIndex()),a.skipBlanks(),a.substringStartsWith(st.PUBLIC)||a.substringStartsWith(st.SYSTEM)){var h=st.ExternalID_match.exec(a.substringFromIndex());if(!h)return n.fatalError("doctype external id is not well-formed at position "+a.getIndex());h.groups.SystemLiteralOnly!==void 0?d.systemId=h.groups.SystemLiteralOnly:(d.systemId=h.groups.SystemLiteral,d.publicId=h.groups.PubidLiteral),a.skip(h[0].length)}else if(i&&a.substringStartsWithCaseInsensitive(st.SYSTEM)){if(a.skip(st.SYSTEM.length),a.skipBlanks()<1)return n.fatalError("Expected whitespace after "+st.SYSTEM+" at position "+a.getIndex());if(d.systemId=a.getMatch(st.ABOUT_LEGACY_COMPAT_SystemLiteral),!d.systemId)return n.fatalError("Expected "+st.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+st.SYSTEM+" at position "+a.getIndex())}return i&&d.systemId&&!st.ABOUT_LEGACY_COMPAT_SystemLiteral.test(d.systemId)&&n.warning("Unexpected doctype.systemId in HTML document at position "+a.getIndex()),i||(a.skipBlanks(),d.internalSubset=DR(a,n)),a.skipBlanks(),a.char()!==">"?n.fatalError("doctype not terminated with > at position "+a.getIndex()):(a.skip(1),r.startDTD(d.name,d.publicId,d.systemId,d.internalSubset),r.endDTD(),a.getIndex())}default:return n.fatalError('Not well-formed XML starting with "<!" at position '+t)}}function jR(e,t,r,n){var i=e.substring(t).match(st.PI);if(!i)return n.fatalError("Invalid processing instruction starting at position "+t);if(i[1].toLowerCase()==="xml"){if(t>0)return n.fatalError("processing instruction at position "+t+" is an xml declaration which is only at the start of the document");if(!st.XMLDecl.test(e.substring(t)))return n.fatalError("xml declaration is not well-formed")}return r.processingInstruction(i[1],i[2]),t+i[0].length}function eE(){this.attributeNames=Object.create(null)}eE.prototype={setTagName:function(e){if(!st.QName_exact.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!st.QName_exact.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};zf.XMLReader=JC;zf.parseUtils=YC;zf.parseDoctypeCommentOrCData=QC;var Ho=er,OR=tr,RR=Ka,p_=WC,PR=zf,LR=OR.DOMImplementation,IR=Ho.hasDefaultHTMLNamespace,MR=Ho.isHTMLMimeType,FR=Ho.isValidMimeType,tE=Ho.MIME_TYPE,Vp=Ho.NAMESPACE,m_=RR.ParseError,BR=PR.XMLReader;function rE(e){return e.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028\u2029]/g,`
`)}function nE(e){if(e=e||{},e.locator===void 0&&(e.locator=!0),this.assign=e.assign||Ho.assign,this.domHandler=e.domHandler||Uf,this.onError=e.onError||e.errorHandler,e.errorHandler&&typeof e.errorHandler!="function")throw new TypeError("errorHandler object is no longer supported, switch to onError!");e.errorHandler&&e.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=e.normalizeLineEndings||rE,this.locator=!!e.locator,this.xmlns=this.assign(Object.create(null),e.xmlns)}nE.prototype.parseFromString=function(e,t){if(!FR(t))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+t+'" is not valid.');var r=this.assign(Object.create(null),this.xmlns),n=p_.XML_ENTITIES,i=r[""]||null;IR(t)?(n=p_.HTML_ENTITIES,i=Vp.HTML):t===tE.XML_SVG_IMAGE&&(i=Vp.SVG),r[""]=i,r.xml=r.xml||Vp.XML;var a=new this.domHandler({mimeType:t,defaultNamespace:i,onError:this.onError}),s=this.locator?{}:void 0;this.locator&&a.setDocumentLocator(s);var c=new BR;c.errorHandler=a,c.domBuilder=a;var d=!Ho.isHTMLMimeType(t);return d&&typeof e!="string"&&c.errorHandler.fatalError("source is not a string"),c.parse(this.normalizeLineEndings(String(e)),r,n),a.doc.documentElement||c.errorHandler.fatalError("missing root element"),a.doc};function Uf(e){var t=e||{};this.mimeType=t.mimeType||tE.XML_APPLICATION,this.defaultNamespace=t.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=t.onError}function Ss(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}Uf.prototype={startDocument:function(){var e=new LR;this.doc=MR(this.mimeType)?e.createHTMLDocument(!1):e.createDocument(this.defaultNamespace,"")},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),s=n.length;Zd(this,a),this.currentElement=a,this.locator&&Ss(this.locator,a);for(var c=0;c<s;c++){var e=n.getURI(c),d=n.getValue(c),r=n.getQName(c),h=i.createAttributeNS(e,r);this.locator&&Ss(n.getLocator(c),h),h.value=h.nodeValue=d,a.setAttributeNode(h)}},endElement:function(e,t,r){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&Ss(this.locator,r),Zd(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=g_.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&Ss(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){e&&(e.lineNumber=0),this.locator=e},comment:function(e,t,r){e=g_.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&Ss(this.locator,n),Zd(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var a=i.createDocumentType(e,t,r,n);this.locator&&Ss(this.locator,a),Zd(this,a),this.doc.doctype=a}},reportError:function(e,t){if(typeof this.onError=="function")try{this.onError(e,t,this)}catch(r){throw new m_("Reporting "+e+' "'+t+'" caused '+r,this.locator)}else console.error("[xmldom "+e+"]	"+t,zR(this.locator))},warning:function(e){this.reportError("warning",e)},error:function(e){this.reportError("error",e)},fatalError:function(e){throw this.reportError("fatalError",e),new m_(e,this.locator)}};function zR(e){if(e)return`
@#[line:`+e.lineNumber+",col:"+e.columnNumber+"]"}function g_(e,t,r){return typeof e=="string"?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){Uf.prototype[e]=function(){return null}});function Zd(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}function UR(e){if(e==="error")throw"onErrorStopParsing"}function $R(){throw"onWarningStopParsing"}Ol.__DOMHandler=Uf;Ol.DOMParser=nE;Ol.normalizeLineEndings=rE;Ol.onErrorStopParsing=UR;Ol.onWarningStopParsing=$R;var Pl=er;_t.assign=Pl.assign;_t.hasDefaultHTMLNamespace=Pl.hasDefaultHTMLNamespace;_t.isHTMLMimeType=Pl.isHTMLMimeType;_t.isValidMimeType=Pl.isValidMimeType;_t.MIME_TYPE=Pl.MIME_TYPE;_t.NAMESPACE=Pl.NAMESPACE;var $f=Ka;_t.DOMException=$f.DOMException;_t.DOMExceptionName=$f.DOMExceptionName;_t.ExceptionCode=$f.ExceptionCode;_t.ParseError=$f.ParseError;var pr=tr;_t.Attr=pr.Attr;_t.CDATASection=pr.CDATASection;_t.CharacterData=pr.CharacterData;_t.Comment=pr.Comment;_t.Document=pr.Document;_t.DocumentFragment=pr.DocumentFragment;_t.DocumentType=pr.DocumentType;_t.DOMImplementation=pr.DOMImplementation;_t.Element=pr.Element;_t.Entity=pr.Entity;_t.EntityReference=pr.EntityReference;_t.LiveNodeList=pr.LiveNodeList;_t.NamedNodeMap=pr.NamedNodeMap;_t.Node=pr.Node;_t.NodeList=pr.NodeList;_t.Notation=pr.Notation;_t.ProcessingInstruction=pr.ProcessingInstruction;_t.Text=pr.Text;_t.XMLSerializer=pr.XMLSerializer;var Vf=Ol;_t.DOMParser=Vf.DOMParser;_t.normalizeLineEndings=Vf.normalizeLineEndings;_t.onErrorStopParsing=Vf.onErrorStopParsing;_t.onWarningStopParsing=Vf.onWarningStopParsing;function VR(e){return e[e.length-1]}function qR(e){return e[0]}var _0={last:VR,first:qR};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){HR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HR(e,t,r){return(t=ZR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZR(e){var t=WR(e,"string");return gc(t)=="symbol"?t:t+""}function WR(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iE=_0,jg=iE.last,vc=iE.first;function Zo(e){this.name="GenericError",this.message=e,this.stack=new Error(e).stack}Zo.prototype=Error.prototype;function Pr(e){this.name="TemplateError",this.message=e,this.stack=new Error(e).stack}Pr.prototype=new Zo;function yc(e){this.name="RenderingError",this.message=e,this.stack=new Error(e).stack}yc.prototype=new Zo;function qf(e){this.name="ScopeParserError",this.message=e,this.stack=new Error(e).stack}qf.prototype=new Zo;function Ya(e){this.name="InternalError",this.properties={explanation:"InternalError"},this.message=e,this.stack=new Error(e).stack}Ya.prototype=new Zo;function b0(e){this.name="APIVersionError",this.properties={explanation:"APIVersionError"},this.message=e,this.stack=new Error(e).stack}b0.prototype=new Zo;function XR(e,t){var r=new b0(e);throw r.properties=GR({id:"api_version_error"},t),r}function JR(e){var t=new Pr("Multi error");throw t.properties={errors:e,id:"multi_error",explanation:"The template has multiple errors"},t}function KR(e){var t=new Pr("Unopened tag");return t.properties={xtag:jg(e.xtag.split(" ")),id:"unopened_tag",context:e.xtag,offset:e.offset,lIndex:e.lIndex,explanation:'The tag beginning with "'.concat(e.xtag.substr(0,10),'" is unopened')},t}function YR(e){var t=new Pr("Duplicate open tag, expected one open tag");return t.properties={xtag:vc(e.xtag.split(" ")),id:"duplicate_open_tag",context:e.xtag,offset:e.offset,lIndex:e.lIndex,explanation:'The tag beginning with "'.concat(e.xtag.substr(0,10),'" has duplicate open tags')},t}function QR(e){var t=new Pr("Duplicate close tag, expected one close tag");return t.properties={xtag:vc(e.xtag.split(" ")),id:"duplicate_close_tag",context:e.xtag,offset:e.offset,lIndex:e.lIndex,explanation:'The tag ending with "'.concat(e.xtag.substr(0,10),'" has duplicate close tags')},t}function eP(e){var t=new Pr("Unclosed tag");return t.properties={xtag:vc(e.xtag.split(" ")).substr(1),id:"unclosed_tag",context:e.xtag,offset:e.offset,lIndex:e.lIndex,explanation:'The tag beginning with "'.concat(e.xtag.substr(0,10),'" is unclosed')},t}function tP(e){var t=new Pr('No tag "'.concat(e.element,'" was found at the ').concat(e.position)),r=e.parsed[e.index];throw t.properties={id:"no_xml_tag_found_at_".concat(e.position),explanation:'No tag "'.concat(e.element,'" was found at the ').concat(e.position),offset:r.offset,part:r,parsed:e.parsed,index:e.index,element:e.element},t}function rP(e){var t=e.tag,r=e.value,n=e.offset,i=new yc("There are some XML corrupt characters");return i.properties={id:"invalid_xml_characters",xtag:t,value:r,offset:n,explanation:"There are some corrupt characters for the field ".concat(t)},i}function nP(e){var t=e.tag,r=e.value,n=e.offset,i=new yc("Non string values are not allowed for rawXML tags");return i.properties={id:"invalid_raw_xml_value",xtag:t,value:r,offset:n,explanation:"The value of the raw tag : '".concat(t,"' is not a string")},i}function iP(e){var t=e.part,r=t.value,n=t.offset,i=e.id,a=i===void 0?"raw_tag_outerxml_invalid":i,s=e.message,c=s===void 0?"Raw tag not in paragraph":s,d=e.part,h=e.explanation,f=h===void 0?'The tag "'.concat(r,'" is not inside a paragraph'):h;typeof f=="function"&&(f=f(d));var g=new Pr(c);throw g.properties={id:a,explanation:f,rootError:e.rootError,xtag:r,offset:n,postparsed:e.postparsed,expandTo:e.expandTo,index:e.index},g}function aP(e){var t=new Pr("Raw tag should be the only text in paragraph"),r=e.part.value;throw t.properties={id:"raw_xml_tag_should_be_only_text_in_paragraph",explanation:'The raw tag "'.concat(r,'" should be the only text in this paragraph. This means that this tag should not be surrounded by any text or spaces.'),xtag:r,offset:e.part.offset,paragraphParts:e.paragraphParts},t}function oP(e){var t=e.location,r=e.offset,n=e.square,i=t==="start"?"unclosed":"unopened",a=t==="start"?"Unclosed":"Unopened",s=new Pr("".concat(a," loop")),c=e.value;return s.properties={id:"".concat(i,"_loop"),explanation:'The loop with tag "'.concat(c,'" is ').concat(i),xtag:c,offset:r},n&&(s.properties.square=n),s}function sP(e,t){var r=new Pr("Unbalanced loop tag"),n=t[0].part.value,i=t[1].part.value,a=e[0].part.value,s=e[1].part.value;return r.properties={id:"unbalanced_loop_tags",explanation:"Unbalanced loop tags {#".concat(n,"}{/").concat(i,"}{#").concat(a,"}{/").concat(s,"}"),offset:[t[0].part.offset,e[1].part.offset],lastPair:{left:t[0].part.value,right:t[1].part.value},pair:{left:e[0].part.value,right:e[1].part.value}},r}function lP(e){var t=e.tags,r=new Pr("Closing tag does not match opening tag");return r.properties={id:"closing_tag_does_not_match_opening_tag",explanation:'The tag "'.concat(t[0].value,'" is closed by the tag "').concat(t[1].value,'"'),openingtag:vc(t).value,offset:[vc(t).offset,jg(t).offset],closingtag:jg(t).value},r}function uP(e){var t=e.tag,r=e.rootError,n=e.offset,i=new qf("Scope parser compilation failed");return i.properties={id:"scopeparser_compilation_failed",offset:n,xtag:t,explanation:'The scope parser for the tag "'.concat(t,'" failed to compile'),rootError:r},i}function cP(e){var t=e.tag,r=e.scope,n=e.error,i=e.offset,a=new qf("Scope parser execution failed");return a.properties={id:"scopeparser_execution_failed",explanation:"The scope parser for the tag ".concat(t," failed to execute"),scope:r,offset:i,xtag:t,rootError:n},a}function dP(e){var t=e.tag,r=e.offset,n=new Pr('The position of the loop tags "'.concat(t,'" would produce invalid XML'));return n.properties={xtag:t,id:"loop_position_invalid",explanation:'The tags "'.concat(t,'" are misplaced in the document, for example one of them is in a table and the other one outside the table'),offset:r},n}function hP(e,t){var r='Unimplemented tag type "'.concat(e.type,'"');e.module&&(r+=' "'.concat(e.module,'"'));var n=new Pr(r);throw n.properties={part:e,index:t,id:"unimplemented_tag_type"},n}function fP(){var e=new Ya("Malformed xml");throw e.properties={explanation:"The template contains malformed xml",id:"malformed_xml"},e}function pP(){var e=new Ya("You must run `.compile()` before running `.resolveData()`");throw e.properties={id:"resolve_before_compile",explanation:"You must run `.compile()` before running `.resolveData()`"},e}function mP(){var e=new Ya("You should not call .render on a document that had compilation errors");throw e.properties={id:"render_on_invalid_template",explanation:"You should not call .render on a document that had compilation errors"},e}function gP(){var e=new Ya("You should not call .render twice on the same docxtemplater instance");throw e.properties={id:"render_twice",explanation:"You should not call .render twice on the same docxtemplater instance"},e}function vP(e){var t=Object.keys(e.files).slice(0,10),r="";t.length===0?r="Empty zip file":r="Zip file contains : ".concat(t.join(","));var n=new Ya("The filetype for this file could not be identified, is this file corrupted ? ".concat(r));throw n.properties={id:"filetype_not_identified",explanation:"The filetype for this file could not be identified, is this file corrupted ? ".concat(r)},n}function yP(e,t){var r=new Pr("An XML file has invalid xml");throw r.properties={id:"file_has_invalid_xml",content:e,offset:t,explanation:"The docx contains invalid XML, it is most likely corrupt"},r}function xP(e){var t=new Ya('The filetype "'.concat(e,'" is not handled by docxtemplater'));throw t.properties={id:"filetype_not_handled",explanation:'The file you are trying to generate is of type "'.concat(e,'", but only docx and pptx formats are handled'),fileType:e},t}var si={XTError:Zo,XTTemplateError:Pr,XTInternalError:Ya,XTScopeParserError:qf,XTAPIVersionError:b0,RenderingError:yc,XTRenderingError:yc,getClosingTagNotMatchOpeningTag:lP,getLoopPositionProducesInvalidXMLError:dP,getScopeCompilationError:uP,getScopeParserExecutionError:cP,getUnclosedTagException:eP,getUnopenedTagException:KR,getUnmatchedLoopException:oP,getDuplicateCloseTagException:QR,getDuplicateOpenTagException:YR,getCorruptCharactersException:rP,getInvalidRawXMLValueException:nP,getUnbalancedLoopException:sP,throwApiVersionError:XR,throwFileTypeNotHandled:xP,throwFileTypeNotIdentified:vP,throwMalformedXml:fP,throwMultiError:JR,throwExpandNotFound:iP,throwRawTagShouldBeOnlyTextInParagraph:aP,throwUnimplementedTagType:hP,throwXmlTagNotFound:tP,throwXmlInvalid:yP,throwResolveBeforeCompile:pP,throwRenderInvalidTemplate:mP,throwRenderTwice:gP};function _P(e,t){return EP(e)||CP(e,t)||wP(e,t)||bP()}function bP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wP(e,t){if(e){if(typeof e=="string")return y_(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y_(e,t):void 0}}function y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function CP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,h=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(f){h=!0,i=f}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return c}}function EP(e){if(Array.isArray(e))return e}var aE=_t,SP=aE.DOMParser,AP=aE.XMLSerializer,TP=si,oE=TP.throwXmlTagNotFound,sE=_0,NP=sE.last,kP=sE.first;function DP(e){return/^[ \n\r\t]+$/.test(e)}function jP(e){return{get:function(r){return e==="."?r:r&&r[e]}}}var qp={};function OP(e,t,r){var n;if(qp[t]?n=qp[t]:(n=new RegExp("(<.* ".concat(t,'=")([^"]*)(".*)$')),qp[t]=n),n.test(e))return e.replace(n,"$1".concat(r,"$3"));var i=e.lastIndexOf("/>");return i===-1&&(i=e.lastIndexOf(">")),e.substr(0,i)+" ".concat(t,'="').concat(r,'"')+e.substr(i)}function RP(e,t){var r=e.indexOf(" ".concat(t,'="'));if(r===-1)return null;var n=e.substr(r).search(/["']/)+r,i=e.substr(n+1).search(/["']/)+n;return e.substr(n+1,i-n)}function PP(e,t){return e.indexOf(t,e.length-t.length)!==-1}function LP(e,t){return e.substring(0,t.length)===t}function IP(e){for(var t=[],r={},n=[],i=0,a=e.length;i<a;++i)r[e[i]]?t.push(e[i]):(r[e[i]]=!0,n.push(e[i]));return t}function MP(e){for(var t={},r=[],n=0,i=e.length;n<i;++n)t[e[n]]||(t[e[n]]=!0,r.push(e[n]));return r}function FP(e,t){for(var r=[[]],n=0;n<e.length;n++){var i=e[n],a=r[r.length-1],s=t(i);s==="start"?r.push([i]):s==="end"?(a.push(i),r.push([])):a.push(i)}for(var c=[],d=0;d<r.length;d++){var h=r[d];h.length>0&&c.push(h)}return c}function BP(){return{errorLogging:"json",stripInvalidXMLChars:!1,paragraphLoop:!1,nullGetter:function(t){return t.module?"":"undefined"},xmlFileNames:["[Content_Types].xml"],parser:jP,linebreaks:!1,fileTypeConfig:null,delimiters:{start:"{",end:"}"},syntax:{changeDelimiterPrefix:"="}}}function zP(e){return new AP().serializeToString(e).replace(/xmlns(:[a-z0-9]+)?="" ?/g,"")}function UP(e){return e.charCodeAt(0)===65279&&(e=e.substr(1)),new SP().parseFromString(e,"text/xml")}var lE=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"]],xc=lE.map(function(e){var t=_P(e,2),r=t[0],n=t[1];return{rstart:new RegExp(n,"g"),rend:new RegExp(r,"g"),start:n,end:r}});function $P(e){for(var t=xc.length-1;t>=0;t--){var r=xc[t];e=e.replace(r.rstart,r.end)}return e}function VP(e){e=e.toString();for(var t,r=0,n=xc.length;r<n;r++)t=xc[r],e=e.replace(t.rend,t.start);return e}function qP(e){for(var t=[],r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.length;i++){var a=n[i];t.push(a)}return t}function GP(e,t){if(!t)return e;for(var r=0,n=t.length;r<n;r++)e.push(t[r]);return e}var HP=new RegExp(" ","g");function ZP(e){return e.replace(HP," ")}function WP(e,t){for(var r=[],n;(n=e.exec(t))!=null;)r.push({array:n,offset:n.index});return r}function w0(e,t){return e==="</"+t+">"}function C0(e,t){return e.indexOf("<"+t)===0&&[">"," ","/"].indexOf(e[t.length+1])!==-1}function XP(e,t,r){var n=uE(e,t,r);if(n!==null)return n;oE({position:"right",element:t,parsed:e,index:r})}function uE(e,t,r){typeof t=="string"&&(t=[t]);for(var n=1,i=r,a=e.length;i<a;i++)for(var s=e[i],c=0,d=t;c<d.length;c++){var h=d[c];if(w0(s.value,h)&&n--,C0(s.value,h)&&n++,n===0)return i}return null}function JP(e,t,r){var n=cE(e,t,r);if(n!==null)return n;oE({position:"left",element:t,parsed:e,index:r})}function cE(e,t,r){typeof t=="string"&&(t=[t]);for(var n=1,i=r;i>=0;i--)for(var a=e[i],s=0,c=t;s<c.length;s++){var d=c[s];if(C0(a.value,d)&&n--,w0(a.value,d)&&n++,n===0)return i}return null}function KP(e,t){var r=t.type,n=t.tag,i=t.position;return r==="tag"&&n===e&&(i==="start"||i==="selfclosing")}function YP(e,t){var r=t.type,n=t.tag,i=t.position;return r==="tag"&&n===e&&i==="end"}function QP(e){var t=e.type,r=e.tag,n=e.position;return["w:p","a:p"].indexOf(r)!==-1&&t==="tag"&&n==="start"}function eL(e){var t=e.type,r=e.tag,n=e.position;return["w:p","a:p"].indexOf(r)!==-1&&t==="tag"&&n==="end"}function tL(e){var t=e.type,r=e.position,n=e.text;return n&&t==="tag"&&r==="start"}function rL(e){var t=e.type,r=e.position,n=e.text;return n&&t==="tag"&&r==="end"}function nL(e){var t=e.type,r=e.position;return t==="placeholder"||t==="content"&&r==="insidetag"}function iL(e,t){var r=e.module,n=e.type;return t instanceof Array||(t=[t]),n==="placeholder"&&t.indexOf(r)!==-1}var Og=/[\x00-\x08\x0B\x0C\x0E-\x1F]/g;function aL(e){return Og.lastIndex=0,Og.test(e)}function oL(e){return typeof e!="string"&&(e=String(e)),e.replace(Og,"")}function sL(e){var t={};for(var r in e){var n=e[r];t[n]||(t[n]=[]),t[n].push(r)}return t}function lL(e,t){return e.map(function(r,n){return{item:r,index:n}}).sort(function(r,n){return t(r.item,n.item)||r.index-n.index}).map(function(r){var n=r.item;return n})}var Er={endsWith:PP,startsWith:LP,isContent:nL,isParagraphStart:QP,isParagraphEnd:eL,isTagStart:KP,isTagEnd:YP,isTextStart:tL,isTextEnd:rL,isStarting:C0,isEnding:w0,isModule:iL,uniq:MP,getDuplicates:IP,chunkBy:FP,last:NP,first:kP,xml2str:zP,str2xml:UP,getRightOrNull:uE,getRight:XP,getLeftOrNull:cE,getLeft:JP,pregMatchAll:WP,convertSpaces:ZP,charMapRegexes:xc,hasCorruptCharacters:aL,removeCorruptCharacters:oL,getDefaults:BP,wordToUtf8:$P,utf8ToWord:VP,concatArrays:qP,pushArray:GP,invertMap:sL,charMap:lE,getSingleAttribute:RP,setSingleAttribute:OP,isWhiteSpace:DP,stableSort:lL};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function uL(e){return hL(e)||dL(e)||hE(e)||cL()}function cL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hL(e){if(Array.isArray(e))return Rg(e)}function dE(e,t){return mL(e)||pL(e,t)||hE(e,t)||fL()}function fL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hE(e,t){if(e){if(typeof e=="string")return Rg(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rg(e,t):void 0}}function Rg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function pL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,h=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(f){h=!0,i=f}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return c}}function mL(e){if(Array.isArray(e))return e}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){gL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gL(e,t,r){return(t=vL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vL(e){var t=yL(e,"string");return _c(t)=="symbol"?t:t+""}function yL(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Di=Er,xL=Di.getRightOrNull,_L=Di.getRight,bL=Di.getLeft,wL=Di.getLeftOrNull,CL=Di.chunkBy,EL=Di.isTagStart,SL=Di.isTagEnd,__=Di.isContent,Pg=Di.last,Gp=Di.first,E0=si,AL=E0.XTTemplateError,TL=E0.throwExpandNotFound,NL=E0.getLoopPositionProducesInvalidXMLError;function kL(e,t){if(e.length===0)return!1;var r=Pg(e).substr(1);return r.indexOf(t)===0}function DL(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n.position,a=n.value,s=n.tag;s&&(i==="end"?kL(t,s)?t.pop():t.push(a):i==="start"&&t.push(a))}return t}function jL(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(n.indexOf("<".concat(e))===0)return!0}return!1}function OL(e,t,r){var n=e.slice(t[0].offset,t[1].offset),i=DL(n),a=i.filter(function(f){return f[1]==="/"}).length,s=i.filter(function(f){return f[1]!=="/"&&f[f.length-2]!=="/"}).length;if(a!==s)return{error:NL({tag:Gp(t).part.value,offset:[Gp(t).part.offset,Pg(t).part.offset]})};for(var c=function(){var g=r[h],v=g.contains,_=g.expand,k=g.onlyTextInTag;if(jL(v,i)){if(k){var E=wL(e,v,t[0].offset),j=xL(e,v,t[1].offset);if(E===null||j===null)return 0;var x=CL(e.slice(E,j),function(F){return EL(v,F)?"start":SL(v,F)?"end":null}),w=Gp(x),A=Pg(x),S=w.filter(__),T=A.filter(__);if(S.length!==1||T.length!==1)return 0}return{v:{value:_}}}},d,h=0;h<r.length;h++)if(d=c(),d!==0&&d)return d.v;return{}}function RL(e,t,r,n){var i=e.expandTo||n.expandTo;if(i){var a,s;try{s=bL(r,i,t),a=_L(r,i,t)}catch(h){var c=fE({part:e,rootError:h,postparsed:r,expandTo:i,index:t},n.error);if(n.onError){var d=n.onError(c);if(d==="ignore")return}TL(c)}return[s,a]}}function b_(e,t,r,n){var i=dE(e,2),a=i[0],s=i[1],c=r.indexOf(t),d=r.slice(a,c),h=r.slice(c+1,s+1),f=n.getInner({postparse:n.postparse,index:c,part:t,leftParts:d,rightParts:h,left:a,right:s,postparsed:r});return f.length||(f.expanded=[d,h],f=[f]),{left:a,right:s,inner:f}}function PL(e,t){var r=[];e.errors&&(r=e.errors,e=e.postparsed);for(var n=[],i=0,a=e.length;i<a;i++){var s=e[i];if(s.type==="placeholder"&&s.module===t.moduleName&&!s.subparsed&&!s.expanded)try{var c=RL(s,i,e,t);if(!c)continue;var d=dE(c,2),h=d[0],f=d[1];n.push({left:h,right:f,part:s,i,leftPart:e[h],rightPart:e[f]})}catch(A){r.push(A)}}n.sort(function(A,S){return A.left===S.left?S.part.lIndex<A.part.lIndex?1:-1:S.left<A.left?1:-1});for(var g=-1,v=0,_=0,k=n.length;_<k;_++){var E,j=n[_];if(g=Math.max(g,_>0?n[_-1].right:0),!(j.left<g)){var x=void 0;try{x=b_([j.left+v,j.right+v],j.part,e,t)}catch(A){if(t.onError){var w=t.onError(fE({part:j.part,rootError:A,postparsed:e,expandOne:b_},t.errors));if(w==="ignore")continue}if(A instanceof AL)r.push(A);else throw A}x&&(v+=x.inner.length-(x.right+1-x.left),(E=e).splice.apply(E,[x.left,x.right+1-x.left].concat(uL(x.inner))))}}return{postparsed:e,errors:r}}var S0={expandToOne:PL,getExpandToDefault:OL},LL=si,IL=LL.XTInternalError;function Mi(){}function As(e){return e}var Wo=function(e){var t={set:Mi,matchers:function(){return[]},parse:Mi,render:Mi,getTraits:Mi,getFileType:Mi,nullGetter:Mi,optionsTransformer:As,postrender:As,errorsTransformer:As,getRenderedMap:As,preparse:As,postparse:As,on:Mi,resolve:Mi,preResolve:Mi};if(Object.keys(t).every(function(i){return!e[i]})){var r=new IL("This module cannot be wrapped, because it doesn't define any of the necessary functions");throw r.properties={id:"module_cannot_be_wrapped",explanation:"This module cannot be wrapped, because it doesn't define any of the necessary functions"},r}for(var n in t)e[n]||(e[n]=t[n]);return e},ML="application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml",FL="application/vnd.ms-word.document.macroEnabled.main+xml",BL="application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml",zL="application/vnd.ms-word.template.macroEnabledTemplate.main+xml",UL="application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",$L="application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml",VL="application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml",qL="application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",GL="application/vnd.openxmlformats-officedocument.presentationml.slide+xml",HL="application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml",ZL="application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml",WL="application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml",XL="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",JL="application/vnd.ms-excel.sheet.macroEnabled.main+xml",KL="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",w_=[ML,FL,BL,zL],YL={main:w_,docx:[UL].concat(w_,[qL,$L,VL]),pptx:[GL,HL,ZL,WL],xlsx:[XL,JL,KL]},A0=YL,QL="application/vnd.openxmlformats-package.core-properties+xml",eI="application/vnd.openxmlformats-officedocument.extended-properties+xml",tI="application/vnd.openxmlformats-officedocument.custom-properties+xml",rI="application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml",nI="application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml",iI="application/vnd.ms-office.drawingml.diagramDrawing+xml",pE={settingsContentType:rI,coreContentType:QL,appContentType:eI,customContentType:tI,diagramDataContentType:nI,diagramDrawingContentType:iI};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function aI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lI(n.key),n)}}function sI(e,t,r){return t&&oI(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lI(e){var t=uI(e,"string");return bc(t)=="symbol"?t:t+""}function uI(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cI=Er,dI=cI.pushArray,hI=Wo,Hp=A0,Ll=pE,fI=Ll.settingsContentType,pI=Ll.coreContentType,mI=Ll.appContentType,gI=Ll.customContentType,vI=Ll.diagramDataContentType,yI=Ll.diagramDrawingContentType,C_=[fI,pI,mI,gI,vI,yI],xI=function(){function e(){aI(this,e),this.name="Common"}return sI(e,[{key:"getFileType",value:function(r){var n=r.doc,i=n.invertedContentTypes;if(i){for(var a=0;a<C_.length;a++){var s=C_[a];i[s]&&dI(n.targets,i[s])}for(var c=["docx","pptx","xlsx"],d,h=0;h<c.length;h++){for(var f=c[h],g=Hp[f],v=0;v<g.length;v++){var _=g[v];if(i[_])for(var k=0,E=i[_];k<E.length;k++){var j=E[k];n.relsTypes[j]&&["http://purl.oclc.org/ooxml/officeDocument/relationships/officeDocument","http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument"].indexOf(n.relsTypes[j])===-1||(d=f,(Hp.main.indexOf(_)!==-1||_===Hp.pptx[0])&&(n.textTarget||(n.textTarget=j)),d!=="xlsx"&&n.targets.push(j))}}if(d)return d}return d}}}])}(),_I=function(){return hI(new xI)};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function bI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EI(n.key),n)}}function CI(e,t,r){return t&&wI(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EI(e){var t=SI(e,"string");return wc(t)=="symbol"?t:t+""}function SI(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AI=si,mE=AI.getScopeParserExecutionError,TI=_0,E_=TI.last,NI=Er,Ts=NI.concatArrays;function S_(e,t){for(var r=e.length>>>0,n,i=0;i<r;i++)if(n=e[i],t.call(this,n,i,e))return n}function gE(e,t,r){var n=this,i=this.scopeList[r];if(this.root.finishedResolving){for(var a=this.resolved,s=function(){var v=n.scopeLindex[c];a=S_(a,function(_){return _.lIndex===v}),a=a.value[n.scopePathItem[c]]},c=this.resolveOffset,d=this.scopePath.length;c<d;c++)s();return S_(a,function(g){return t.part.lIndex===g.lIndex}).value}var h,f;!this.cachedParsers||!t.part?f=this.parser(e,{tag:t.part,scopePath:this.scopePath}):this.cachedParsers[t.part.lIndex]?f=this.cachedParsers[t.part.lIndex]:f=this.cachedParsers[t.part.lIndex]=this.parser(e,{tag:t.part,scopePath:this.scopePath});try{h=f.get(i,this.getContext(t,r))}catch(g){throw mE({tag:e,scope:i,error:g,offset:t.part.offset})}return h==null&&r>0?gE.call(this,e,t,r-1):h}function vE(e,t,r){var n=this,i=this.scopeList[r],a;return!this.cachedParsers||!t.part?a=this.parser(e,{tag:t.part,scopePath:this.scopePath}):this.cachedParsers[t.part.lIndex]?a=this.cachedParsers[t.part.lIndex]:a=this.cachedParsers[t.part.lIndex]=this.parser(e,{tag:t.part,scopePath:this.scopePath}),Promise.resolve().then(function(){return a.get(i,n.getContext(t,r))}).catch(function(s){throw mE({tag:e,scope:i,error:s,offset:t.part.offset})}).then(function(s){return s==null&&r>0?vE.call(n,e,t,r-1):s})}var kI=function(){function e(t){bI(this,e),this.root=t.root||this,this.resolveOffset=t.resolveOffset||0,this.scopePath=t.scopePath,this.scopePathItem=t.scopePathItem,this.scopePathLength=t.scopePathLength,this.scopeList=t.scopeList,this.scopeType="",this.scopeTypes=t.scopeTypes,this.scopeLindex=t.scopeLindex,this.parser=t.parser,this.resolved=t.resolved,this.cachedParsers=t.cachedParsers}return CI(e,[{key:"loopOver",value:function(r,n,i,a){return this.loopOverValue(this.getValue(r,a),n,i)}},{key:"functorIfInverted",value:function(r,n,i,a,s){return r&&n(i,a,s),r}},{key:"isValueFalsy",value:function(r,n){return r==null||!r||n==="[object Array]"&&r.length===0}},{key:"loopOverValue",value:function(r,n,i){this.root.finishedResolving&&(i=!1);var a=Object.prototype.toString.call(r);if(this.isValueFalsy(r,a))return this.scopeType=!1,this.functorIfInverted(i,n,E_(this.scopeList),0,1);if(a==="[object Array]"){this.scopeType="array";for(var s=0;s<r.length;s++)this.functorIfInverted(!i,n,r[s],s,r.length);return!0}return a==="[object Object]"?(this.scopeType="object",this.functorIfInverted(!i,n,r,0,1)):this.functorIfInverted(!i,n,E_(this.scopeList),0,1)}},{key:"getValue",value:function(r,n){var i=gE.call(this,r,n,this.scopeList.length-1);return typeof i=="function"?i(this.scopeList[this.scopeList.length-1],this):i}},{key:"getValueAsync",value:function(r,n){var i=this;return vE.call(this,r,n,this.scopeList.length-1).then(function(a){return typeof a=="function"?a(i.scopeList[i.scopeList.length-1],i):a})}},{key:"getContext",value:function(r,n){return{num:n,meta:r,scopeList:this.scopeList,resolved:this.resolved,scopePath:this.scopePath,scopeTypes:this.scopeTypes,scopePathItem:this.scopePathItem,scopePathLength:this.scopePathLength}}},{key:"createSubScopeManager",value:function(r,n,i,a,s){return new e({root:this.root,resolveOffset:this.resolveOffset,resolved:this.resolved,parser:this.parser,cachedParsers:this.cachedParsers,scopeTypes:Ts([this.scopeTypes,[this.scopeType]]),scopeList:Ts([this.scopeList,[r]]),scopePath:Ts([this.scopePath,[n]]),scopePathItem:Ts([this.scopePathItem,[i]]),scopePathLength:Ts([this.scopePathLength,[s]]),scopeLindex:Ts([this.scopeLindex,[a.lIndex]])})}}])}(),DI=function(e){return e.scopePath=[],e.scopePathItem=[],e.scopePathLength=[],e.scopeTypes=[],e.scopeLindex=[],e.scopeList=[e.tags],new kI(e)};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function yE(e,t){return PI(e)||RI(e,t)||OI(e,t)||jI()}function jI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OI(e,t){if(e){if(typeof e=="string")return A_(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A_(e,t):void 0}}function A_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function RI(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],d=!0,h=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(f){h=!0,i=f}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return c}}function PI(e){if(Array.isArray(e))return e}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){LI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LI(e,t,r){return(t=II(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function II(e){var t=MI(e,"string");return Cc(t)=="symbol"?t:t+""}function MI(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xo=si,N_=Xo.getUnclosedTagException,FI=Xo.getUnopenedTagException,BI=Xo.getDuplicateOpenTagException,zI=Xo.getDuplicateCloseTagException,k_=Xo.throwMalformedXml,UI=Xo.throwXmlInvalid,D_=Xo.XTTemplateError,Gf=Er,$I=Gf.isTextStart,VI=Gf.isTextEnd,j_=Gf.wordToUtf8,qI=Gf.pushArray,xE=0,_E=1,Mu=2,Xh=3;function GI(e,t){return e[0]<=t.offset&&t.offset<e[1]}function HI(e,t){return $I(e)?(t&&k_(),!0):VI(e)?(t||k_(),!1):t}function ZI(e){var t="",r=1,n=e.indexOf(" ");return e[e.length-2]==="/"?(t="selfclosing",n===-1&&(n=e.length-2)):e[1]==="/"?(r=2,t="end",n===-1&&(n=e.length-1)):(t="start",n===-1&&(n=e.length-1)),{tag:e.slice(r,n),position:t}}function WI(e,t,r){for(var n=0,i=e.length,a={},s=0;s<t.length;s++){var c=t[s];a[c]=!0}for(var d=0;d<r.length;d++){var h=r[d];a[h]=!1}for(var f=[];n<i&&(n=e.indexOf("<",n),n!==-1);){var g=n,v=e.indexOf("<",n+1);n=e.indexOf(">",n),(n===-1||v!==-1&&n>v)&&UI(e,g);var _=e.slice(g,n+1),k=ZI(_),E=k.tag,j=k.position,x=a[E];x!=null&&f.push({type:"tag",position:j,text:x,offset:g,value:_,tag:E})}return f}function XI(e,t,r){var n=[],i=!1,a={offset:0},s,c=e.reduce(function(h,f){var g=f.position,v=f.offset,_=a.offset,k=a.length;if(s=t.substr(_,v-_),i&&g==="start"){if(_+k===v&&(s=t.substr(_,v-_+k+4),!r.allowUnclosedTag))return n.push(BI({xtag:s,offset:_})),a=f,h.push(ua(ua({},f),{},{error:!0})),h;if(!r.allowUnclosedTag)return n.push(N_({xtag:j_(s),offset:_})),a=f,h.push(ua(ua({},f),{},{error:!0})),h;h.pop()}return!i&&g==="end"?r.allowUnopenedTag?h:_+k===v?(s=t.substr(_-4,v-_+k+4),n.push(zI({xtag:s,offset:_})),a=f,h.push(ua(ua({},f),{},{error:!0})),h):(n.push(FI({xtag:s,offset:v})),a=f,h.push(ua(ua({},f),{},{error:!0})),h):(i=g==="start",a=f,h.push(f),h)},[]);if(i){var d=a.offset;s=t.substr(d,t.length-d),r.allowUnclosedTag?c.pop():n.push(N_({xtag:j_(s),offset:d}))}return{delimiterWithErrors:c,errors:n}}function JI(e,t){return e===-1&&t===-1?xE:e===t?_E:e===-1||t===-1?t<e?Mu:Xh:e<t?Mu:Xh}function KI(e){var t=e.split(" ");if(t.length!==2){var r=new D_("New Delimiters cannot be parsed");throw r.properties={id:"change_delimiters_invalid",explanation:"Cannot parser delimiters"},r}var n=yE(t,2),i=n[0],a=n[1];if(i.length===0||a.length===0){var s=new D_("New Delimiters cannot be parsed");throw s.properties={id:"change_delimiters_invalid",explanation:"Cannot parser delimiters"},s}return[i,a]}function YI(e,t,r){var n=[],i=t.start,a=t.end,s=-1,c=!1;if(i==null&&a==null)return[];for(;;){var d=e.indexOf(i,s+1),h=e.indexOf(a,s+1),f=null,g=void 0,v=JI(d,h);switch(v===_E&&(v=c?Xh:Mu),v){case xE:return n;case Xh:c=!1,s=h,f="end",g=a.length;break;case Mu:c=!0,s=d,f="start",g=i.length;break}if(r.changeDelimiterPrefix&&v===Mu&&e[s+i.length]===r.changeDelimiterPrefix){n.push({offset:d,position:"start",length:i.length,changedelimiter:!0});var _=e.indexOf(r.changeDelimiterPrefix,s+i.length+1),k=e.indexOf(a,_+1);n.push({offset:k,position:"end",length:a.length,changedelimiter:!0});var E=e.substr(s+i.length+1,_-s-i.length-1),j=KI(E),x=yE(j,2);i=x[0],a=x[1],s=k;continue}n.push({offset:s,position:f,length:g})}}function O_(e,t,r){var n=e.map(function(_){return _.value}).join(""),i=YI(n,t,r),a=0,s=e.map(function(_){return a+=_.value.length,{offset:a-_.value.length,lIndex:_.lIndex}}),c=XI(i,n,r),d=c.delimiterWithErrors,h=c.errors,f=0,g=0,v=s.map(function(_,k){for(var E=_.offset,j=[E,E+e[k].value.length],x=e[k].value,w=[];g<d.length&&GI(j,d[g]);)w.push(d[g]),g++;var A=[],S=0;f>0&&(S=f,f=0);for(var T=0;T<w.length;T++){var F=w[T],I=x.substr(S,F.offset-E-S);if(F.changedelimiter){F.position==="start"?I.length>0&&A.push({type:"content",value:I}):S=F.offset-E+F.length;continue}I.length>0&&(A.push({type:"content",value:I}),S+=I.length);var D={type:"delimiter",position:F.position,offset:S+E};A.push(D),S=F.offset-E+F.length}f=S-x.length;var C=x.substr(S);return C.length>0&&A.push({type:"content",value:C}),A},this);return{parsed:v,errors:h}}function T0(e){return e.type==="content"&&e.position==="insidetag"}function QI(e){return e.filter(T0)}function eM(e,t){for(var r=!1,n=0;n<e.length;n++){var i=e[n];r=HI(i,r),i.type==="content"&&(i.position=r?"insidetag":"outsidetag"),t!=="text"&&T0(i)&&(i.value=i.value.replace(/>/g,"&gt;"))}}var bE={parseDelimiters:O_,parse:function(t,r,n,i){eM(t,i);for(var a=O_(QI(t),r,n),s=a.parsed,c=a.errors,d=[],h=0,f=0,g=0;g<t.length;g++){var v=t[g];if(T0(v)){for(var _=0,k=s[h];_<k.length;_++){var E=k[_];E.type==="content"&&(E.position="insidetag"),E.lIndex=f++}qI(d,s[h]),h++}else v.lIndex=f++,d.push(v)}return{errors:c,lexed:d}},xmlparse:function(t,r){var n=WI(t,r.text,r.other),i=0,a=n.reduce(function(s,c){return t.length>i&&c.offset-i>0&&s.push({type:"content",value:t.substr(i,c.offset-i)}),i=c.offset+c.value.length,delete c.offset,s.push(c),s},[]);return t.length>i&&a.push({type:"content",value:t.substr(i)}),a}};function Zp(e){return iM(e)||nM(e)||rM(e)||tM()}function tM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rM(e,t){if(e){if(typeof e=="string")return Lg(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lg(e,t):void 0}}function nM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iM(e){if(Array.isArray(e))return Lg(e)}function Lg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Wd(e){return e.type==="placeholder"}function aM(e){var t={},r=[{items:e.filter(Wd),parents:[],path:[]}];function n(D,C,G){G.length&&r.push({items:G,parents:[].concat(Zp(C.parents),[D]),path:D.dataBound!==!1&&!D.attrParsed&&D.value&&!D.attrParsed?[].concat(Zp(C.path),[D.value]):Zp(C.path)})}function i(D,C){for(var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C.length,Y=D,z=0;z<G;z++)Y=Y[C[z]];return Y}function a(D,C){return C.reduce(function(G,Y){var z=typeof Y.lIndex=="number"?Y.lIndex:parseInt(Y.lIndex.split("-")[0],10);return z>D.lIndex?G-1:G},C.length)}for(;r.length>0;)for(var s=r.pop(),c=i(t,s.path),d=0,h=s.items;d<h.length;d++){var f,g,v=h[d];if(v.attrParsed){for(var _ in v.attrParsed)n(v,s,v.attrParsed[_].filter(Wd));continue}if(v.subparsed){if(v.dataBound!==!1){var k,E;(k=c)[E=v.value]||(k[E]={})}n(v,s,v.subparsed.filter(Wd));continue}if(v.cellParsed){for(var j=0,x=v.cellPostParsed;j<x.length;j++){var w=x[j];if(w.type==="placeholder"){if(w.module==="pro-xml-templating/xls-module-loop")continue;if(w.subparsed){var A,S;(A=c)[S=w.value]||(A[S]={}),n(w,s,w.subparsed.filter(Wd))}else{var T,F,I=a(v,s.parents);c=i(t,s.path,I),(T=c)[F=w.value]||(T[F]={})}}}continue}v.dataBound!==!1&&((f=c)[g=v.value]||(f[g]={}))}return t}var oM={getTags:aM},sM=Er,lM=sM.pushArray;function uM(e,t){return t instanceof Error?lM(Object.getOwnPropertyNames(t),["stack"]).reduce(function(r,n){return r[n]=t[n],n==="stack"&&(r[n]=t[n].toString()),r},{}):t}function cM(e,t){if(console.log(JSON.stringify({error:e},uM,t==="json"?2:null)),e.properties&&e.properties.errors instanceof Array){var r=e.properties.errors.map(function(n){return n.properties.explanation}).join(`
`);console.log("errorMessages",r)}}var dM=cM,hM="[Content_Types].xml";function fM(e,t,r){for(var n={},i=0;i<e.length;i++){var a=e[i],s=a.getAttribute("ContentType"),c=a.getAttribute("PartName").substr(1);n[c]=s}for(var d=function(){var g=t[h],v=g.getAttribute("ContentType"),_=g.getAttribute("Extension");r.file(/./).map(function(k){var E=k.name;E.slice(E.length-_.length)===_&&!n[E]&&E!==hM&&(n[E]=v)})},h=0;h<t.length;h++)d();return n}var pM=fM,Wp,R_;function wE(){if(R_)return Wp;R_=1;var e=Er,t=e.pregMatchAll;return Wp=function(n,i){var a={content:n},s=i.join("|"),c=new RegExp("(?:(<(?:".concat(s,")[^>]*>)([^<>]*)</(?:").concat(s,")>)|(<(?:").concat(s,")[^>]*/>)"),"g");return a.matches=t(c,a.content),a},Wp}var Xp,P_;function mM(){if(P_)return Xp;P_=1;function e(s){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(s)}var t=new RegExp(" ","g");function r(s){return s.replace(t," ")}function n(s,c){var d=e(s);if(d==="string")return r(c.substr(0,s.length))===s;if(s instanceof RegExp)return s.test(r(c));if(d==="function")return!!s(c)}function i(s,c){var d=e(s);if(d==="string")return r(c).substr(s.length);if(s instanceof RegExp)return r(c).match(s)[1];if(d==="function")return s(c)}function a(s,c){var d=e(s);if(d==="string")return[c,r(c).substr(s.length)];if(s instanceof RegExp)return r(c).match(s);if(d==="function")return[c,s(c)]}return Xp={match:n,getValue:i,getValues:a},Xp}var Jp,L_;function gM(){if(L_)return Jp;L_=1;function e(I){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},e(I)}function t(I,D){var C=Object.keys(I);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(I);D&&(G=G.filter(function(Y){return Object.getOwnPropertyDescriptor(I,Y).enumerable})),C.push.apply(C,G)}return C}function r(I){for(var D=1;D<arguments.length;D++){var C=arguments[D]!=null?arguments[D]:{};D%2?t(Object(C),!0).forEach(function(G){n(I,G,C[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(C)):t(Object(C)).forEach(function(G){Object.defineProperty(I,G,Object.getOwnPropertyDescriptor(C,G))})}return I}function n(I,D,C){return(D=i(D))in I?Object.defineProperty(I,D,{value:C,enumerable:!0,configurable:!0,writable:!0}):I[D]=C,I}function i(I){var D=a(I,"string");return e(D)=="symbol"?D:D+""}function a(I,D){if(e(I)!="object"||!I)return I;var C=I[Symbol.toPrimitive];if(C!==void 0){var G=C.call(I,D);if(e(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(I)}function s(I,D){return g(I)||f(I,D)||d(I,D)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(I,D){if(I){if(typeof I=="string")return h(I,D);var C={}.toString.call(I).slice(8,-1);return C==="Object"&&I.constructor&&(C=I.constructor.name),C==="Map"||C==="Set"?Array.from(I):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?h(I,D):void 0}}function h(I,D){(D==null||D>I.length)&&(D=I.length);for(var C=0,G=Array(D);C<D;C++)G[C]=I[C];return G}function f(I,D){var C=I==null?null:typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(C!=null){var G,Y,z,ie,P=[],ue=!0,pe=!1;try{if(z=(C=C.call(I)).next,D!==0)for(;!(ue=(G=z.call(C)).done)&&(P.push(G.value),P.length!==D);ue=!0);}catch(ce){pe=!0,Y=ce}finally{try{if(!ue&&C.return!=null&&(ie=C.return(),Object(ie)!==ie))return}finally{if(pe)throw Y}}return P}}function g(I){if(Array.isArray(I))return I}var v=Er,_=v.wordToUtf8,k=v.pushArray,E=mM(),j=E.match,x=E.getValue,w=E.getValues;function A(I,D){for(var C=[],G=0;G<I.length;G++){var Y=I[G];if(Y.matchers){var z=Y.matchers(D);if(!(z instanceof Array))throw new Error("module matcher returns a non array");k(C,z)}}return C}function S(I,D,C){for(var G=[],Y=0;Y<I.length;Y++){var z=I[Y],ie=s(z,2),P=ie[0],ue=ie[1],pe=z[2]||{};if(C.match(P,D)){var ce=C.getValues(P,D);if(typeof pe=="function"&&(pe=pe(ce)),!pe.value){var he=s(ce,2);pe.value=he[1]}G.push(r({type:"placeholder",prefix:P,module:ue,onMatch:pe.onMatch,priority:pe.priority},pe))}}return G}function T(I,D){var C=D.modules,G=D.startOffset,Y=D.lIndex,z;D.offset=G,D.match=j,D.getValue=x,D.getValues=w;var ie=A(C,D),P=S(ie,I,D);if(P.length>0){for(var ue=null,pe=0;pe<P.length;pe++){var ce=P[pe];ce.priority||(ce.priority=-ce.value.length),(!ue||ce.priority>ue.priority)&&(ue=ce)}return ue.offset=G,delete ue.priority,ue.endLindex=Y,ue.lIndex=Y,ue.raw=I,ue.onMatch&&ue.onMatch(ue),delete ue.onMatch,delete ue.prefix,ue}for(var he=0;he<C.length;he++){var O=C[he];if(z=O.parse(I,D),z)return z.offset=G,z.endLindex=Y,z.lIndex=Y,z.raw=I,z}return{type:"placeholder",value:I,offset:G,endLindex:Y,lIndex:Y}}var F={preparse:function(D,C,G){function Y(z,ie){for(var P=0;P<C.length;P++){var ue=C[P];z=ue.preparse(z,ie)||z}return z}return Y(D,G)},parse:function(D,C,G){var Y=!1,z="",ie,P=[],ue=G.fileTypeConfig.droppedTagsInsidePlaceholder||[];return D.reduce(function(pe,ce){return ce.type==="delimiter"?(Y=ce.position==="start",ce.position==="end"&&(G.parse=function(he){return T(he,r(r(r({},G),ce),{},{startOffset:ie,modules:C}))},pe.push(G.parse(_(z))),k(pe,P),P=[]),ce.position==="start"&&(P=[],ie=ce.offset),z="",pe):Y?ce.type!=="content"||ce.position!=="insidetag"?(ue.indexOf(ce.tag)!==-1||P.push(ce),pe):(z+=ce.value,pe):(pe.push(ce),pe)},[])},postparse:function(D,C,G){function Y(P,ue){return C.map(function(pe){return pe.getTraits(P,ue)})}var z=[];function ie(P,ue){return C.reduce(function(pe,ce){var he=ce.postparse(pe,r(r({},ue),{},{postparse:function(ae,ee){return ie(ae,r(r({},ue),ee))},getTraits:Y}));return he==null?pe:he.errors?(k(z,he.errors),he.postparsed):he},P)}return{postparsed:ie(D,G),errors:z}}};return Jp=F,Jp}var Kp,I_;function CE(){if(I_)return Kp;I_=1;function e(t,r){if(t.lIndex==null)return null;var n=r.scopeManager.scopePathItem;t.parentPart&&(n=n.slice(0,n.length-1));var i=r.filePath+"@"+t.lIndex.toString()+"-"+n.join("-");return i}return Kp=e,Kp}var Yp,M_;function vM(){if(M_)return Yp;M_=1;var e=si,t=e.throwUnimplementedTagType,r=e.XTScopeParserError,n=Er,i=n.pushArray,a=CE();function s(d,h){for(var f=0,g=h.modules;f<g.length;f++){var v=g[f],_=v.render(d,h);if(_)return _}return!1}function c(d){var h=d.baseNullGetter,f=d.compiled,g=d.scopeManager;d.nullGetter=function(T,F){return h(T,F||g)};for(var v=[],_=[],k=0,E=f.length;k<E;k++){var j=f[k];d.index=k,d.resolvedId=a(j,d);var x=void 0;try{x=s(j,d)}catch(T){if(T instanceof r){v.push(T),_.push(j);continue}throw T}if(x){x.errors&&i(v,x.errors),_.push(x);continue}if(j.type==="content"||j.type==="tag"){_.push(j);continue}t(j,k)}for(var w=[],A=0;A<_.length;A++){var S=_[A].value;S instanceof Array?i(w,S):S&&w.push(S)}return{errors:v,parts:w}}return Yp=c,Yp}var Qp,F_;function yM(){if(F_)return Qp;F_=1;function e(r){var n,i,a,s,c=0,d=r.length;for(a=0;a<d;a++)n=r.charCodeAt(a),(n&64512)===55296&&a+1<d&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),a++)),c+=n<128?1:n<2048?2:n<65536?3:4;var h=new Uint8Array(c);for(s=0,a=0;s<c;a++)n=r.charCodeAt(a),(n&64512)===55296&&a+1<d&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),a++)),n<128?h[s++]=n:n<2048?(h[s++]=192|n>>>6,h[s++]=128|n&63):n<65536?(h[s++]=224|n>>>12,h[s++]=128|n>>>6&63,h[s++]=128|n&63):(h[s++]=240|n>>>18,h[s++]=128|n>>>12&63,h[s++]=128|n>>>6&63,h[s++]=128|n&63);return h}function t(r,n){for(var i=0,a=n.modules;i<a.length;i++){var s=a[i];r=s.postrender(r,n)}for(var c=0,d=n.joinUncorrupt(r,n),h="",f=0,g=65536,v=[],_=0,k=d.length;_<k;_++){var E=d[_];if(E.length+f>g){var j=e(h);c+=j.length,v.push(j),h=""}h+=E,f+=E.length,delete d[_]}var x=e(h);c+=x.length,v.push(x);for(var w=new Uint8Array(c),A=0,S=0;S<v.length;S++){for(var T=v[S],F=0;F<T.length;++F)w[F+A]=T[F];A+=T.length}return w}return Qp=t,Qp}var em,B_;function xM(){if(B_)return em;B_=1;function e(g){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(g)}function t(g,v){var _=Object.keys(g);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(g);v&&(k=k.filter(function(E){return Object.getOwnPropertyDescriptor(g,E).enumerable})),_.push.apply(_,k)}return _}function r(g){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?t(Object(_),!0).forEach(function(k){n(g,k,_[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(_)):t(Object(_)).forEach(function(k){Object.defineProperty(g,k,Object.getOwnPropertyDescriptor(_,k))})}return g}function n(g,v,_){return(v=i(v))in g?Object.defineProperty(g,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):g[v]=_,g}function i(g){var v=a(g,"string");return e(v)=="symbol"?v:v+""}function a(g,v){if(e(g)!="object"||!g)return g;var _=g[Symbol.toPrimitive];if(_!==void 0){var k=_.call(g,v);if(e(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(g)}var s=Er,c=s.pushArray,d=CE();function h(g,v){for(var _=0,k=v.modules;_<k.length;_++){var E=k[_],j=E.resolve(g,v);if(j)return j}return!1}function f(g){var v=[],_=g.baseNullGetter,k=g.compiled,E=g.scopeManager;g.nullGetter=function(x,w){return _(x,w||E)},g.resolved=v;var j=[];return Promise.all(k.filter(function(x){return["content","tag"].indexOf(x.type)===-1}).reduce(function(x,w){var A=h(w,r(r({},g),{},{resolvedId:d(w,g)})),S;if(A)S=A.then(function(T){v.push({tag:w.value,lIndex:w.lIndex,value:T})});else if(w.type==="placeholder")S=E.getValueAsync(w.value,{part:w}).then(function(T){return T??g.nullGetter(w)}).then(function(T){return v.push({tag:w.value,lIndex:w.lIndex,value:T}),T});else return;return x.push(S.catch(function(T){T instanceof Array?c(j,T):j.push(T)})),x},[])).then(function(){return{errors:j,resolved:v}})}return em=f,em}var tm,z_;function _M(){if(z_)return tm;z_=1;var e=Er,t=e.startsWith,r=e.endsWith,n=e.isStarting,i=e.isEnding,a=e.isWhiteSpace,s=A0;function c(h){for(var f="",g=0,v=h.length;g<v;g++){var _=h[g];a(_)||t(_,"<w:bookmarkEnd")||(r(f,"</w:tbl>")&&!t(_,"<w:p")&&!t(_,"<w:tbl")&&!t(_,"<w:sectPr")&&(_="<w:p/>".concat(_)),f=_,h[g]=_)}return h}function d(h,f){var g=f.fileTypeConfig.tagShouldContain||[],v="",_=-1;s.docx.indexOf(f.contentType)!==-1&&(h=c(h));for(var k=-1,E=0,j=g.length;E<j;E++)for(var x=g[E],w=x.tag,A=x.shouldContain,S=x.value,T=x.drop,F=x.dropParent,I=0,D=h.length;I<D;I++){var C=h[I];if(_===E){if(i(C,w))if(_=-1,F){for(var G=-1,Y=k;Y>0;Y--)if(n(h[Y],F)){G=Y;break}for(var z=G;z<=h.length;z++){if(i(h[z],F)){h[z]="";break}h[z]=""}}else{for(var ie=k;ie<=I;ie++)h[ie]="";T||(h[I]=v+S+C)}v+=C;for(var P=0,ue=A.length;P<ue;P++){var pe=A[P];if(n(C,pe)){_=-1;break}}}_===-1&&n(C,w)&&C.substr(1).indexOf("<")===-1&&(C[C.length-2]==="/"?h[I]="":(k=I,_=E,v=C))}return h}return tm=d,tm}var rm,U_;function bM(){if(U_)return rm;U_=1;function e(w){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},e(w)}function t(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")}function r(w,A){for(var S=0;S<A.length;S++){var T=A[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,i(T.key),T)}}function n(w,A,S){return A&&r(w.prototype,A),Object.defineProperty(w,"prototype",{writable:!1}),w}function i(w){var A=a(w,"string");return e(A)=="symbol"?A:A+""}function a(w,A){if(e(w)!="object"||!w)return w;var S=w[Symbol.toPrimitive];if(S!==void 0){var T=S.call(w,A);if(e(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}var s=Er,c=s.pushArray,d=s.wordToUtf8,h=s.convertSpaces,f=wE(),g=bE,v=gM(),_=vM(),k=yM(),E=xM(),j=_M();function x(w,A){var S=f(w,A),T=S.matches.map(function(F){return F.array[2]});return d(h(T.join("")))}return rm=function(){function w(A,S){t(this,w),this.cachedParsers={},this.content=A;for(var T in S)this[T]=S[T];this.setModules({inspect:{filePath:S.filePath}})}return n(w,[{key:"resolveTags",value:function(S){var T=this;this.tags=S;var F=this.getOptions(),I=this.filePath;F.scopeManager=this.scopeManager,F.resolve=E;var D=[];return Promise.all(this.modules.map(function(C){return Promise.resolve(C.preResolve(F)).catch(function(G){D.push(G)})})).then(function(){if(D.length!==0)throw D;return E(F).then(function(C){var G=C.resolved,Y=C.errors;if(Y=Y.map(function(z){var ie;return z instanceof Error||(z=new Error(z)),(ie=z).properties||(ie.properties={}),z.properties.file=I,z}),Y.length!==0)throw Y;return Promise.all(G).then(function(z){return F.scopeManager.root.finishedResolving=!0,F.scopeManager.resolved=z,T.setModules({inspect:{resolved:z,filePath:I}}),z})}).catch(function(C){throw T.errorChecker(C),C})})}},{key:"getFullText",value:function(){return x(this.content,this.fileTypeConfig.tagsXmlTextArray)}},{key:"setModules",value:function(S){for(var T=0,F=this.modules;T<F.length;T++){var I=F[T];I.set(S)}}},{key:"preparse",value:function(){this.allErrors=[],this.xmllexed=g.xmlparse(this.content,{text:this.fileTypeConfig.tagsXmlTextArray,other:this.fileTypeConfig.tagsXmlLexedArray}),this.setModules({inspect:{filePath:this.filePath,xmllexed:this.xmllexed}});var S=g.parse(this.xmllexed,this.delimiters,this.syntax,this.fileType),T=S.lexed,F=S.errors;c(this.allErrors,F),this.lexed=T,this.setModules({inspect:{filePath:this.filePath,lexed:this.lexed}});var I=this.getOptions();this.lexed=v.preparse(this.lexed,this.modules,I)}},{key:"parse",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=S.noPostParse;this.setModules({inspect:{filePath:this.filePath}});var F=this.getOptions();return this.parsed=v.parse(this.lexed,this.modules,F),this.setModules({inspect:{filePath:this.filePath,parsed:this.parsed}}),T?this:this.postparse()}},{key:"postparse",value:function(){var S=this.getOptions(),T=v.postparse(this.parsed,this.modules,S),F=T.postparsed,I=T.errors;return this.postparsed=F,this.setModules({inspect:{filePath:this.filePath,postparsed:this.postparsed}}),c(this.allErrors,I),this.errorChecker(this.allErrors),this}},{key:"errorChecker",value:function(S){for(var T=0,F=S;T<F.length;T++){var I=F[T];I.properties||(I.properties={}),I.properties.file=this.filePath}for(var D=0,C=this.modules;D<C.length;D++){var G=C[D];S=G.errorsTransformer(S)}}},{key:"baseNullGetter",value:function(S,T){var F=this,I=this.modules.reduce(function(D,C){return D??C.nullGetter(S,T,F)},null);return I??this.nullGetter(S,T)}},{key:"getOptions",value:function(){return{compiled:this.postparsed,cachedParsers:this.cachedParsers,tags:this.tags,modules:this.modules,parser:this.parser,contentType:this.contentType,relsType:this.relsType,baseNullGetter:this.baseNullGetter.bind(this),filePath:this.filePath,fileTypeConfig:this.fileTypeConfig,fileType:this.fileType,linebreaks:this.linebreaks,stripInvalidXMLChars:this.stripInvalidXMLChars}}},{key:"render",value:function(S){this.filePath=S;var T=this.getOptions();T.resolved=this.scopeManager.resolved,T.scopeManager=this.scopeManager,T.render=_,T.joinUncorrupt=j;var F=_(T),I=F.errors,D=F.parts;return I.length>0?(this.allErrors=I,this.errorChecker(I),this):(this.content=k(D,T),this.setModules({inspect:{filePath:this.filePath,content:this.content}}),this)}}])}(),rm}var nm,$_;function wM(){if($_)return nm;$_=1;function e(N){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},e(N)}function t(N,te){var X=Object.keys(N);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(N);te&&(q=q.filter(function(V){return Object.getOwnPropertyDescriptor(N,V).enumerable})),X.push.apply(X,q)}return X}function r(N){for(var te=1;te<arguments.length;te++){var X=arguments[te]!=null?arguments[te]:{};te%2?t(Object(X),!0).forEach(function(q){n(N,q,X[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(X)):t(Object(X)).forEach(function(q){Object.defineProperty(N,q,Object.getOwnPropertyDescriptor(X,q))})}return N}function n(N,te,X){return(te=_(te))in N?Object.defineProperty(N,te,{value:X,enumerable:!0,configurable:!0,writable:!0}):N[te]=X,N}function i(N,te){return h(N)||d(N,te)||s(N,te)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(N,te){if(N){if(typeof N=="string")return c(N,te);var X={}.toString.call(N).slice(8,-1);return X==="Object"&&N.constructor&&(X=N.constructor.name),X==="Map"||X==="Set"?Array.from(N):X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X)?c(N,te):void 0}}function c(N,te){(te==null||te>N.length)&&(te=N.length);for(var X=0,q=Array(te);X<te;X++)q[X]=N[X];return q}function d(N,te){var X=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(X!=null){var q,V,Z,Q,W=[],H=!0,me=!1;try{if(Z=(X=X.call(N)).next,te!==0)for(;!(H=(q=Z.call(X)).done)&&(W.push(q.value),W.length!==te);H=!0);}catch(Ce){me=!0,V=Ce}finally{try{if(!H&&X.return!=null&&(Q=X.return(),Object(Q)!==Q))return}finally{if(me)throw V}}return W}}function h(N){if(Array.isArray(N))return N}function f(N,te){if(!(N instanceof te))throw new TypeError("Cannot call a class as a function")}function g(N,te){for(var X=0;X<te.length;X++){var q=te[X];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(N,_(q.key),q)}}function v(N,te,X){return te&&g(N.prototype,te),Object.defineProperty(N,"prototype",{writable:!1}),N}function _(N){var te=k(N,"string");return e(te)=="symbol"?te:te+""}function k(N,te){if(e(N)!="object"||!N)return N;var X=N[Symbol.toPrimitive];if(X!==void 0){var q=X.call(N,te);if(e(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}var E=Er,j=E.chunkBy,x=E.last,w=E.isParagraphStart,A=E.isModule,S=E.pushArray,T=E.isParagraphEnd,F=E.isContent,I=E.startsWith,D=E.isTagEnd,C=E.isTagStart,G=E.getSingleAttribute,Y=E.setSingleAttribute,z=A0,ie=Wo,P="loop";function ue(N){return N.some(function(te){return F(te)})}function pe(N){for(var te=0;te<N.length;te++){var X=N[te];if(X.type!=="content")return X}return null}function ce(N){var te=pe(N.subparsed);return te!=null&&te.tag!=="w:t"}function he(N){return N.hasPageBreak&&ce(N)?'<w:p><w:r><w:br w:type="page"/></w:r></w:p>':""}function O(N){return N.length&&w(N[0])&&T(x(N))}function ae(N){return ue(N)?0:N.length}function ee(N){var te=N.parts.length-1;N.parts[te]==="</w:p>"?N.parts.splice(te,0,'<w:r><w:br w:type="page"/></w:r>'):N.parts.push('<w:p><w:r><w:br w:type="page"/></w:r></w:p>')}function re(N){N.parts.unshift('<w:p><w:r><w:br w:type="page"/></w:r></w:p>')}function ke(N){return N.some(function(te){return C("w:type",te)&&te.value.indexOf("continuous")!==-1})}function _e(N){return N.some(function(te){return C("w:type",te)&&te.value.indexOf('w:val="nextPage"')!==-1})}function xe(N,te){return S(["<w:p><w:pPr>".concat(te.map(function(X){var q=X.value;return q}).join(""),"</w:pPr></w:p>")],N)}function Te(N){var te=!1,X=!1;return N.reduce(function(q,V){return te===!1&&I(V,"<w:sectPr")&&(X=!0),X&&(I(V,"<w:type")&&(te=!0),te===!1&&I(V,"</w:sectPr")&&q.push('<w:type w:val="continuous"/>')),q.push(V),q},[])}function U(N){return N.filter(function(te){return!I(te,"<w:headerReference")&&!I(te,"<w:footerReference")})}function B(N){return N.some(function(te){return te.tag==="w:br"&&te.value.indexOf('w:type="page"')!==-1})}function se(N){return N.some(function(te){var X=te.tag;return X==="w:drawing"})}function le(N){for(var te=!1,X=[],q=0;q<N.length;q++){var V=N[q];C("w:sectPr",V)&&(X.push([]),te=!0),te&&X[X.length-1].push(V),D("w:sectPr",V)&&(te=!1)}return X}function Le(N){for(var te=!1,X=0,q=0;q<N.length;q++){var V=N[q];C("w:sectPr",V)&&(te=!0),te&&(V.tag==="w:headerReference"||V.tag==="w:footerReference")&&(X++,te=!1),D("w:sectPr",V)&&(te=!1)}return X}function Be(N){for(var te=[],X=!1,q=N.length-1;q>=0;q--){var V=N[q];if(D("w:sectPr",V)&&(X=!0),C("w:sectPr",V)&&(te.unshift(V.value),X=!1),X&&te.unshift(V.value),w(V)){if(te.length>0)return te.join("");break}}return""}var $e=function(){function N(){f(this,N),this.name="LoopModule",this.inXfrm=!1,this.totalSectPr=0,this.prefix={start:"#",end:"/",dash:/^-([^\s]+)\s(.+)/,inverted:"^"}}return v(N,[{key:"optionsTransformer",value:function(X,q){return this.docxtemplater=q,X}},{key:"preparse",value:function(X,q){var V=q.contentType;z.main.indexOf(V)!==-1&&(this.sects=le(X))}},{key:"matchers",value:function(){var X=P;return[[this.prefix.start,X,{expandTo:"auto",location:"start",inverted:!1}],[this.prefix.inverted,X,{expandTo:"auto",location:"start",inverted:!0}],[this.prefix.end,X,{location:"end"}],[this.prefix.dash,X,function(q){var V=i(q,3),Z=V[1],Q=V[2];return{location:"start",inverted:!1,expandTo:Z,value:Q}}]]}},{key:"getTraits",value:function(X,q){if(X==="expandPair")return q.reduce(function(V,Z,Q){return A(Z,P)&&Z.subparsed==null&&V.push({part:Z,offset:Q}),V},[])}},{key:"postparse",value:function(X,q){var V=q.basePart;if(V&&this.docxtemplater.fileType==="docx"&&X.length>0){V.sectPrCount=Le(X),this.totalSectPr+=V.sectPrCount;var Z=this.sects;Z.some(function(Ne,ze){if(V.lIndex<Ne[0].lIndex)return ze+1<Z.length&&ke(Z[ze+1])&&(V.addContinuousType=!0),!0;if(X[0].lIndex<Ne[0].lIndex&&Ne[0].lIndex<V.lIndex)return _e(Z[ze])&&(V.addNextPage={index:ze}),!0}),V.lastParagrapSectPr=Be(X)}if(!V||V.expandTo!=="auto"||V.module!==P||!O(X))return X;V.paragraphLoop=!0;var Q=0,W=j(X,function(Ne){return w(Ne)&&(Q++,Q===1)?"start":T(Ne)&&(Q--,Q===0)?"end":null}),H=W[0],me=x(W),Ce=ae(H),we=ae(me);return V.hasPageBreakBeginning=B(H),V.hasPageBreak=B(me),se(H)&&(Ce=0),se(me)&&(we=0),X.slice(Ce,X.length-we)}},{key:"resolve",value:function(X,q){if(!A(X,P))return null;var V=q.scopeManager,Z=V.getValueAsync(X.value,{part:X}),Q=[];function W(me,Ce,we){var Ne=V.createSubScopeManager(me,X.value,Ce,X,we);Q.push(q.resolve(r(r({},q),{},{compiled:X.subparsed,tags:{},scopeManager:Ne})))}var H=[];return Z.then(function(me){return new Promise(function(Ce){me instanceof Array?Promise.all(me).then(Ce):Ce(me)}).then(function(Ce){return V.loopOverValue(Ce,W,X.inverted),Promise.all(Q).then(function(we){return we.map(function(Ne){var ze=Ne.resolved,Ve=Ne.errors;return S(H,Ve),ze})}).then(function(we){if(H.length>0)throw H;return we})})})}},{key:"render",value:function(X,q){if(X.tag==="p:xfrm"&&(this.inXfrm=X.position==="start"),X.tag==="a:ext"&&this.inXfrm)return this.lastExt=X,X;if(!A(X,P))return null;var V=[],Z=[],Q=0,W=this,H=X.subparsed[0],me=0;(H==null?void 0:H.tag)==="a:tr"&&(me=+G(H.value,"h")),Q-=me;var Ce=0,we=ce(X);function Ne(gt,kt,St){Q+=me;for(var Vt=q.scopeManager.createSubScopeManager(gt,X.value,kt,X,St),et=0,Et=X.subparsed;et<Et.length;et++){var Ft=Et[et];if(C("a16:rowId",Ft)){var At=+G(Ft.value,"val")+Ce;Ce=1,Ft.value=Y(Ft.value,"val",At)}}var bt=q.render(r(r({},q),{},{compiled:X.subparsed,tags:{},scopeManager:Vt}));X.hasPageBreak&&kt===St-1&&we&&ee(bt);var cr=Vt.scopePathItem.some(function(rr){return rr!==0});cr?(X.sectPrCount===1&&(bt.parts=U(bt.parts)),X.addContinuousType&&(bt.parts=Te(bt.parts))):X.addNextPage&&(bt.parts=xe(bt.parts,W.sects[X.addNextPage.index])),X.addNextPage&&ee(bt),X.hasPageBreakBeginning&&we&&re(bt);for(var Tn=0,mr=bt.parts;Tn<mr.length;Tn++){var Un=mr[Tn];V.push(Un)}S(Z,bt.errors)}var ze=q.scopeManager.loopOver(X.value,Ne,X.inverted,{part:X});if(ze===!1)return X.lastParagrapSectPr?X.paragraphLoop?{value:"<w:p><w:pPr>".concat(X.lastParagrapSectPr,"</w:pPr></w:p>")}:{value:"</w:t></w:r></w:p><w:p><w:pPr>".concat(X.lastParagrapSectPr,"</w:pPr><w:r><w:t>")}:{value:he(X)||"",errors:Z};if(Q!==0){var Ve=+G(this.lastExt.value,"cy");this.lastExt.value=Y(this.lastExt.value,"cy",Ve+Q)}return{value:q.joinUncorrupt(V,r(r({},q),{},{basePart:X})),errors:Z}}}])}();return nm=function(){return ie(new $e)},nm}var im,V_;function CM(){if(V_)return im;V_=1;function e(T){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},e(T)}function t(T,F){if(!(T instanceof F))throw new TypeError("Cannot call a class as a function")}function r(T,F){for(var I=0;I<F.length;I++){var D=F[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,i(D.key),D)}}function n(T,F,I){return F&&r(T.prototype,F),Object.defineProperty(T,"prototype",{writable:!1}),T}function i(T){var F=a(T,"string");return e(F)=="symbol"?F:F+""}function a(T,F){if(e(T)!="object"||!T)return T;var I=T[Symbol.toPrimitive];if(I!==void 0){var D=I.call(T,F);if(e(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}var s=Wo,c=Er,d=c.isTextStart,h=c.isTextEnd,f=c.endsWith,g=c.startsWith,v=c.pushArray,_='<w:t xml:space="preserve">',k=_.length,E="</w:t>",j=E.length;function x(T){return d(T)&&T.tag==="w:t"}function w(T,F){var I=T[F].value;return T[F+1].value==="</w:t>"||I.indexOf('xml:space="preserve"')!==-1?I:I.substr(0,I.length-1)+' xml:space="preserve">'}function A(T,F){return T&&T.basePart&&F.length>1}var S=function(){function T(){t(this,T),this.name="SpacePreserveModule"}return n(T,[{key:"postparse",value:function(I,D){var C=[],G=!1,Y=0,z=0;function ie(ue,pe){return ue.type==="placeholder"&&pe.length>1}var P=I.reduce(function(ue,pe){return x(pe)&&(G=!0,z=C.length),G?(C.push(pe),A(D,C)&&(Y=D.basePart.endLindex,C[0].value=w(C,0)),ie(pe,C)&&(C[z].value=w(C,z),Y=pe.endLindex),h(pe)&&pe.lIndex>Y&&(Y!==0&&(C[z].value=w(C,z)),v(ue,C),C=[],G=!1,Y=0,z=0),ue):(ue.push(pe),ue)},[]);return v(P,C),P}},{key:"postrender",value:function(I){for(var D="",C=0,G=0,Y=I.length;G<Y;G++){var z=I[G];z!==""&&(f(D,_)&&g(z,E)&&(I[C]=D.substr(0,D.length-k)+"<w:t/>",z=z.substr(j)),D=z,C=G,I[G]=z)}return I}}])}();return im=function(){return s(new S)},im}var am,q_;function EM(){if(q_)return am;q_=1;function e(j){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},e(j)}function t(j,x){if(!(j instanceof x))throw new TypeError("Cannot call a class as a function")}function r(j,x){for(var w=0;w<x.length;w++){var A=x[w];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,i(A.key),A)}}function n(j,x,w){return x&&r(j.prototype,x),Object.defineProperty(j,"prototype",{writable:!1}),j}function i(j){var x=a(j,"string");return e(x)=="symbol"?x:x+""}function a(j,x){if(e(j)!="object"||!j)return j;var w=j[Symbol.toPrimitive];if(w!==void 0){var A=w.call(j,x);if(e(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}var s=S0,c=Er,d=c.isContent,h=si,f=h.throwRawTagShouldBeOnlyTextInParagraph,g=h.getInvalidRawXMLValueException,v=Wo,_="rawxml";function k(j){for(var x=j.part,w=j.left,A=j.right,S=j.postparsed,T=j.index,F=S.slice(w+1,A),I=0,D=F.length;I<D;I++)if(I!==T-w-1){var C=F[I];d(C)&&f({paragraphParts:F,part:x})}return x}var E=function(){function j(){t(this,j),this.name="RawXmlModule",this.prefix="@"}return n(j,[{key:"optionsTransformer",value:function(w,A){return this.fileTypeConfig=A.fileTypeConfig,w}},{key:"matchers",value:function(){return[[this.prefix,_]]}},{key:"postparse",value:function(w){return s.expandToOne(w,{moduleName:_,getInner:k,expandTo:this.fileTypeConfig.tagRawXml,error:{message:"Raw tag not in paragraph",id:"raw_tag_outerxml_invalid",explanation:function(S){return'The tag "'.concat(S.value,'" is not inside a paragraph, putting raw tags inside an inline loop is disallowed.')}}})}},{key:"render",value:function(w,A){if(w.module!==_)return null;var S,T=[];try{S=A.scopeManager.getValue(w.value,{part:w}),S??(S=A.nullGetter(w))}catch(F){return T.push(F),{errors:T}}return S=S||"",typeof S=="string"?{value:S}:{errors:[g({tag:w.value,value:S,offset:w.offset})]}}}])}();return am=function(){return v(new E)},am}var om,G_;function SM(){if(G_)return om;G_=1;function e(t,r){for(var n=-1,i=0,a=t.length;i<a;i++)r[i]>=t[i].length||(n===-1||t[i][r[i]].offset<t[n][r[n]].offset)&&(n=i);return n}return om=function(t){var r=t.reduce(function(c,d){return c+d.length},0);t=t.filter(function(c){return c.length>0});for(var n=new Array(r),i=t.map(function(){return 0}),a=0;a<r;a++){var s=e(t,i);n[a]=t[s][i[s]],i[s]++}return n},om}var sm,H_;function AM(){if(H_)return sm;H_=1;function e(D){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},e(D)}function t(D,C){if(!(D instanceof C))throw new TypeError("Cannot call a class as a function")}function r(D,C){for(var G=0;G<C.length;G++){var Y=C[G];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(D,i(Y.key),Y)}}function n(D,C,G){return C&&r(D.prototype,C),Object.defineProperty(D,"prototype",{writable:!1}),D}function i(D){var C=a(D,"string");return e(C)=="symbol"?C:C+""}function a(D,C){if(e(D)!="object"||!D)return D;var G=D[Symbol.toPrimitive];if(G!==void 0){var Y=G.call(D,C);if(e(Y)!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}var s="expandPair",c=SM(),d=Er,h=d.getLeft,f=d.getRight,g=d.pushArray,v=Wo,_=S0,k=_.getExpandToDefault,E=si,j=E.getUnmatchedLoopException,x=E.getClosingTagNotMatchOpeningTag,w=E.getUnbalancedLoopException;function A(D){switch(D.location){case"start":return 1;case"end":return-1}}function S(D,C){return D!=null&&C!=null&&(D.part.location==="start"&&C.part.location==="end"&&D.part.value===C.part.value||C.part.value==="")}function T(D){for(var C=0,G=[];C<D.length;){var Y=D[C].part;if(Y.location==="end"){if(C===0)return D.splice(0,1),G.push(j(Y)),{traits:D,errors:G};var z=C,ie=C-1,P=1;if(S(D[ie],D[z]))return D.splice(z,1),D.splice(ie,1),{errors:G,traits:D};for(;P<50;){var ue=D[ie-P],pe=D[z+P];if(S(ue,D[z]))return D.splice(z,1),D.splice(ie-P,1),{errors:G,traits:D};if(S(D[ie],pe))return D.splice(z+P,1),D.splice(ie,1),{errors:G,traits:D};P++}return G.push(x({tags:[D[ie].part,D[z].part]})),D.splice(z,1),D.splice(ie,1),{traits:D,errors:G}}C++}for(var ce=0;ce<D.length;ce++){var he=D[ce].part;G.push(j(he))}return{traits:[],errors:G}}function F(D){var C={},G=[],Y=[],z=[];for(g(z,D);z.length>0;){var ie=T(z);g(G,ie.errors),z=ie.traits}if(G.length>0)return{pairs:Y,errors:G};for(var P=0,ue=0;ue<D.length;ue++){var pe=D[ue],ce=pe.part,he=A(ce);if(P+=he,he===1)C[P]=pe;else{var O=C[P+1];P===0&&Y.push([O,pe])}P=P>=0?P:0}return{pairs:Y,errors:G}}var I=function(){function D(){t(this,D),this.name="ExpandPairTrait"}return n(D,[{key:"optionsTransformer",value:function(G,Y){return Y.options.paragraphLoop&&g(Y.fileTypeConfig.expandTags,Y.fileTypeConfig.onParagraphLoop),this.expandTags=Y.fileTypeConfig.expandTags,G}},{key:"postparse",value:function(G,Y){var z=this,ie=Y.getTraits,P=Y.postparse,ue=Y.fileType,pe=ie(s,G);pe=pe.map(function(Te){return Te||[]}),pe=c(pe);var ce=F(pe),he=ce.pairs,O=ce.errors,ae=0,ee=null,re=he.map(function(Te){var U=Te[0].part.expandTo;if(U==="auto"&&ue!=="text"){var B=k(G,Te,z.expandTags);B.error&&O.push(B.error),U=B.value}if(!U||ue==="text"){var se=Te[0].offset,le=Te[1].offset;return se<ae&&!z.docxtemplater.options.syntax.allowUnbalancedLoops&&O.push(w(Te,ee)),ee=Te,ae=le,[se,le]}var Le,Be;try{Le=h(G,U,Te[0].offset)}catch($e){O.push($e)}try{Be=f(G,U,Te[1].offset)}catch($e){O.push($e)}return Le<ae&&!z.docxtemplater.options.syntax.allowUnbalancedLoops&&O.push(w(Te,ee)),ae=Be,ee=Te,[Le,Be]});if(O.length>0)return{postparsed:G,errors:O};var ke=0,_e,xe=G.reduce(function(Te,U,B){var se=ke<he.length&&re[ke][0]<=B&&B<=re[ke][1],le=he[ke],Le=re[ke];if(!se)return Te.push(U),Te;if(Le[0]===B&&(_e=[]),le[0].offset!==B&&le[1].offset!==B&&_e.push(U),Le[1]===B){var Be=G[le[0].offset];Be.subparsed=P(_e,{basePart:Be}),Be.endLindex=le[1].part.lIndex,delete Be.location,delete Be.expandTo,Te.push(Be),ke++;for(var $e=re[ke];$e&&$e[0]<B;)ke++,$e=re[ke]}return Te},[]);return{postparsed:xe,errors:O}}}])}();return sm=function(){return v(new I)},sm}var lm,Z_;function TM(){if(Z_)return lm;Z_=1;function e(F){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},e(F)}function t(F,I){if(!(F instanceof I))throw new TypeError("Cannot call a class as a function")}function r(F,I){for(var D=0;D<I.length;D++){var C=I[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(F,i(C.key),C)}}function n(F,I,D){return I&&r(F.prototype,I),Object.defineProperty(F,"prototype",{writable:!1}),F}function i(F){var I=a(F,"string");return e(I)=="symbol"?I:I+""}function a(F,I){if(e(F)!="object"||!F)return F;var D=F[Symbol.toPrimitive];if(D!==void 0){var C=D.call(F,I);if(e(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}var s=Wo,c=si,d=c.getScopeCompilationError,h=c.getCorruptCharactersException,f=Er,g=f.utf8ToWord,v=f.hasCorruptCharacters,_=f.removeCorruptCharacters,k=pE,E=k.settingsContentType,j=k.coreContentType,x=k.appContentType,w=k.customContentType,A=[E,j,x,w],S={docx:"w",pptx:"a"},T=function(){function F(){t(this,F),this.name="Render",this.recordRun=!1,this.recordedRun=[]}return n(F,[{key:"optionsTransformer",value:function(D,C){return this.docxtemplater=C,this.brTag=C.fileType==="docx"?"<w:r><w:br/></w:r>":"<a:br/>",this.prefix=S[C.fileType],this.runStartTag="".concat(this.prefix,":r"),this.runPropsStartTag="".concat(this.prefix,":rPr"),D}},{key:"set",value:function(D){D.compiled&&(this.compiled=D.compiled),D.data!=null&&(this.data=D.data)}},{key:"getRenderedMap",value:function(D){for(var C in this.compiled)D[C]={from:C,data:this.data};return D}},{key:"postparse",value:function(D,C){for(var G=[],Y=0;Y<D.length;Y++){var z=D[Y];if(z.type==="placeholder"){var ie=z.value;try{C.cachedParsers[z.lIndex]=this.docxtemplater.parser(ie,{tag:z})}catch(P){G.push(d({tag:ie,rootError:P,offset:z.offset}))}}}return{postparsed:D,errors:G}}},{key:"render",value:function(D,C){var G=C.contentType,Y=C.scopeManager,z=C.linebreaks,ie=C.nullGetter,P=C.fileType,ue=C.stripInvalidXMLChars;if(A.indexOf(G)!==-1&&(z=!1),z&&this.recordRuns(D),!(D.type!=="placeholder"||D.module)){var pe;try{pe=Y.getValue(D.value,{part:D})}catch(ce){return{errors:[ce]}}if(pe??(pe=ie(D)),typeof pe=="string"){if(ue)pe=_(pe);else if(["docx","pptx","xlsx"].indexOf(P)!==-1&&v(pe))return{errors:[h({tag:D.value,value:pe,offset:D.offset})]}}return P==="text"?{value:pe}:{value:z&&typeof pe=="string"?this.renderLineBreaks(pe):g(pe)}}}},{key:"recordRuns",value:function(D){D.tag===this.runStartTag?this.recordedRun="":D.tag===this.runPropsStartTag?(D.position==="start"&&(this.recordRun=!0,this.recordedRun+=D.value),(D.position==="end"||D.position==="selfclosing")&&(this.recordedRun+=D.value,this.recordRun=!1)):this.recordRun&&(this.recordedRun+=D.value)}},{key:"renderLineBreaks",value:function(D){for(var C=[],G=D.split(`
`),Y=0,z=G.length;Y<z;Y++)C.push(g(G[Y])),Y<G.length-1&&C.push("</".concat(this.prefix,":t></").concat(this.prefix,":r>").concat(this.brTag,"<").concat(this.prefix,":r>").concat(this.recordedRun,"<").concat(this.prefix,":t").concat(this.docxtemplater.fileType==="docx"?' xml:space="preserve"':"",">"));return C}}])}();return lm=function(){return s(new T)},lm}var um,W_;function NM(){if(W_)return um;W_=1;var e=wM(),t=CM(),r=EM(),n=AM(),i=TM();function a(){return{getTemplatedFiles:function(){return[]},textPath:function(d){return d.textTarget},tagsXmlTextArray:["Company","HyperlinkBase","Manager","cp:category","cp:keywords","dc:creator","dc:description","dc:subject","dc:title","cp:contentStatus","w:t","a:t","m:t","vt:lpstr","vt:lpwstr"],tagsXmlLexedArray:["w:proofState","w:tc","w:tr","w:tbl","w:body","w:document","w:p","w:r","w:br","w:rPr","w:pPr","w:spacing","w:sdtContent","w:sdt","w:drawing","w:sectPr","w:type","w:headerReference","w:footerReference","w:bookmarkStart","w:bookmarkEnd","w:commentRangeStart","w:commentRangeEnd","w:commentReference"],droppedTagsInsidePlaceholder:["w:p","w:br","w:bookmarkStart","w:bookmarkEnd"],expandTags:[{contains:"w:tc",expand:"w:tr"}],onParagraphLoop:[{contains:"w:p",expand:"w:p",onlyTextInTag:!0}],tagRawXml:"w:p",baseModules:[e,t,n,r,i],tagShouldContain:[{tag:"w:sdtContent",shouldContain:["w:p","w:r","w:commentRangeStart","w:sdt"],value:"<w:p></w:p>"},{tag:"w:tc",shouldContain:["w:p"],value:"<w:p></w:p>"},{tag:"w:tr",shouldContain:["w:tc"],drop:!0},{tag:"w:tbl",shouldContain:["w:tr"],drop:!0}]}}function s(){return{getTemplatedFiles:function(){return[]},textPath:function(d){return d.textTarget},tagsXmlTextArray:["Company","HyperlinkBase","Manager","cp:category","cp:keywords","dc:creator","dc:description","dc:subject","dc:title","a:t","m:t","vt:lpstr","vt:lpwstr"],tagsXmlLexedArray:["p:sp","a:tc","a:tr","a:tbl","a:graphicData","a:p","a:r","a:rPr","p:txBody","a:txBody","a:off","a:ext","p:graphicFrame","p:xfrm","a16:rowId","a:endParaRPr"],droppedTagsInsidePlaceholder:["a:p","a:endParaRPr"],expandTags:[{contains:"a:tc",expand:"a:tr"}],onParagraphLoop:[{contains:"a:p",expand:"a:p",onlyTextInTag:!0}],tagRawXml:"p:sp",baseModules:[e,n,r,i],tagShouldContain:[{tag:"a:tbl",shouldContain:["a:tr"],dropParent:"p:graphicFrame"},{tag:"p:txBody",shouldContain:["a:p"],value:"<a:p></a:p>"},{tag:"a:txBody",shouldContain:["a:p"],value:"<a:p></a:p>"}]}}return um={docx:a,pptx:s},um}(function(e){var t=["modules"];function r(Z,Q){var W=Object.keys(Z);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(Z);Q&&(H=H.filter(function(me){return Object.getOwnPropertyDescriptor(Z,me).enumerable})),W.push.apply(W,H)}return W}function n(Z){for(var Q=1;Q<arguments.length;Q++){var W=arguments[Q]!=null?arguments[Q]:{};Q%2?r(Object(W),!0).forEach(function(H){i(Z,H,W[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(W)):r(Object(W)).forEach(function(H){Object.defineProperty(Z,H,Object.getOwnPropertyDescriptor(W,H))})}return Z}function i(Z,Q,W){return(Q=x(Q))in Z?Object.defineProperty(Z,Q,{value:W,enumerable:!0,configurable:!0,writable:!0}):Z[Q]=W,Z}function a(Z,Q){return f(Z)||h(Z,Q)||c(Z,Q)||s()}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(Z,Q){if(Z){if(typeof Z=="string")return d(Z,Q);var W={}.toString.call(Z).slice(8,-1);return W==="Object"&&Z.constructor&&(W=Z.constructor.name),W==="Map"||W==="Set"?Array.from(Z):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?d(Z,Q):void 0}}function d(Z,Q){(Q==null||Q>Z.length)&&(Q=Z.length);for(var W=0,H=Array(Q);W<Q;W++)H[W]=Z[W];return H}function h(Z,Q){var W=Z==null?null:typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(W!=null){var H,me,Ce,we,Ne=[],ze=!0,Ve=!1;try{if(Ce=(W=W.call(Z)).next,Q===0){if(Object(W)!==W)return;ze=!1}else for(;!(ze=(H=Ce.call(W)).done)&&(Ne.push(H.value),Ne.length!==Q);ze=!0);}catch(gt){Ve=!0,me=gt}finally{try{if(!ze&&W.return!=null&&(we=W.return(),Object(we)!==we))return}finally{if(Ve)throw me}}return Ne}}function f(Z){if(Array.isArray(Z))return Z}function g(Z){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},g(Z)}function v(Z,Q){if(Z==null)return{};var W,H,me=_(Z,Q);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Z);for(H=0;H<Ce.length;H++)W=Ce[H],Q.indexOf(W)===-1&&{}.propertyIsEnumerable.call(Z,W)&&(me[W]=Z[W])}return me}function _(Z,Q){if(Z==null)return{};var W={};for(var H in Z)if({}.hasOwnProperty.call(Z,H)){if(Q.indexOf(H)!==-1)continue;W[H]=Z[H]}return W}function k(Z,Q){if(!(Z instanceof Q))throw new TypeError("Cannot call a class as a function")}function E(Z,Q){for(var W=0;W<Q.length;W++){var H=Q[W];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(Z,x(H.key),H)}}function j(Z,Q,W){return Q&&E(Z.prototype,Q),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function x(Z){var Q=w(Z,"string");return g(Q)=="symbol"?Q:Q+""}function w(Z,Q){if(g(Z)!="object"||!Z)return Z;var W=Z[Symbol.toPrimitive];if(W!==void 0){var H=W.call(Z,Q);if(g(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}var A=Er;A.traits=S0,A.moduleWrapper=Wo;var S=_I,T=DI,F=bE,I=oM,D=I.getTags,C=dM,G=pM,Y=si,z=Y.throwMultiError,ie=Y.throwResolveBeforeCompile,P=Y.throwRenderInvalidTemplate,ue=Y.throwRenderTwice,pe=Y.XTInternalError,ce=Y.XTTemplateError,he=Y.throwFileTypeNotIdentified,O=Y.throwFileTypeNotHandled,ae=Y.throwApiVersionError,ee=A.getDefaults,re=A.str2xml,ke=A.xml2str,_e=A.moduleWrapper,xe=A.concatArrays,Te=A.uniq,U=A.getDuplicates,B=A.stableSort,se=A.pushArray,le="[Content_Types].xml",Le="_rels/.rels",Be=[3,46,0];function $e(Z){var Q=[];for(var W in Z)Q.push(W);for(var H=[le,Le],me=["word/","xl/","ppt/"],Ce=0;Ce<Q.length;Ce++)for(var we=Q[Ce],Ne=0;Ne<me.length;Ne++){var ze=me[Ne];we.indexOf("".concat(ze))===0&&H.push(we)}for(var Ve=0;Ve<Q.length;Ve++){var gt=Q[Ve];H.indexOf(gt)===-1&&H.push(gt)}return H}function N(Z,Q){Z.hideDeprecations!==!0&&console.warn(Q)}function te(Z,Q){if(Z.hideDeprecations!==!0)return N(Z,'Deprecated method ".'.concat(Q,'", view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : ').concat(new Error().stack))}function X(Z){Z.modules=Z.modules.filter(function(Q){if(!Q.supportedFileTypes)return!0;if(!Array.isArray(Q.supportedFileTypes))throw new Error("The supportedFileTypes field of the module must be an array");var W=Q.supportedFileTypes.includes(Z.fileType);return W||Q.on("detached"),W})}function q(Z){var Q=Z.compiled;Z.errors=xe(Object.keys(Q).map(function(W){return Q[W].allErrors})),Z.errors.length!==0&&(Z.options.errorLogging&&C(Z.errors,Z.options.errorLogging),z(Z.errors))}var V=function(){function Z(Q){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=W.modules,me=H===void 0?[]:H,Ce=v(W,t);if(k(this,Z),this.targets=[],this.rendered=!1,this.scopeManagers={},this.compiled={},this.modules=[S()],this.xmlDocuments={},arguments.length===0)N(this,"Deprecated docxtemplater constructor with no arguments, view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : ".concat(new Error().stack)),this.hideDeprecations=!0,this.setOptions(Ce);else{if(this.hideDeprecations=!0,this.setOptions(Ce),!Q||!Q.files||typeof Q.file!="function")throw new Error("The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)");if(!Array.isArray(me))throw new Error("The modules argument of docxtemplater's constructor must be an array");for(var we=0;we<me.length;we++){var Ne=me[we];this.attachModule(Ne)}this.loadZip(Q),this.compile(),this.v4Constructor=!0}this.hideDeprecations=!1}return j(Z,[{key:"verifyApiVersion",value:function(W){return W=W.split(".").map(function(H){return parseInt(H,10)}),W.length!==3&&ae("neededVersion is not a valid version",{neededVersion:W,explanation:"the neededVersion must be an array of length 3"}),W[0]!==Be[0]&&ae("The major api version do not match, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:W,currentModuleApiVersion:Be,explanation:"moduleAPIVersionMismatch : needed=".concat(W.join("."),", current=").concat(Be.join("."))}),W[1]>Be[1]&&ae("The minor api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:W,currentModuleApiVersion:Be,explanation:"moduleAPIVersionMismatch : needed=".concat(W.join("."),", current=").concat(Be.join("."))}),W[1]===Be[1]&&W[2]>Be[2]&&ae("The patch api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:W,currentModuleApiVersion:Be,explanation:"moduleAPIVersionMismatch : needed=".concat(W.join("."),", current=").concat(Be.join("."))}),!0}},{key:"setModules",value:function(W){for(var H=0,me=this.modules;H<me.length;H++){var Ce=me[H];Ce.set(W)}}},{key:"sendEvent",value:function(W){for(var H=0,me=this.modules;H<me.length;H++){var Ce=me[H];Ce.on(W)}}},{key:"attachModule",value:function(W){if(this.v4Constructor)throw new pe("attachModule() should not be called manually when using the v4 constructor");te(this,"attachModule");var H=g(W);if(H==="function")throw new pe("Cannot attach a class/function as a module. Most probably you forgot to instantiate the module by using `new` on the module.");if(!W||H!=="object")throw new pe("Cannot attachModule with a falsy value");if(W.requiredAPIVersion&&this.verifyApiVersion(W.requiredAPIVersion),W.attached===!0)if(typeof W.clone=="function")W=W.clone();else throw new Error('Cannot attach a module that was already attached : "'.concat(W.name,'". The most likely cause is that you are instantiating the module at the root level, and using it for multiple instances of Docxtemplater'));W.attached=!0;var me=_e(W);return this.modules.push(me),me.on("attached"),this.fileType&&X(this),this}},{key:"setOptions",value:function(W){var H,me;if(this.v4Constructor)throw new Error("setOptions() should not be called manually when using the v4 constructor");if(te(this,"setOptions"),!W)throw new Error("setOptions should be called with an object as first parameter");this.options={};var Ce=ee();for(var we in Ce){var Ne=Ce[we];this.options[we]=W[we]!=null?W[we]:this[we]||Ne,this[we]=this.options[we]}return(H=this.delimiters).start&&(H.start=A.utf8ToWord(this.delimiters.start)),(me=this.delimiters).end&&(me.end=A.utf8ToWord(this.delimiters.end)),this}},{key:"loadZip",value:function(W){if(this.v4Constructor)throw new Error("loadZip() should not be called manually when using the v4 constructor");if(te(this,"loadZip"),W.loadAsync)throw new pe("Docxtemplater doesn't handle JSZip version >=3, please use pizzip");this.zip=W,this.updateFileTypeConfig(),this.modules=xe([this.fileTypeConfig.baseModules.map(function(we){return we()}),this.modules]);for(var H=0,me=this.modules;H<me.length;H++){var Ce=me[H];Ce.zip=this.zip,Ce.docxtemplater=this}return X(this),this}},{key:"precompileFile",value:function(W){var H=this.createTemplateClass(W);H.preparse(),this.compiled[W]=H}},{key:"compileFile",value:function(W){this.compiled[W].parse()}},{key:"getScopeManager",value:function(W,H,me){var Ce;return(Ce=this.scopeManagers)[W]||(Ce[W]=T({tags:me,parser:this.parser,cachedParsers:H.cachedParsers})),this.scopeManagers[W]}},{key:"resolveData",value:function(W){var H=this;te(this,"resolveData");var me=[];return Object.keys(this.compiled).length||ie(),Promise.resolve(W).then(function(Ce){return H.data=Ce,H.setModules({data:H.data,Lexer:F}),H.mapper=H.modules.reduce(function(we,Ne){return Ne.getRenderedMap(we)},{}),Promise.all(Object.keys(H.mapper).map(function(we){var Ne=H.mapper[we],ze=Ne.from,Ve=Ne.data;return Promise.resolve(Ve).then(function(gt){var kt=H.compiled[ze];return kt.filePath=we,kt.scopeManager=H.getScopeManager(we,kt,gt),kt.resolveTags(gt).then(function(St){return kt.scopeManager.finishedResolving=!0,St},function(St){se(me,St)})})})).then(function(we){return me.length!==0&&(H.options.errorLogging&&C(me,H.options.errorLogging),z(me)),xe(we)})})}},{key:"reorderModules",value:function(){this.modules=B(this.modules,function(W,H){return(H.priority||0)-(W.priority||0)})}},{key:"throwIfDuplicateModules",value:function(){var W=U(this.modules.map(function(H){var me=H.name;return me}));if(W.length>0)throw new pe('Detected duplicate module "'.concat(W[0],'"'))}},{key:"compile",value:function(){var W=this;if(te(this,"compile"),this.updateFileTypeConfig(),this.throwIfDuplicateModules(),this.reorderModules(),Object.keys(this.compiled).length)return this;this.options=this.modules.reduce(function(Ft,At){return At.optionsTransformer(Ft,W)},this.options),this.options.xmlFileNames=Te(this.options.xmlFileNames);for(var H=0,me=this.options.xmlFileNames;H<me.length;H++){var Ce=me[H],we=this.zip.files[Ce].asText();this.xmlDocuments[Ce]=re(we)}this.setModules({zip:this.zip,xmlDocuments:this.xmlDocuments}),this.getTemplatedFiles(),this.sendEvent("before-preparse");for(var Ne=0,ze=this.templatedFiles;Ne<ze.length;Ne++){var Ve=ze[Ne];this.zip.files[Ve]!=null&&this.precompileFile(Ve)}this.sendEvent("after-preparse");for(var gt=0,kt=this.templatedFiles;gt<kt.length;gt++){var St=kt[gt];this.zip.files[St]!=null&&this.compiled[St].parse({noPostParse:!0})}this.sendEvent("after-parse");for(var Vt=0,et=this.templatedFiles;Vt<et.length;Vt++){var Et=et[Vt];this.zip.files[Et]!=null&&this.compiled[Et].postparse()}return this.sendEvent("after-postparse"),this.setModules({compiled:this.compiled}),q(this),this}},{key:"getRelsTypes",value:function(){for(var W=this.zip.files[Le],H=W?re(W.asText()):null,me=H?H.getElementsByTagName("Relationship"):[],Ce={},we=0;we<me.length;we++){var Ne=me[we];Ce[Ne.getAttribute("Target")]=Ne.getAttribute("Type")}return Ce}},{key:"getContentTypes",value:function(){var W=this.zip.files[le],H=W?re(W.asText()):null,me=H?H.getElementsByTagName("Override"):null,Ce=H?H.getElementsByTagName("Default"):null;return{overrides:me,defaults:Ce,contentTypes:W,contentTypeXml:H}}},{key:"updateFileTypeConfig",value:function(){this.relsTypes=this.getRelsTypes();var W=this.getContentTypes(),H=W.overrides,me=W.defaults,Ce=W.contentTypes,we=W.contentTypeXml;we&&(this.filesContentTypes=G(H,me,this.zip),this.invertedContentTypes=A.invertMap(this.filesContentTypes),this.setModules({contentTypes:this.contentTypes,invertedContentTypes:this.invertedContentTypes}));var Ne;this.zip.files.mimetype&&(Ne="odt");for(var ze=0,Ve=this.modules;ze<Ve.length;ze++){var gt=Ve[ze];Ne=gt.getFileType({zip:this.zip,contentTypes:Ce,contentTypeXml:we,overrides:H,defaults:me,doc:this})||Ne}Ne==="odt"&&O(Ne),Ne||he(this.zip);for(var kt=0,St=this.modules;kt<St.length;kt++)for(var Vt=St[kt],et=0,Et=Vt.xmlContentTypes||[];et<Et.length;et++){var Ft=Et[et];se(this.options.xmlFileNames,this.invertedContentTypes[Ft]||[])}if(this.fileType=Ne,X(this),this.fileTypeConfig=this.options.fileTypeConfig||this.fileTypeConfig,!this.fileTypeConfig)if(Z.FileTypeConfig[this.fileType])this.fileTypeConfig=Z.FileTypeConfig[this.fileType]();else{var At='Filetype "'.concat(this.fileType,'" is not supported'),bt="filetype_not_supported";this.fileType==="xlsx"&&(At='Filetype "'.concat(this.fileType,'" is supported only with the paid XlsxModule'),bt="xlsx_filetype_needs_xlsx_module");var cr=new ce(At);throw cr.properties={id:bt,explanation:At},cr}return this}},{key:"renderAsync",value:function(W){var H=this;this.hideDeprecations=!0;var me=this.resolveData(W);return this.hideDeprecations=!1,me.then(function(){return H.render()})}},{key:"render",value:function(W){this.rendered&&ue(),this.rendered=!0,Object.keys(this.compiled).length===0&&this.compile(),this.errors.length>0&&P(),arguments.length>0&&(this.data=W),this.setModules({data:this.data,Lexer:F}),this.mapper||(this.mapper=this.modules.reduce(function(Un,rr){return rr.getRenderedMap(Un)},{}));var H=[];for(var me in this.mapper){var Ce=this.mapper[me],we=Ce.from,Ne=Ce.data,ze=this.compiled[we];ze.scopeManager=this.getScopeManager(me,ze,Ne),ze.render(me),H.push([me,ze.content,ze]),delete ze.content}for(var Ve=0;Ve<H.length;Ve++)for(var gt=H[Ve],kt=a(gt,3),St=kt[1],Vt=kt[2],et=0,Et=this.modules;et<Et.length;et++){var Ft=Et[et];if(Ft.preZip){var At=Ft.preZip(St,Vt);typeof At=="string"&&(gt[1]=At)}}for(var bt=0;bt<H.length;bt++){var cr=a(H[bt],2),Tn=cr[0],mr=cr[1];this.zip.file(Tn,mr,{createFolders:!0})}return q(this),this.sendEvent("syncing-zip"),this.syncZip(),this.sendEvent("synced-zip"),this}},{key:"syncZip",value:function(){for(var W in this.xmlDocuments){this.zip.remove(W);var H=ke(this.xmlDocuments[W]);this.zip.file(W,H,{createFolders:!0})}}},{key:"setData",value:function(W){return te(this,"setData"),this.data=W,this}},{key:"getZip",value:function(){return this.zip}},{key:"createTemplateClass",value:function(W){var H=this.zip.files[W].asText();return this.createTemplateClassFromContent(H,W)}},{key:"createTemplateClassFromContent",value:function(W,H){for(var me={filePath:H,contentType:this.filesContentTypes[H],relsType:this.relsTypes[H]},Ce=ee(),we=se(Object.keys(Ce),["filesContentTypes","fileTypeConfig","fileType","modules"]),Ne=0;Ne<we.length;Ne++){var ze=we[Ne];me[ze]=this[ze]}return new Z.XmlTemplater(W,me)}},{key:"getFullText",value:function(W){return this.createTemplateClass(W||this.fileTypeConfig.textPath(this)).getFullText()}},{key:"getTemplatedFiles",value:function(){return this.templatedFiles=this.fileTypeConfig.getTemplatedFiles(this.zip),se(this.templatedFiles,this.targets),this.templatedFiles=Te(this.templatedFiles),this.templatedFiles}},{key:"getTags",value:function(){var W={headers:[],footers:[]};for(var H in this.compiled){var me=this.filesContentTypes[H];me==="application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml"&&(W.document={target:H,tags:D(this.compiled[H].postparsed)}),me==="application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml"&&W.headers.push({target:H,tags:D(this.compiled[H].postparsed)}),me==="application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml"&&W.footers.push({target:H,tags:D(this.compiled[H].postparsed)})}return W}},{key:"toBuffer",value:function(W){return this.getZip().generate(n(n({compression:"DEFLATE",fileOrder:$e},W),{},{type:"nodebuffer"}))}},{key:"toBlob",value:function(W){return this.getZip().generate(n(n({compression:"DEFLATE",fileOrder:$e},W),{},{type:"blob"}))}},{key:"toBase64",value:function(W){return this.getZip().generate(n(n({compression:"DEFLATE",fileOrder:$e},W),{},{type:"base64"}))}},{key:"toUint8Array",value:function(W){return this.getZip().generate(n(n({compression:"DEFLATE",fileOrder:$e},W),{},{type:"uint8array"}))}},{key:"toArrayBuffer",value:function(W){return this.getZip().generate(n(n({compression:"DEFLATE",fileOrder:$e},W),{},{type:"arraybuffer"}))}}])}();V.DocUtils=A,V.Errors=si,V.XmlTemplater=bM(),V.FileTypeConfig=NM(),V.XmlMatcher=wE(),e.exports=V,e.exports.default=V})(gC);var kM=gC.exports;const DM=Sc(kM);var EE={exports:{}},Vc={},Ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Vc.encode=function(e){for(var t="",r,n,i,a,s,c,d,h=0;h<e.length;)r=e.charCodeAt(h++),n=e.charCodeAt(h++),i=e.charCodeAt(h++),a=r>>2,s=(r&3)<<4|n>>4,c=(n&15)<<2|i>>6,d=i&63,isNaN(n)?c=d=64:isNaN(i)&&(d=64),t=t+Ea.charAt(a)+Ea.charAt(s)+Ea.charAt(c)+Ea.charAt(d);return t};Vc.decode=function(e){var t="",r,n,i,a,s,c,d,h=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<e.length;)a=Ea.indexOf(e.charAt(h++)),s=Ea.indexOf(e.charAt(h++)),c=Ea.indexOf(e.charAt(h++)),d=Ea.indexOf(e.charAt(h++)),r=a<<2|s>>4,n=(s&15)<<4|c>>2,i=(c&3)<<6|d,t+=String.fromCharCode(r),c!==64&&(t+=String.fromCharCode(n)),d!==64&&(t+=String.fromCharCode(i));return t};var Dr={},Xd;Dr.base64=!0;Dr.array=!0;Dr.string=!0;Dr.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u";Dr.nodebuffer=typeof Buffer<"u";Dr.uint8array=typeof Uint8Array<"u";if(typeof ArrayBuffer>"u")Xd=Dr.blob=!1;else{var X_=new ArrayBuffer(0);try{Xd=Dr.blob=new Blob([X_],{type:"application/zip"}).size===0}catch{try{var jM=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,J_=new jM;J_.append(X_),Xd=Dr.blob=J_.getBlob("application/zip").size===0}catch{Xd=Dr.blob=!1}}}var Bn={},Jd={},go={},Kd={exports:{}};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */var K_;function OM(){return K_||(K_=1,function(e,t){(function(r,n){n(t)})(He,function(r){function n(m){for(var M=m.length;--M>=0;)m[M]=0}var i=256,a=286,s=30,c=15,d=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),h=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),g=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v=new Array(576);n(v);var _=new Array(60);n(_);var k=new Array(512);n(k);var E=new Array(256);n(E);var j=new Array(29);n(j);var x,w,A,S=new Array(s);function T(m,M,y,J,K){this.static_tree=m,this.extra_bits=M,this.extra_base=y,this.elems=J,this.max_length=K,this.has_stree=m&&m.length}function F(m,M){this.dyn_tree=m,this.max_code=0,this.stat_desc=M}n(S);var I=function(m){return m<256?k[m]:k[256+(m>>>7)]},D=function(m,M){m.pending_buf[m.pending++]=255&M,m.pending_buf[m.pending++]=M>>>8&255},C=function(m,M,y){m.bi_valid>16-y?(m.bi_buf|=M<<m.bi_valid&65535,D(m,m.bi_buf),m.bi_buf=M>>16-m.bi_valid,m.bi_valid+=y-16):(m.bi_buf|=M<<m.bi_valid&65535,m.bi_valid+=y)},G=function(m,M,y){C(m,y[2*M],y[2*M+1])},Y=function(m,M){var y=0;do y|=1&m,m>>>=1,y<<=1;while(--M>0);return y>>>1},z=function(m,M,y){var J,K,ne=new Array(16),Se=0;for(J=1;J<=c;J++)Se=Se+y[J-1]<<1,ne[J]=Se;for(K=0;K<=M;K++){var de=m[2*K+1];de!==0&&(m[2*K]=Y(ne[de]++,de))}},ie=function(m){var M;for(M=0;M<a;M++)m.dyn_ltree[2*M]=0;for(M=0;M<s;M++)m.dyn_dtree[2*M]=0;for(M=0;M<19;M++)m.bl_tree[2*M]=0;m.dyn_ltree[512]=1,m.opt_len=m.static_len=0,m.sym_next=m.matches=0},P=function(m){m.bi_valid>8?D(m,m.bi_buf):m.bi_valid>0&&(m.pending_buf[m.pending++]=m.bi_buf),m.bi_buf=0,m.bi_valid=0},ue=function(m,M,y,J){var K=2*M,ne=2*y;return m[K]<m[ne]||m[K]===m[ne]&&J[M]<=J[y]},pe=function(m,M,y){for(var J=m.heap[y],K=y<<1;K<=m.heap_len&&(K<m.heap_len&&ue(M,m.heap[K+1],m.heap[K],m.depth)&&K++,!ue(M,J,m.heap[K],m.depth));)m.heap[y]=m.heap[K],y=K,K<<=1;m.heap[y]=J},ce=function(m,M,y){var J,K,ne,Se,de=0;if(m.sym_next!==0)do J=255&m.pending_buf[m.sym_buf+de++],J+=(255&m.pending_buf[m.sym_buf+de++])<<8,K=m.pending_buf[m.sym_buf+de++],J===0?G(m,K,M):(ne=E[K],G(m,ne+i+1,M),(Se=d[ne])!==0&&(K-=j[ne],C(m,K,Se)),J--,ne=I(J),G(m,ne,y),(Se=h[ne])!==0&&(J-=S[ne],C(m,J,Se)));while(de<m.sym_next);G(m,256,M)},he=function(m,M){var y,J,K,ne=M.dyn_tree,Se=M.stat_desc.static_tree,de=M.stat_desc.has_stree,Oe=M.stat_desc.elems,fe=-1;for(m.heap_len=0,m.heap_max=573,y=0;y<Oe;y++)ne[2*y]!==0?(m.heap[++m.heap_len]=fe=y,m.depth[y]=0):ne[2*y+1]=0;for(;m.heap_len<2;)ne[2*(K=m.heap[++m.heap_len]=fe<2?++fe:0)]=1,m.depth[K]=0,m.opt_len--,de&&(m.static_len-=Se[2*K+1]);for(M.max_code=fe,y=m.heap_len>>1;y>=1;y--)pe(m,ne,y);K=Oe;do y=m.heap[1],m.heap[1]=m.heap[m.heap_len--],pe(m,ne,1),J=m.heap[1],m.heap[--m.heap_max]=y,m.heap[--m.heap_max]=J,ne[2*K]=ne[2*y]+ne[2*J],m.depth[K]=(m.depth[y]>=m.depth[J]?m.depth[y]:m.depth[J])+1,ne[2*y+1]=ne[2*J+1]=K,m.heap[1]=K++,pe(m,ne,1);while(m.heap_len>=2);m.heap[--m.heap_max]=m.heap[1],function(ge,ct){var Me,Ae,Ie,at,rt,lt,Pe=ct.dyn_tree,Re=ct.max_code,Ze=ct.stat_desc.static_tree,Tt=ct.stat_desc.has_stree,qe=ct.stat_desc.extra_bits,nt=ct.stat_desc.extra_base,ot=ct.stat_desc.max_length,Ke=0;for(at=0;at<=c;at++)ge.bl_count[at]=0;for(Pe[2*ge.heap[ge.heap_max]+1]=0,Me=ge.heap_max+1;Me<573;Me++)(at=Pe[2*Pe[2*(Ae=ge.heap[Me])+1]+1]+1)>ot&&(at=ot,Ke++),Pe[2*Ae+1]=at,Ae>Re||(ge.bl_count[at]++,rt=0,Ae>=nt&&(rt=qe[Ae-nt]),lt=Pe[2*Ae],ge.opt_len+=lt*(at+rt),Tt&&(ge.static_len+=lt*(Ze[2*Ae+1]+rt)));if(Ke!==0){do{for(at=ot-1;ge.bl_count[at]===0;)at--;ge.bl_count[at]--,ge.bl_count[at+1]+=2,ge.bl_count[ot]--,Ke-=2}while(Ke>0);for(at=ot;at!==0;at--)for(Ae=ge.bl_count[at];Ae!==0;)(Ie=ge.heap[--Me])>Re||(Pe[2*Ie+1]!==at&&(ge.opt_len+=(at-Pe[2*Ie+1])*Pe[2*Ie],Pe[2*Ie+1]=at),Ae--)}}(m,M),z(ne,fe,m.bl_count)},O=function(m,M,y){var J,K,ne=-1,Se=M[1],de=0,Oe=7,fe=4;for(Se===0&&(Oe=138,fe=3),M[2*(y+1)+1]=65535,J=0;J<=y;J++)K=Se,Se=M[2*(J+1)+1],++de<Oe&&K===Se||(de<fe?m.bl_tree[2*K]+=de:K!==0?(K!==ne&&m.bl_tree[2*K]++,m.bl_tree[32]++):de<=10?m.bl_tree[34]++:m.bl_tree[36]++,de=0,ne=K,Se===0?(Oe=138,fe=3):K===Se?(Oe=6,fe=3):(Oe=7,fe=4))},ae=function(m,M,y){var J,K,ne=-1,Se=M[1],de=0,Oe=7,fe=4;for(Se===0&&(Oe=138,fe=3),J=0;J<=y;J++)if(K=Se,Se=M[2*(J+1)+1],!(++de<Oe&&K===Se)){if(de<fe)do G(m,K,m.bl_tree);while(--de!=0);else K!==0?(K!==ne&&(G(m,K,m.bl_tree),de--),G(m,16,m.bl_tree),C(m,de-3,2)):de<=10?(G(m,17,m.bl_tree),C(m,de-3,3)):(G(m,18,m.bl_tree),C(m,de-11,7));de=0,ne=K,Se===0?(Oe=138,fe=3):K===Se?(Oe=6,fe=3):(Oe=7,fe=4)}},ee=!1,re=function(m,M,y,J){C(m,0+(J?1:0),3),P(m),D(m,y),D(m,~y),y&&m.pending_buf.set(m.window.subarray(M,M+y),m.pending),m.pending+=y},ke=function(m,M,y,J){var K,ne,Se=0;m.level>0?(m.strm.data_type===2&&(m.strm.data_type=function(de){var Oe,fe=4093624447;for(Oe=0;Oe<=31;Oe++,fe>>>=1)if(1&fe&&de.dyn_ltree[2*Oe]!==0)return 0;if(de.dyn_ltree[18]!==0||de.dyn_ltree[20]!==0||de.dyn_ltree[26]!==0)return 1;for(Oe=32;Oe<i;Oe++)if(de.dyn_ltree[2*Oe]!==0)return 1;return 0}(m)),he(m,m.l_desc),he(m,m.d_desc),Se=function(de){var Oe;for(O(de,de.dyn_ltree,de.l_desc.max_code),O(de,de.dyn_dtree,de.d_desc.max_code),he(de,de.bl_desc),Oe=18;Oe>=3&&de.bl_tree[2*g[Oe]+1]===0;Oe--);return de.opt_len+=3*(Oe+1)+5+5+4,Oe}(m),K=m.opt_len+3+7>>>3,(ne=m.static_len+3+7>>>3)<=K&&(K=ne)):K=ne=y+5,y+4<=K&&M!==-1?re(m,M,y,J):m.strategy===4||ne===K?(C(m,2+(J?1:0),3),ce(m,v,_)):(C(m,4+(J?1:0),3),function(de,Oe,fe,ge){var ct;for(C(de,Oe-257,5),C(de,fe-1,5),C(de,ge-4,4),ct=0;ct<ge;ct++)C(de,de.bl_tree[2*g[ct]+1],3);ae(de,de.dyn_ltree,Oe-1),ae(de,de.dyn_dtree,fe-1)}(m,m.l_desc.max_code+1,m.d_desc.max_code+1,Se+1),ce(m,m.dyn_ltree,m.dyn_dtree)),ie(m),J&&P(m)},_e={_tr_init:function(m){ee||(function(){var M,y,J,K,ne,Se=new Array(16);for(J=0,K=0;K<28;K++)for(j[K]=J,M=0;M<1<<d[K];M++)E[J++]=K;for(E[J-1]=K,ne=0,K=0;K<16;K++)for(S[K]=ne,M=0;M<1<<h[K];M++)k[ne++]=K;for(ne>>=7;K<s;K++)for(S[K]=ne<<7,M=0;M<1<<h[K]-7;M++)k[256+ne++]=K;for(y=0;y<=c;y++)Se[y]=0;for(M=0;M<=143;)v[2*M+1]=8,M++,Se[8]++;for(;M<=255;)v[2*M+1]=9,M++,Se[9]++;for(;M<=279;)v[2*M+1]=7,M++,Se[7]++;for(;M<=287;)v[2*M+1]=8,M++,Se[8]++;for(z(v,287,Se),M=0;M<s;M++)_[2*M+1]=5,_[2*M]=Y(M,5);x=new T(v,d,257,a,c),w=new T(_,h,0,s,c),A=new T(new Array(0),f,0,19,7)}(),ee=!0),m.l_desc=new F(m.dyn_ltree,x),m.d_desc=new F(m.dyn_dtree,w),m.bl_desc=new F(m.bl_tree,A),m.bi_buf=0,m.bi_valid=0,ie(m)},_tr_stored_block:re,_tr_flush_block:ke,_tr_tally:function(m,M,y){return m.pending_buf[m.sym_buf+m.sym_next++]=M,m.pending_buf[m.sym_buf+m.sym_next++]=M>>8,m.pending_buf[m.sym_buf+m.sym_next++]=y,M===0?m.dyn_ltree[2*y]++:(m.matches++,M--,m.dyn_ltree[2*(E[y]+i+1)]++,m.dyn_dtree[2*I(M)]++),m.sym_next===m.sym_end},_tr_align:function(m){C(m,2,3),G(m,256,v),function(M){M.bi_valid===16?(D(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):M.bi_valid>=8&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(m)}},xe=function(m,M,y,J){for(var K=65535&m|0,ne=m>>>16&65535|0,Se=0;y!==0;){y-=Se=y>2e3?2e3:y;do ne=ne+(K=K+M[J++]|0)|0;while(--Se);K%=65521,ne%=65521}return K|ne<<16|0},Te=new Uint32Array(function(){for(var m,M=[],y=0;y<256;y++){m=y;for(var J=0;J<8;J++)m=1&m?3988292384^m>>>1:m>>>1;M[y]=m}return M}()),U=function(m,M,y,J){var K=Te,ne=J+y;m^=-1;for(var Se=J;Se<ne;Se++)m=m>>>8^K[255&(m^M[Se])];return-1^m},B={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},se={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},le=_e._tr_init,Le=_e._tr_stored_block,Be=_e._tr_flush_block,$e=_e._tr_tally,N=_e._tr_align,te=se.Z_NO_FLUSH,X=se.Z_PARTIAL_FLUSH,q=se.Z_FULL_FLUSH,V=se.Z_FINISH,Z=se.Z_BLOCK,Q=se.Z_OK,W=se.Z_STREAM_END,H=se.Z_STREAM_ERROR,me=se.Z_DATA_ERROR,Ce=se.Z_BUF_ERROR,we=se.Z_DEFAULT_COMPRESSION,Ne=se.Z_FILTERED,ze=se.Z_HUFFMAN_ONLY,Ve=se.Z_RLE,gt=se.Z_FIXED,kt=se.Z_DEFAULT_STRATEGY,St=se.Z_UNKNOWN,Vt=se.Z_DEFLATED,et=258,Et=262,Ft=42,At=113,bt=666,cr=function(m,M){return m.msg=B[M],M},Tn=function(m){return 2*m-(m>4?9:0)},mr=function(m){for(var M=m.length;--M>=0;)m[M]=0},Un=function(m){var M,y,J,K=m.w_size;J=M=m.hash_size;do y=m.head[--J],m.head[J]=y>=K?y-K:0;while(--M);J=M=K;do y=m.prev[--J],m.prev[J]=y>=K?y-K:0;while(--M)},rr=function(m,M,y){return(M<<m.hash_shift^y)&m.hash_mask},or=function(m){var M=m.state,y=M.pending;y>m.avail_out&&(y=m.avail_out),y!==0&&(m.output.set(M.pending_buf.subarray(M.pending_out,M.pending_out+y),m.next_out),m.next_out+=y,M.pending_out+=y,m.total_out+=y,m.avail_out-=y,M.pending-=y,M.pending===0&&(M.pending_out=0))},Lr=function(m,M){Be(m,m.block_start>=0?m.block_start:-1,m.strstart-m.block_start,M),m.block_start=m.strstart,or(m.strm)},wt=function(m,M){m.pending_buf[m.pending++]=M},eo=function(m,M){m.pending_buf[m.pending++]=M>>>8&255,m.pending_buf[m.pending++]=255&M},Il=function(m,M,y,J){var K=m.avail_in;return K>J&&(K=J),K===0?0:(m.avail_in-=K,M.set(m.input.subarray(m.next_in,m.next_in+K),y),m.state.wrap===1?m.adler=xe(m.adler,M,K,y):m.state.wrap===2&&(m.adler=U(m.adler,M,K,y)),m.next_in+=K,m.total_in+=K,K)},Hc=function(m,M){var y,J,K=m.max_chain_length,ne=m.strstart,Se=m.prev_length,de=m.nice_match,Oe=m.strstart>m.w_size-Et?m.strstart-(m.w_size-Et):0,fe=m.window,ge=m.w_mask,ct=m.prev,Me=m.strstart+et,Ae=fe[ne+Se-1],Ie=fe[ne+Se];m.prev_length>=m.good_match&&(K>>=2),de>m.lookahead&&(de=m.lookahead);do if(fe[(y=M)+Se]===Ie&&fe[y+Se-1]===Ae&&fe[y]===fe[ne]&&fe[++y]===fe[ne+1]){ne+=2,y++;do;while(fe[++ne]===fe[++y]&&fe[++ne]===fe[++y]&&fe[++ne]===fe[++y]&&fe[++ne]===fe[++y]&&fe[++ne]===fe[++y]&&fe[++ne]===fe[++y]&&fe[++ne]===fe[++y]&&fe[++ne]===fe[++y]&&ne<Me);if(J=et-(Me-ne),ne=Me-et,J>Se){if(m.match_start=M,Se=J,J>=de)break;Ae=fe[ne+Se-1],Ie=fe[ne+Se]}}while((M=ct[M&ge])>Oe&&--K!=0);return Se<=m.lookahead?Se:m.lookahead},li=function(m){var M,y,J,K=m.w_size;do{if(y=m.window_size-m.lookahead-m.strstart,m.strstart>=K+(K-Et)&&(m.window.set(m.window.subarray(K,K+K-y),0),m.match_start-=K,m.strstart-=K,m.block_start-=K,m.insert>m.strstart&&(m.insert=m.strstart),Un(m),y+=K),m.strm.avail_in===0)break;if(M=Il(m.strm,m.window,m.strstart+m.lookahead,y),m.lookahead+=M,m.lookahead+m.insert>=3)for(J=m.strstart-m.insert,m.ins_h=m.window[J],m.ins_h=rr(m,m.ins_h,m.window[J+1]);m.insert&&(m.ins_h=rr(m,m.ins_h,m.window[J+3-1]),m.prev[J&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=J,J++,m.insert--,!(m.lookahead+m.insert<3)););}while(m.lookahead<Et&&m.strm.avail_in!==0)},Zc=function(m,M){var y,J,K,ne=m.pending_buf_size-5>m.w_size?m.w_size:m.pending_buf_size-5,Se=0,de=m.strm.avail_in;do{if(y=65535,K=m.bi_valid+42>>3,m.strm.avail_out<K||(K=m.strm.avail_out-K,y>(J=m.strstart-m.block_start)+m.strm.avail_in&&(y=J+m.strm.avail_in),y>K&&(y=K),y<ne&&(y===0&&M!==V||M===te||y!==J+m.strm.avail_in)))break;Se=M===V&&y===J+m.strm.avail_in?1:0,Le(m,0,0,Se),m.pending_buf[m.pending-4]=y,m.pending_buf[m.pending-3]=y>>8,m.pending_buf[m.pending-2]=~y,m.pending_buf[m.pending-1]=~y>>8,or(m.strm),J&&(J>y&&(J=y),m.strm.output.set(m.window.subarray(m.block_start,m.block_start+J),m.strm.next_out),m.strm.next_out+=J,m.strm.avail_out-=J,m.strm.total_out+=J,m.block_start+=J,y-=J),y&&(Il(m.strm,m.strm.output,m.strm.next_out,y),m.strm.next_out+=y,m.strm.avail_out-=y,m.strm.total_out+=y)}while(Se===0);return(de-=m.strm.avail_in)&&(de>=m.w_size?(m.matches=2,m.window.set(m.strm.input.subarray(m.strm.next_in-m.w_size,m.strm.next_in),0),m.strstart=m.w_size,m.insert=m.strstart):(m.window_size-m.strstart<=de&&(m.strstart-=m.w_size,m.window.set(m.window.subarray(m.w_size,m.w_size+m.strstart),0),m.matches<2&&m.matches++,m.insert>m.strstart&&(m.insert=m.strstart)),m.window.set(m.strm.input.subarray(m.strm.next_in-de,m.strm.next_in),m.strstart),m.strstart+=de,m.insert+=de>m.w_size-m.insert?m.w_size-m.insert:de),m.block_start=m.strstart),m.high_water<m.strstart&&(m.high_water=m.strstart),Se?4:M!==te&&M!==V&&m.strm.avail_in===0&&m.strstart===m.block_start?2:(K=m.window_size-m.strstart,m.strm.avail_in>K&&m.block_start>=m.w_size&&(m.block_start-=m.w_size,m.strstart-=m.w_size,m.window.set(m.window.subarray(m.w_size,m.w_size+m.strstart),0),m.matches<2&&m.matches++,K+=m.w_size,m.insert>m.strstart&&(m.insert=m.strstart)),K>m.strm.avail_in&&(K=m.strm.avail_in),K&&(Il(m.strm,m.window,m.strstart,K),m.strstart+=K,m.insert+=K>m.w_size-m.insert?m.w_size-m.insert:K),m.high_water<m.strstart&&(m.high_water=m.strstart),K=m.bi_valid+42>>3,ne=(K=m.pending_buf_size-K>65535?65535:m.pending_buf_size-K)>m.w_size?m.w_size:K,((J=m.strstart-m.block_start)>=ne||(J||M===V)&&M!==te&&m.strm.avail_in===0&&J<=K)&&(y=J>K?K:J,Se=M===V&&m.strm.avail_in===0&&y===J?1:0,Le(m,m.block_start,y,Se),m.block_start+=y,or(m.strm)),Se?3:1)},Ml=function(m,M){for(var y,J;;){if(m.lookahead<Et){if(li(m),m.lookahead<Et&&M===te)return 1;if(m.lookahead===0)break}if(y=0,m.lookahead>=3&&(m.ins_h=rr(m,m.ins_h,m.window[m.strstart+3-1]),y=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),y!==0&&m.strstart-y<=m.w_size-Et&&(m.match_length=Hc(m,y)),m.match_length>=3)if(J=$e(m,m.strstart-m.match_start,m.match_length-3),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=3){m.match_length--;do m.strstart++,m.ins_h=rr(m,m.ins_h,m.window[m.strstart+3-1]),y=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart;while(--m.match_length!=0);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=rr(m,m.ins_h,m.window[m.strstart+1]);else J=$e(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(J&&(Lr(m,!1),m.strm.avail_out===0))return 1}return m.insert=m.strstart<2?m.strstart:2,M===V?(Lr(m,!0),m.strm.avail_out===0?3:4):m.sym_next&&(Lr(m,!1),m.strm.avail_out===0)?1:2},Ki=function(m,M){for(var y,J,K;;){if(m.lookahead<Et){if(li(m),m.lookahead<Et&&M===te)return 1;if(m.lookahead===0)break}if(y=0,m.lookahead>=3&&(m.ins_h=rr(m,m.ins_h,m.window[m.strstart+3-1]),y=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=2,y!==0&&m.prev_length<m.max_lazy_match&&m.strstart-y<=m.w_size-Et&&(m.match_length=Hc(m,y),m.match_length<=5&&(m.strategy===Ne||m.match_length===3&&m.strstart-m.match_start>4096)&&(m.match_length=2)),m.prev_length>=3&&m.match_length<=m.prev_length){K=m.strstart+m.lookahead-3,J=$e(m,m.strstart-1-m.prev_match,m.prev_length-3),m.lookahead-=m.prev_length-1,m.prev_length-=2;do++m.strstart<=K&&(m.ins_h=rr(m,m.ins_h,m.window[m.strstart+3-1]),y=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart);while(--m.prev_length!=0);if(m.match_available=0,m.match_length=2,m.strstart++,J&&(Lr(m,!1),m.strm.avail_out===0))return 1}else if(m.match_available){if((J=$e(m,0,m.window[m.strstart-1]))&&Lr(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return 1}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(J=$e(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<2?m.strstart:2,M===V?(Lr(m,!0),m.strm.avail_out===0?3:4):m.sym_next&&(Lr(m,!1),m.strm.avail_out===0)?1:2};function Nn(m,M,y,J,K){this.good_length=m,this.max_lazy=M,this.nice_length=y,this.max_chain=J,this.func=K}var Sr=[new Nn(0,0,0,0,Zc),new Nn(4,4,8,4,Ml),new Nn(4,5,16,8,Ml),new Nn(4,6,32,32,Ml),new Nn(4,4,16,16,Ki),new Nn(8,16,32,32,Ki),new Nn(8,16,128,128,Ki),new Nn(8,32,128,256,Ki),new Nn(32,128,258,1024,Ki),new Nn(32,258,258,4096,Ki)];function Ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Vt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),mr(this.dyn_ltree),mr(this.dyn_dtree),mr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),mr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),mr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Yi=function(m){if(!m)return 1;var M=m.state;return!M||M.strm!==m||M.status!==Ft&&M.status!==57&&M.status!==69&&M.status!==73&&M.status!==91&&M.status!==103&&M.status!==At&&M.status!==bt?1:0},Fl=function(m){if(Yi(m))return cr(m,H);m.total_in=m.total_out=0,m.data_type=St;var M=m.state;return M.pending=0,M.pending_out=0,M.wrap<0&&(M.wrap=-M.wrap),M.status=M.wrap===2?57:M.wrap?Ft:At,m.adler=M.wrap===2?0:1,M.last_flush=-2,le(M),Q},Bl=function(m){var M,y=Fl(m);return y===Q&&((M=m.state).window_size=2*M.w_size,mr(M.head),M.max_lazy_match=Sr[M.level].max_lazy,M.good_match=Sr[M.level].good_length,M.nice_match=Sr[M.level].nice_length,M.max_chain_length=Sr[M.level].max_chain,M.strstart=0,M.block_start=0,M.lookahead=0,M.insert=0,M.match_length=M.prev_length=2,M.match_available=0,M.ins_h=0),y},zl=function(m,M,y,J,K,ne){if(!m)return H;var Se=1;if(M===we&&(M=6),J<0?(Se=0,J=-J):J>15&&(Se=2,J-=16),K<1||K>9||y!==Vt||J<8||J>15||M<0||M>9||ne<0||ne>gt||J===8&&Se!==1)return cr(m,H);J===8&&(J=9);var de=new Ge;return m.state=de,de.strm=m,de.status=Ft,de.wrap=Se,de.gzhead=null,de.w_bits=J,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=K+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+3-1)/3),de.window=new Uint8Array(2*de.w_size),de.head=new Uint16Array(de.hash_size),de.prev=new Uint16Array(de.w_size),de.lit_bufsize=1<<K+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new Uint8Array(de.pending_buf_size),de.sym_buf=de.lit_bufsize,de.sym_end=3*(de.lit_bufsize-1),de.level=M,de.strategy=ne,de.method=y,Bl(m)},ji={deflateInit:function(m,M){return zl(m,M,Vt,15,8,kt)},deflateInit2:zl,deflateReset:Bl,deflateResetKeep:Fl,deflateSetHeader:function(m,M){return Yi(m)||m.state.wrap!==2?H:(m.state.gzhead=M,Q)},deflate:function(m,M){if(Yi(m)||M>Z||M<0)return m?cr(m,H):H;var y=m.state;if(!m.output||m.avail_in!==0&&!m.input||y.status===bt&&M!==V)return cr(m,m.avail_out===0?Ce:H);var J=y.last_flush;if(y.last_flush=M,y.pending!==0){if(or(m),m.avail_out===0)return y.last_flush=-1,Q}else if(m.avail_in===0&&Tn(M)<=Tn(J)&&M!==V)return cr(m,Ce);if(y.status===bt&&m.avail_in!==0)return cr(m,Ce);if(y.status===Ft&&y.wrap===0&&(y.status=At),y.status===Ft){var K=Vt+(y.w_bits-8<<4)<<8;if(K|=(y.strategy>=ze||y.level<2?0:y.level<6?1:y.level===6?2:3)<<6,y.strstart!==0&&(K|=32),eo(y,K+=31-K%31),y.strstart!==0&&(eo(y,m.adler>>>16),eo(y,65535&m.adler)),m.adler=1,y.status=At,or(m),y.pending!==0)return y.last_flush=-1,Q}if(y.status===57){if(m.adler=0,wt(y,31),wt(y,139),wt(y,8),y.gzhead)wt(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),wt(y,255&y.gzhead.time),wt(y,y.gzhead.time>>8&255),wt(y,y.gzhead.time>>16&255),wt(y,y.gzhead.time>>24&255),wt(y,y.level===9?2:y.strategy>=ze||y.level<2?4:0),wt(y,255&y.gzhead.os),y.gzhead.extra&&y.gzhead.extra.length&&(wt(y,255&y.gzhead.extra.length),wt(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(m.adler=U(m.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=69;else if(wt(y,0),wt(y,0),wt(y,0),wt(y,0),wt(y,0),wt(y,y.level===9?2:y.strategy>=ze||y.level<2?4:0),wt(y,3),y.status=At,or(m),y.pending!==0)return y.last_flush=-1,Q}if(y.status===69){if(y.gzhead.extra){for(var ne=y.pending,Se=(65535&y.gzhead.extra.length)-y.gzindex;y.pending+Se>y.pending_buf_size;){var de=y.pending_buf_size-y.pending;if(y.pending_buf.set(y.gzhead.extra.subarray(y.gzindex,y.gzindex+de),y.pending),y.pending=y.pending_buf_size,y.gzhead.hcrc&&y.pending>ne&&(m.adler=U(m.adler,y.pending_buf,y.pending-ne,ne)),y.gzindex+=de,or(m),y.pending!==0)return y.last_flush=-1,Q;ne=0,Se-=de}var Oe=new Uint8Array(y.gzhead.extra);y.pending_buf.set(Oe.subarray(y.gzindex,y.gzindex+Se),y.pending),y.pending+=Se,y.gzhead.hcrc&&y.pending>ne&&(m.adler=U(m.adler,y.pending_buf,y.pending-ne,ne)),y.gzindex=0}y.status=73}if(y.status===73){if(y.gzhead.name){var fe,ge=y.pending;do{if(y.pending===y.pending_buf_size){if(y.gzhead.hcrc&&y.pending>ge&&(m.adler=U(m.adler,y.pending_buf,y.pending-ge,ge)),or(m),y.pending!==0)return y.last_flush=-1,Q;ge=0}fe=y.gzindex<y.gzhead.name.length?255&y.gzhead.name.charCodeAt(y.gzindex++):0,wt(y,fe)}while(fe!==0);y.gzhead.hcrc&&y.pending>ge&&(m.adler=U(m.adler,y.pending_buf,y.pending-ge,ge)),y.gzindex=0}y.status=91}if(y.status===91){if(y.gzhead.comment){var ct,Me=y.pending;do{if(y.pending===y.pending_buf_size){if(y.gzhead.hcrc&&y.pending>Me&&(m.adler=U(m.adler,y.pending_buf,y.pending-Me,Me)),or(m),y.pending!==0)return y.last_flush=-1,Q;Me=0}ct=y.gzindex<y.gzhead.comment.length?255&y.gzhead.comment.charCodeAt(y.gzindex++):0,wt(y,ct)}while(ct!==0);y.gzhead.hcrc&&y.pending>Me&&(m.adler=U(m.adler,y.pending_buf,y.pending-Me,Me))}y.status=103}if(y.status===103){if(y.gzhead.hcrc){if(y.pending+2>y.pending_buf_size&&(or(m),y.pending!==0))return y.last_flush=-1,Q;wt(y,255&m.adler),wt(y,m.adler>>8&255),m.adler=0}if(y.status=At,or(m),y.pending!==0)return y.last_flush=-1,Q}if(m.avail_in!==0||y.lookahead!==0||M!==te&&y.status!==bt){var Ae=y.level===0?Zc(y,M):y.strategy===ze?function(Ie,at){for(var rt;;){if(Ie.lookahead===0&&(li(Ie),Ie.lookahead===0)){if(at===te)return 1;break}if(Ie.match_length=0,rt=$e(Ie,0,Ie.window[Ie.strstart]),Ie.lookahead--,Ie.strstart++,rt&&(Lr(Ie,!1),Ie.strm.avail_out===0))return 1}return Ie.insert=0,at===V?(Lr(Ie,!0),Ie.strm.avail_out===0?3:4):Ie.sym_next&&(Lr(Ie,!1),Ie.strm.avail_out===0)?1:2}(y,M):y.strategy===Ve?function(Ie,at){for(var rt,lt,Pe,Re,Ze=Ie.window;;){if(Ie.lookahead<=et){if(li(Ie),Ie.lookahead<=et&&at===te)return 1;if(Ie.lookahead===0)break}if(Ie.match_length=0,Ie.lookahead>=3&&Ie.strstart>0&&(lt=Ze[Pe=Ie.strstart-1])===Ze[++Pe]&&lt===Ze[++Pe]&&lt===Ze[++Pe]){Re=Ie.strstart+et;do;while(lt===Ze[++Pe]&&lt===Ze[++Pe]&&lt===Ze[++Pe]&&lt===Ze[++Pe]&&lt===Ze[++Pe]&&lt===Ze[++Pe]&&lt===Ze[++Pe]&&lt===Ze[++Pe]&&Pe<Re);Ie.match_length=et-(Re-Pe),Ie.match_length>Ie.lookahead&&(Ie.match_length=Ie.lookahead)}if(Ie.match_length>=3?(rt=$e(Ie,1,Ie.match_length-3),Ie.lookahead-=Ie.match_length,Ie.strstart+=Ie.match_length,Ie.match_length=0):(rt=$e(Ie,0,Ie.window[Ie.strstart]),Ie.lookahead--,Ie.strstart++),rt&&(Lr(Ie,!1),Ie.strm.avail_out===0))return 1}return Ie.insert=0,at===V?(Lr(Ie,!0),Ie.strm.avail_out===0?3:4):Ie.sym_next&&(Lr(Ie,!1),Ie.strm.avail_out===0)?1:2}(y,M):Sr[y.level].func(y,M);if(Ae!==3&&Ae!==4||(y.status=bt),Ae===1||Ae===3)return m.avail_out===0&&(y.last_flush=-1),Q;if(Ae===2&&(M===X?N(y):M!==Z&&(Le(y,0,0,!1),M===q&&(mr(y.head),y.lookahead===0&&(y.strstart=0,y.block_start=0,y.insert=0))),or(m),m.avail_out===0))return y.last_flush=-1,Q}return M!==V?Q:y.wrap<=0?W:(y.wrap===2?(wt(y,255&m.adler),wt(y,m.adler>>8&255),wt(y,m.adler>>16&255),wt(y,m.adler>>24&255),wt(y,255&m.total_in),wt(y,m.total_in>>8&255),wt(y,m.total_in>>16&255),wt(y,m.total_in>>24&255)):(eo(y,m.adler>>>16),eo(y,65535&m.adler)),or(m),y.wrap>0&&(y.wrap=-y.wrap),y.pending!==0?Q:W)},deflateEnd:function(m){if(Yi(m))return H;var M=m.state.status;return m.state=null,M===At?cr(m,me):Q},deflateSetDictionary:function(m,M){var y=M.length;if(Yi(m))return H;var J=m.state,K=J.wrap;if(K===2||K===1&&J.status!==Ft||J.lookahead)return H;if(K===1&&(m.adler=xe(m.adler,M,y,0)),J.wrap=0,y>=J.w_size){K===0&&(mr(J.head),J.strstart=0,J.block_start=0,J.insert=0);var ne=new Uint8Array(J.w_size);ne.set(M.subarray(y-J.w_size,y),0),M=ne,y=J.w_size}var Se=m.avail_in,de=m.next_in,Oe=m.input;for(m.avail_in=y,m.next_in=0,m.input=M,li(J);J.lookahead>=3;){var fe=J.strstart,ge=J.lookahead-2;do J.ins_h=rr(J,J.ins_h,J.window[fe+3-1]),J.prev[fe&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=fe,fe++;while(--ge);J.strstart=fe,J.lookahead=2,li(J)}return J.strstart+=J.lookahead,J.block_start=J.strstart,J.insert=J.lookahead,J.lookahead=0,J.match_length=J.prev_length=2,J.match_available=0,m.next_in=de,m.input=Oe,m.avail_in=Se,J.wrap=K,Q},deflateInfo:"pako deflate (from Nodeca project)"};function Jo(m){return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},Jo(m)}var Qi=function(m,M){return Object.prototype.hasOwnProperty.call(m,M)},Ul=function(m){for(var M=Array.prototype.slice.call(arguments,1);M.length;){var y=M.shift();if(y){if(Jo(y)!=="object")throw new TypeError(y+"must be non-object");for(var J in y)Qi(y,J)&&(m[J]=y[J])}}return m},Wc=function(m){for(var M=0,y=0,J=m.length;y<J;y++)M+=m[y].length;for(var K=new Uint8Array(M),ne=0,Se=0,de=m.length;ne<de;ne++){var Oe=m[ne];K.set(Oe,Se),Se+=Oe.length}return K},Xc=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Xc=!1}for(var to=new Uint8Array(256),ui=0;ui<256;ui++)to[ui]=ui>=252?6:ui>=248?5:ui>=240?4:ui>=224?3:ui>=192?2:1;to[254]=to[254]=1;var Ko=function(m){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(m);var M,y,J,K,ne,Se=m.length,de=0;for(K=0;K<Se;K++)(64512&(y=m.charCodeAt(K)))==55296&&K+1<Se&&(64512&(J=m.charCodeAt(K+1)))==56320&&(y=65536+(y-55296<<10)+(J-56320),K++),de+=y<128?1:y<2048?2:y<65536?3:4;for(M=new Uint8Array(de),ne=0,K=0;ne<de;K++)(64512&(y=m.charCodeAt(K)))==55296&&K+1<Se&&(64512&(J=m.charCodeAt(K+1)))==56320&&(y=65536+(y-55296<<10)+(J-56320),K++),y<128?M[ne++]=y:y<2048?(M[ne++]=192|y>>>6,M[ne++]=128|63&y):y<65536?(M[ne++]=224|y>>>12,M[ne++]=128|y>>>6&63,M[ne++]=128|63&y):(M[ne++]=240|y>>>18,M[ne++]=128|y>>>12&63,M[ne++]=128|y>>>6&63,M[ne++]=128|63&y);return M},Zf=function(m,M){var y,J,K=M||m.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(m.subarray(0,M));var ne=new Array(2*K);for(J=0,y=0;y<K;){var Se=m[y++];if(Se<128)ne[J++]=Se;else{var de=to[Se];if(de>4)ne[J++]=65533,y+=de-1;else{for(Se&=de===2?31:de===3?15:7;de>1&&y<K;)Se=Se<<6|63&m[y++],de--;de>1?ne[J++]=65533:Se<65536?ne[J++]=Se:(Se-=65536,ne[J++]=55296|Se>>10&1023,ne[J++]=56320|1023&Se)}}}return function(Oe,fe){if(fe<65534&&Oe.subarray&&Xc)return String.fromCharCode.apply(null,Oe.length===fe?Oe:Oe.subarray(0,fe));for(var ge="",ct=0;ct<fe;ct++)ge+=String.fromCharCode(Oe[ct]);return ge}(ne,J)},Yo=function(m,M){(M=M||m.length)>m.length&&(M=m.length);for(var y=M-1;y>=0&&(192&m[y])==128;)y--;return y<0||y===0?M:y+to[m[y]]>M?y:M},Jc=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Kc=Object.prototype.toString,Wf=se.Z_NO_FLUSH,Xf=se.Z_SYNC_FLUSH,Jf=se.Z_FULL_FLUSH,$l=se.Z_FINISH,ci=se.Z_OK,Yc=se.Z_STREAM_END,Qc=se.Z_DEFAULT_COMPRESSION,ro=se.Z_DEFAULT_STRATEGY,yt=se.Z_DEFLATED;function Dt(m){this.options=Ul({level:Qc,method:yt,chunkSize:16384,windowBits:15,memLevel:8,strategy:ro},m||{});var M=this.options;M.raw&&M.windowBits>0?M.windowBits=-M.windowBits:M.gzip&&M.windowBits>0&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Jc,this.strm.avail_out=0;var y=ji.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(y!==ci)throw new Error(B[y]);if(M.header&&ji.deflateSetHeader(this.strm,M.header),M.dictionary){var J;if(J=typeof M.dictionary=="string"?Ko(M.dictionary):Kc.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(y=ji.deflateSetDictionary(this.strm,J))!==ci)throw new Error(B[y]);this._dict_set=!0}}function ea(m,M){var y=new Dt(M);if(y.push(m,!0),y.err)throw y.msg||B[y.err];return y.result}Dt.prototype.push=function(m,M){var y,J,K=this.strm,ne=this.options.chunkSize;if(this.ended)return!1;for(J=M===~~M?M:M===!0?$l:Wf,typeof m=="string"?K.input=Ko(m):Kc.call(m)==="[object ArrayBuffer]"?K.input=new Uint8Array(m):K.input=m,K.next_in=0,K.avail_in=K.input.length;;)if(K.avail_out===0&&(K.output=new Uint8Array(ne),K.next_out=0,K.avail_out=ne),(J===Xf||J===Jf)&&K.avail_out<=6)this.onData(K.output.subarray(0,K.next_out)),K.avail_out=0;else{if((y=ji.deflate(K,J))===Yc)return K.next_out>0&&this.onData(K.output.subarray(0,K.next_out)),y=ji.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===ci;if(K.avail_out!==0){if(J>0&&K.next_out>0)this.onData(K.output.subarray(0,K.next_out)),K.avail_out=0;else if(K.avail_in===0)break}else this.onData(K.output)}return!0},Dt.prototype.onData=function(m){this.chunks.push(m)},Dt.prototype.onEnd=function(m){m===ci&&(this.result=Wc(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg};var $n={Deflate:Dt,deflate:ea,deflateRaw:function(m,M){return(M=M||{}).raw=!0,ea(m,M)},gzip:function(m,M){return(M=M||{}).gzip=!0,ea(m,M)}},Vn=16209,Vl=function(m,M){var y,J,K,ne,Se,de,Oe,fe,ge,ct,Me,Ae,Ie,at,rt,lt,Pe,Re,Ze,Tt,qe,nt,ot,Ke,We=m.state;y=m.next_in,ot=m.input,J=y+(m.avail_in-5),K=m.next_out,Ke=m.output,ne=K-(M-m.avail_out),Se=K+(m.avail_out-257),de=We.dmax,Oe=We.wsize,fe=We.whave,ge=We.wnext,ct=We.window,Me=We.hold,Ae=We.bits,Ie=We.lencode,at=We.distcode,rt=(1<<We.lenbits)-1,lt=(1<<We.distbits)-1;e:do{Ae<15&&(Me+=ot[y++]<<Ae,Ae+=8,Me+=ot[y++]<<Ae,Ae+=8),Pe=Ie[Me&rt];t:for(;;){if(Me>>>=Re=Pe>>>24,Ae-=Re,(Re=Pe>>>16&255)===0)Ke[K++]=65535&Pe;else{if(!(16&Re)){if(!(64&Re)){Pe=Ie[(65535&Pe)+(Me&(1<<Re)-1)];continue t}if(32&Re){We.mode=16191;break e}m.msg="invalid literal/length code",We.mode=Vn;break e}Ze=65535&Pe,(Re&=15)&&(Ae<Re&&(Me+=ot[y++]<<Ae,Ae+=8),Ze+=Me&(1<<Re)-1,Me>>>=Re,Ae-=Re),Ae<15&&(Me+=ot[y++]<<Ae,Ae+=8,Me+=ot[y++]<<Ae,Ae+=8),Pe=at[Me&lt];r:for(;;){if(Me>>>=Re=Pe>>>24,Ae-=Re,!(16&(Re=Pe>>>16&255))){if(!(64&Re)){Pe=at[(65535&Pe)+(Me&(1<<Re)-1)];continue r}m.msg="invalid distance code",We.mode=Vn;break e}if(Tt=65535&Pe,Ae<(Re&=15)&&(Me+=ot[y++]<<Ae,(Ae+=8)<Re&&(Me+=ot[y++]<<Ae,Ae+=8)),(Tt+=Me&(1<<Re)-1)>de){m.msg="invalid distance too far back",We.mode=Vn;break e}if(Me>>>=Re,Ae-=Re,Tt>(Re=K-ne)){if((Re=Tt-Re)>fe&&We.sane){m.msg="invalid distance too far back",We.mode=Vn;break e}if(qe=0,nt=ct,ge===0){if(qe+=Oe-Re,Re<Ze){Ze-=Re;do Ke[K++]=ct[qe++];while(--Re);qe=K-Tt,nt=Ke}}else if(ge<Re){if(qe+=Oe+ge-Re,(Re-=ge)<Ze){Ze-=Re;do Ke[K++]=ct[qe++];while(--Re);if(qe=0,ge<Ze){Ze-=Re=ge;do Ke[K++]=ct[qe++];while(--Re);qe=K-Tt,nt=Ke}}}else if(qe+=ge-Re,Re<Ze){Ze-=Re;do Ke[K++]=ct[qe++];while(--Re);qe=K-Tt,nt=Ke}for(;Ze>2;)Ke[K++]=nt[qe++],Ke[K++]=nt[qe++],Ke[K++]=nt[qe++],Ze-=3;Ze&&(Ke[K++]=nt[qe++],Ze>1&&(Ke[K++]=nt[qe++]))}else{qe=K-Tt;do Ke[K++]=Ke[qe++],Ke[K++]=Ke[qe++],Ke[K++]=Ke[qe++],Ze-=3;while(Ze>2);Ze&&(Ke[K++]=Ke[qe++],Ze>1&&(Ke[K++]=Ke[qe++]))}break}}break}}while(y<J&&K<Se);y-=Ze=Ae>>3,Me&=(1<<(Ae-=Ze<<3))-1,m.next_in=y,m.next_out=K,m.avail_in=y<J?J-y+5:5-(y-J),m.avail_out=K<Se?Se-K+257:257-(K-Se),We.hold=Me,We.bits=Ae},it=15,qt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ql=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Qo=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Hr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),no=function(m,M,y,J,K,ne,Se,de){var Oe,fe,ge,ct,Me,Ae,Ie,at,rt,lt=de.bits,Pe=0,Re=0,Ze=0,Tt=0,qe=0,nt=0,ot=0,Ke=0,We=0,Nt=0,Xr=null,hi=new Uint16Array(16),fi=new Uint16Array(16),po=null;for(Pe=0;Pe<=it;Pe++)hi[Pe]=0;for(Re=0;Re<J;Re++)hi[M[y+Re]]++;for(qe=lt,Tt=it;Tt>=1&&hi[Tt]===0;Tt--);if(qe>Tt&&(qe=Tt),Tt===0)return K[ne++]=20971520,K[ne++]=20971520,de.bits=1,0;for(Ze=1;Ze<Tt&&hi[Ze]===0;Ze++);for(qe<Ze&&(qe=Ze),Ke=1,Pe=1;Pe<=it;Pe++)if(Ke<<=1,(Ke-=hi[Pe])<0)return-1;if(Ke>0&&(m===0||Tt!==1))return-1;for(fi[1]=0,Pe=1;Pe<it;Pe++)fi[Pe+1]=fi[Pe]+hi[Pe];for(Re=0;Re<J;Re++)M[y+Re]!==0&&(Se[fi[M[y+Re]]++]=Re);if(m===0?(Xr=po=Se,Ae=20):m===1?(Xr=qt,po=ql,Ae=257):(Xr=Qo,po=Hr,Ae=0),Nt=0,Re=0,Pe=Ze,Me=ne,nt=qe,ot=0,ge=-1,ct=(We=1<<qe)-1,m===1&&We>852||m===2&&We>592)return 1;for(;;){Ie=Pe-ot,Se[Re]+1<Ae?(at=0,rt=Se[Re]):Se[Re]>=Ae?(at=po[Se[Re]-Ae],rt=Xr[Se[Re]-Ae]):(at=96,rt=0),Oe=1<<Pe-ot,Ze=fe=1<<nt;do K[Me+(Nt>>ot)+(fe-=Oe)]=Ie<<24|at<<16|rt|0;while(fe!==0);for(Oe=1<<Pe-1;Nt&Oe;)Oe>>=1;if(Oe!==0?(Nt&=Oe-1,Nt+=Oe):Nt=0,Re++,--hi[Pe]==0){if(Pe===Tt)break;Pe=M[y+Se[Re]]}if(Pe>qe&&(Nt&ct)!==ge){for(ot===0&&(ot=qe),Me+=Ze,Ke=1<<(nt=Pe-ot);nt+ot<Tt&&!((Ke-=hi[nt+ot])<=0);)nt++,Ke<<=1;if(We+=1<<nt,m===1&&We>852||m===2&&We>592)return 1;K[ge=Nt&ct]=qe<<24|nt<<16|Me-ne|0}}return Nt!==0&&(K[Me+Nt]=Pe-ot<<24|64<<16|0),de.bits=qe,0},io=se.Z_FINISH,Oi=se.Z_BLOCK,Bt=se.Z_TREES,Ir=se.Z_OK,ao=se.Z_STREAM_END,oo=se.Z_NEED_DICT,Mr=se.Z_STREAM_ERROR,ta=se.Z_DATA_ERROR,es=se.Z_MEM_ERROR,Gl=se.Z_BUF_ERROR,so=se.Z_DEFLATED,ra=16180,na=16190,Zr=16191,ts=16192,lo=16194,rs=16199,tt=16200,Wr=16206,Xe=16209,Hl=function(m){return(m>>>24&255)+(m>>>8&65280)+((65280&m)<<8)+((255&m)<<24)};function Zl(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var uo,co,Fr=function(m){if(!m)return 1;var M=m.state;return!M||M.strm!==m||M.mode<ra||M.mode>16211?1:0},ns=function(m){if(Fr(m))return Mr;var M=m.state;return m.total_in=m.total_out=M.total=0,m.msg="",M.wrap&&(m.adler=1&M.wrap),M.mode=ra,M.last=0,M.havedict=0,M.flags=-1,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new Int32Array(852),M.distcode=M.distdyn=new Int32Array(592),M.sane=1,M.back=-1,Ir},ia=function(m){if(Fr(m))return Mr;var M=m.state;return M.wsize=0,M.whave=0,M.wnext=0,ns(m)},sr=function(m,M){var y;if(Fr(m))return Mr;var J=m.state;return M<0?(y=0,M=-M):(y=5+(M>>4),M<48&&(M&=15)),M&&(M<8||M>15)?Mr:(J.window!==null&&J.wbits!==M&&(J.window=null),J.wrap=y,J.wbits=M,ia(m))},di=function(m,M){if(!m)return Mr;var y=new Zl;m.state=y,y.strm=m,y.window=null,y.mode=ra;var J=sr(m,M);return J!==Ir&&(m.state=null),J},Wl=!0,ed=function(m){if(Wl){uo=new Int32Array(512),co=new Int32Array(32);for(var M=0;M<144;)m.lens[M++]=8;for(;M<256;)m.lens[M++]=9;for(;M<280;)m.lens[M++]=7;for(;M<288;)m.lens[M++]=8;for(no(1,m.lens,0,288,uo,0,m.work,{bits:9}),M=0;M<32;)m.lens[M++]=5;no(2,m.lens,0,32,co,0,m.work,{bits:5}),Wl=!1}m.lencode=uo,m.lenbits=9,m.distcode=co,m.distbits=5},td=function(m,M,y,J){var K,ne=m.state;return ne.window===null&&(ne.wsize=1<<ne.wbits,ne.wnext=0,ne.whave=0,ne.window=new Uint8Array(ne.wsize)),J>=ne.wsize?(ne.window.set(M.subarray(y-ne.wsize,y),0),ne.wnext=0,ne.whave=ne.wsize):((K=ne.wsize-ne.wnext)>J&&(K=J),ne.window.set(M.subarray(y-J,y-J+K),ne.wnext),(J-=K)?(ne.window.set(M.subarray(y-J,y),0),ne.wnext=J,ne.whave=ne.wsize):(ne.wnext+=K,ne.wnext===ne.wsize&&(ne.wnext=0),ne.whave<ne.wsize&&(ne.whave+=K))),0},kn={inflateReset:ia,inflateReset2:sr,inflateResetKeep:ns,inflateInit:function(m){return di(m,15)},inflateInit2:di,inflate:function(m,M){var y,J,K,ne,Se,de,Oe,fe,ge,ct,Me,Ae,Ie,at,rt,lt,Pe,Re,Ze,Tt,qe,nt,ot,Ke,We=0,Nt=new Uint8Array(4),Xr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fr(m)||!m.output||!m.input&&m.avail_in!==0)return Mr;(y=m.state).mode===Zr&&(y.mode=ts),Se=m.next_out,K=m.output,Oe=m.avail_out,ne=m.next_in,J=m.input,de=m.avail_in,fe=y.hold,ge=y.bits,ct=de,Me=Oe,nt=Ir;e:for(;;)switch(y.mode){case ra:if(y.wrap===0){y.mode=ts;break}for(;ge<16;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}if(2&y.wrap&&fe===35615){y.wbits===0&&(y.wbits=15),y.check=0,Nt[0]=255&fe,Nt[1]=fe>>>8&255,y.check=U(y.check,Nt,2,0),fe=0,ge=0,y.mode=16181;break}if(y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&fe)<<8)+(fe>>8))%31){m.msg="incorrect header check",y.mode=Xe;break}if((15&fe)!==so){m.msg="unknown compression method",y.mode=Xe;break}if(ge-=4,qe=8+(15&(fe>>>=4)),y.wbits===0&&(y.wbits=qe),qe>15||qe>y.wbits){m.msg="invalid window size",y.mode=Xe;break}y.dmax=1<<y.wbits,y.flags=0,m.adler=y.check=1,y.mode=512&fe?16189:Zr,fe=0,ge=0;break;case 16181:for(;ge<16;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}if(y.flags=fe,(255&y.flags)!==so){m.msg="unknown compression method",y.mode=Xe;break}if(57344&y.flags){m.msg="unknown header flags set",y.mode=Xe;break}y.head&&(y.head.text=fe>>8&1),512&y.flags&&4&y.wrap&&(Nt[0]=255&fe,Nt[1]=fe>>>8&255,y.check=U(y.check,Nt,2,0)),fe=0,ge=0,y.mode=16182;case 16182:for(;ge<32;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}y.head&&(y.head.time=fe),512&y.flags&&4&y.wrap&&(Nt[0]=255&fe,Nt[1]=fe>>>8&255,Nt[2]=fe>>>16&255,Nt[3]=fe>>>24&255,y.check=U(y.check,Nt,4,0)),fe=0,ge=0,y.mode=16183;case 16183:for(;ge<16;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}y.head&&(y.head.xflags=255&fe,y.head.os=fe>>8),512&y.flags&&4&y.wrap&&(Nt[0]=255&fe,Nt[1]=fe>>>8&255,y.check=U(y.check,Nt,2,0)),fe=0,ge=0,y.mode=16184;case 16184:if(1024&y.flags){for(;ge<16;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}y.length=fe,y.head&&(y.head.extra_len=fe),512&y.flags&&4&y.wrap&&(Nt[0]=255&fe,Nt[1]=fe>>>8&255,y.check=U(y.check,Nt,2,0)),fe=0,ge=0}else y.head&&(y.head.extra=null);y.mode=16185;case 16185:if(1024&y.flags&&((Ae=y.length)>de&&(Ae=de),Ae&&(y.head&&(qe=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Uint8Array(y.head.extra_len)),y.head.extra.set(J.subarray(ne,ne+Ae),qe)),512&y.flags&&4&y.wrap&&(y.check=U(y.check,J,Ae,ne)),de-=Ae,ne+=Ae,y.length-=Ae),y.length))break e;y.length=0,y.mode=16186;case 16186:if(2048&y.flags){if(de===0)break e;Ae=0;do qe=J[ne+Ae++],y.head&&qe&&y.length<65536&&(y.head.name+=String.fromCharCode(qe));while(qe&&Ae<de);if(512&y.flags&&4&y.wrap&&(y.check=U(y.check,J,Ae,ne)),de-=Ae,ne+=Ae,qe)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=16187;case 16187:if(4096&y.flags){if(de===0)break e;Ae=0;do qe=J[ne+Ae++],y.head&&qe&&y.length<65536&&(y.head.comment+=String.fromCharCode(qe));while(qe&&Ae<de);if(512&y.flags&&4&y.wrap&&(y.check=U(y.check,J,Ae,ne)),de-=Ae,ne+=Ae,qe)break e}else y.head&&(y.head.comment=null);y.mode=16188;case 16188:if(512&y.flags){for(;ge<16;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}if(4&y.wrap&&fe!==(65535&y.check)){m.msg="header crc mismatch",y.mode=Xe;break}fe=0,ge=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),m.adler=y.check=0,y.mode=Zr;break;case 16189:for(;ge<32;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}m.adler=y.check=Hl(fe),fe=0,ge=0,y.mode=na;case na:if(y.havedict===0)return m.next_out=Se,m.avail_out=Oe,m.next_in=ne,m.avail_in=de,y.hold=fe,y.bits=ge,oo;m.adler=y.check=1,y.mode=Zr;case Zr:if(M===Oi||M===Bt)break e;case ts:if(y.last){fe>>>=7&ge,ge-=7&ge,y.mode=Wr;break}for(;ge<3;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}switch(y.last=1&fe,ge-=1,3&(fe>>>=1)){case 0:y.mode=16193;break;case 1:if(ed(y),y.mode=rs,M===Bt){fe>>>=2,ge-=2;break e}break;case 2:y.mode=16196;break;case 3:m.msg="invalid block type",y.mode=Xe}fe>>>=2,ge-=2;break;case 16193:for(fe>>>=7&ge,ge-=7&ge;ge<32;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}if((65535&fe)!=(fe>>>16^65535)){m.msg="invalid stored block lengths",y.mode=Xe;break}if(y.length=65535&fe,fe=0,ge=0,y.mode=lo,M===Bt)break e;case lo:y.mode=16195;case 16195:if(Ae=y.length){if(Ae>de&&(Ae=de),Ae>Oe&&(Ae=Oe),Ae===0)break e;K.set(J.subarray(ne,ne+Ae),Se),de-=Ae,ne+=Ae,Oe-=Ae,Se+=Ae,y.length-=Ae;break}y.mode=Zr;break;case 16196:for(;ge<14;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}if(y.nlen=257+(31&fe),fe>>>=5,ge-=5,y.ndist=1+(31&fe),fe>>>=5,ge-=5,y.ncode=4+(15&fe),fe>>>=4,ge-=4,y.nlen>286||y.ndist>30){m.msg="too many length or distance symbols",y.mode=Xe;break}y.have=0,y.mode=16197;case 16197:for(;y.have<y.ncode;){for(;ge<3;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}y.lens[Xr[y.have++]]=7&fe,fe>>>=3,ge-=3}for(;y.have<19;)y.lens[Xr[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,ot={bits:y.lenbits},nt=no(0,y.lens,0,19,y.lencode,0,y.work,ot),y.lenbits=ot.bits,nt){m.msg="invalid code lengths set",y.mode=Xe;break}y.have=0,y.mode=16198;case 16198:for(;y.have<y.nlen+y.ndist;){for(;lt=(We=y.lencode[fe&(1<<y.lenbits)-1])>>>16&255,Pe=65535&We,!((rt=We>>>24)<=ge);){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}if(Pe<16)fe>>>=rt,ge-=rt,y.lens[y.have++]=Pe;else{if(Pe===16){for(Ke=rt+2;ge<Ke;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}if(fe>>>=rt,ge-=rt,y.have===0){m.msg="invalid bit length repeat",y.mode=Xe;break}qe=y.lens[y.have-1],Ae=3+(3&fe),fe>>>=2,ge-=2}else if(Pe===17){for(Ke=rt+3;ge<Ke;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}ge-=rt,qe=0,Ae=3+(7&(fe>>>=rt)),fe>>>=3,ge-=3}else{for(Ke=rt+7;ge<Ke;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}ge-=rt,qe=0,Ae=11+(127&(fe>>>=rt)),fe>>>=7,ge-=7}if(y.have+Ae>y.nlen+y.ndist){m.msg="invalid bit length repeat",y.mode=Xe;break}for(;Ae--;)y.lens[y.have++]=qe}}if(y.mode===Xe)break;if(y.lens[256]===0){m.msg="invalid code -- missing end-of-block",y.mode=Xe;break}if(y.lenbits=9,ot={bits:y.lenbits},nt=no(1,y.lens,0,y.nlen,y.lencode,0,y.work,ot),y.lenbits=ot.bits,nt){m.msg="invalid literal/lengths set",y.mode=Xe;break}if(y.distbits=6,y.distcode=y.distdyn,ot={bits:y.distbits},nt=no(2,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,ot),y.distbits=ot.bits,nt){m.msg="invalid distances set",y.mode=Xe;break}if(y.mode=rs,M===Bt)break e;case rs:y.mode=tt;case tt:if(de>=6&&Oe>=258){m.next_out=Se,m.avail_out=Oe,m.next_in=ne,m.avail_in=de,y.hold=fe,y.bits=ge,Vl(m,Me),Se=m.next_out,K=m.output,Oe=m.avail_out,ne=m.next_in,J=m.input,de=m.avail_in,fe=y.hold,ge=y.bits,y.mode===Zr&&(y.back=-1);break}for(y.back=0;lt=(We=y.lencode[fe&(1<<y.lenbits)-1])>>>16&255,Pe=65535&We,!((rt=We>>>24)<=ge);){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}if(lt&&!(240&lt)){for(Re=rt,Ze=lt,Tt=Pe;lt=(We=y.lencode[Tt+((fe&(1<<Re+Ze)-1)>>Re)])>>>16&255,Pe=65535&We,!(Re+(rt=We>>>24)<=ge);){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}fe>>>=Re,ge-=Re,y.back+=Re}if(fe>>>=rt,ge-=rt,y.back+=rt,y.length=Pe,lt===0){y.mode=16205;break}if(32&lt){y.back=-1,y.mode=Zr;break}if(64&lt){m.msg="invalid literal/length code",y.mode=Xe;break}y.extra=15&lt,y.mode=16201;case 16201:if(y.extra){for(Ke=y.extra;ge<Ke;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}y.length+=fe&(1<<y.extra)-1,fe>>>=y.extra,ge-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=16202;case 16202:for(;lt=(We=y.distcode[fe&(1<<y.distbits)-1])>>>16&255,Pe=65535&We,!((rt=We>>>24)<=ge);){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}if(!(240&lt)){for(Re=rt,Ze=lt,Tt=Pe;lt=(We=y.distcode[Tt+((fe&(1<<Re+Ze)-1)>>Re)])>>>16&255,Pe=65535&We,!(Re+(rt=We>>>24)<=ge);){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}fe>>>=Re,ge-=Re,y.back+=Re}if(fe>>>=rt,ge-=rt,y.back+=rt,64&lt){m.msg="invalid distance code",y.mode=Xe;break}y.offset=Pe,y.extra=15&lt,y.mode=16203;case 16203:if(y.extra){for(Ke=y.extra;ge<Ke;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}y.offset+=fe&(1<<y.extra)-1,fe>>>=y.extra,ge-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){m.msg="invalid distance too far back",y.mode=Xe;break}y.mode=16204;case 16204:if(Oe===0)break e;if(Ae=Me-Oe,y.offset>Ae){if((Ae=y.offset-Ae)>y.whave&&y.sane){m.msg="invalid distance too far back",y.mode=Xe;break}Ae>y.wnext?(Ae-=y.wnext,Ie=y.wsize-Ae):Ie=y.wnext-Ae,Ae>y.length&&(Ae=y.length),at=y.window}else at=K,Ie=Se-y.offset,Ae=y.length;Ae>Oe&&(Ae=Oe),Oe-=Ae,y.length-=Ae;do K[Se++]=at[Ie++];while(--Ae);y.length===0&&(y.mode=tt);break;case 16205:if(Oe===0)break e;K[Se++]=y.length,Oe--,y.mode=tt;break;case Wr:if(y.wrap){for(;ge<32;){if(de===0)break e;de--,fe|=J[ne++]<<ge,ge+=8}if(Me-=Oe,m.total_out+=Me,y.total+=Me,4&y.wrap&&Me&&(m.adler=y.check=y.flags?U(y.check,K,Me,Se-Me):xe(y.check,K,Me,Se-Me)),Me=Oe,4&y.wrap&&(y.flags?fe:Hl(fe))!==y.check){m.msg="incorrect data check",y.mode=Xe;break}fe=0,ge=0}y.mode=16207;case 16207:if(y.wrap&&y.flags){for(;ge<32;){if(de===0)break e;de--,fe+=J[ne++]<<ge,ge+=8}if(4&y.wrap&&fe!==(4294967295&y.total)){m.msg="incorrect length check",y.mode=Xe;break}fe=0,ge=0}y.mode=16208;case 16208:nt=ao;break e;case Xe:nt=ta;break e;case 16210:return es;default:return Mr}return m.next_out=Se,m.avail_out=Oe,m.next_in=ne,m.avail_in=de,y.hold=fe,y.bits=ge,(y.wsize||Me!==m.avail_out&&y.mode<Xe&&(y.mode<Wr||M!==io))&&td(m,m.output,m.next_out,Me-m.avail_out),ct-=m.avail_in,Me-=m.avail_out,m.total_in+=ct,m.total_out+=Me,y.total+=Me,4&y.wrap&&Me&&(m.adler=y.check=y.flags?U(y.check,K,Me,m.next_out-Me):xe(y.check,K,Me,m.next_out-Me)),m.data_type=y.bits+(y.last?64:0)+(y.mode===Zr?128:0)+(y.mode===rs||y.mode===lo?256:0),(ct===0&&Me===0||M===io)&&nt===Ir&&(nt=Gl),nt},inflateEnd:function(m){if(Fr(m))return Mr;var M=m.state;return M.window&&(M.window=null),m.state=null,Ir},inflateGetHeader:function(m,M){if(Fr(m))return Mr;var y=m.state;return 2&y.wrap?(y.head=M,M.done=!1,Ir):Mr},inflateSetDictionary:function(m,M){var y,J=M.length;return Fr(m)||(y=m.state).wrap!==0&&y.mode!==na?Mr:y.mode===na&&xe(1,M,J,0)!==y.check?ta:td(m,M,J,J)?(y.mode=16210,es):(y.havedict=1,Ir)},inflateInfo:"pako inflate (from Nodeca project)"},Xl=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},rd=Object.prototype.toString,nd=se.Z_NO_FLUSH,mt=se.Z_FINISH,ho=se.Z_OK,Br=se.Z_STREAM_END,Ri=se.Z_NEED_DICT,id=se.Z_STREAM_ERROR,ad=se.Z_DATA_ERROR,Jl=se.Z_MEM_ERROR;function fo(m){this.options=Ul({chunkSize:65536,windowBits:15,to:""},m||{});var M=this.options;M.raw&&M.windowBits>=0&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),!(M.windowBits>=0&&M.windowBits<16)||m&&m.windowBits||(M.windowBits+=32),M.windowBits>15&&M.windowBits<48&&!(15&M.windowBits)&&(M.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Jc,this.strm.avail_out=0;var y=kn.inflateInit2(this.strm,M.windowBits);if(y!==ho)throw new Error(B[y]);if(this.header=new Xl,kn.inflateGetHeader(this.strm,this.header),M.dictionary&&(typeof M.dictionary=="string"?M.dictionary=Ko(M.dictionary):rd.call(M.dictionary)==="[object ArrayBuffer]"&&(M.dictionary=new Uint8Array(M.dictionary)),M.raw&&(y=kn.inflateSetDictionary(this.strm,M.dictionary))!==ho))throw new Error(B[y])}function is(m,M){var y=new fo(M);if(y.push(m),y.err)throw y.msg||B[y.err];return y.result}fo.prototype.push=function(m,M){var y,J,K,ne=this.strm,Se=this.options.chunkSize,de=this.options.dictionary;if(this.ended)return!1;for(J=M===~~M?M:M===!0?mt:nd,rd.call(m)==="[object ArrayBuffer]"?ne.input=new Uint8Array(m):ne.input=m,ne.next_in=0,ne.avail_in=ne.input.length;;){for(ne.avail_out===0&&(ne.output=new Uint8Array(Se),ne.next_out=0,ne.avail_out=Se),(y=kn.inflate(ne,J))===Ri&&de&&((y=kn.inflateSetDictionary(ne,de))===ho?y=kn.inflate(ne,J):y===ad&&(y=Ri));ne.avail_in>0&&y===Br&&ne.state.wrap>0&&m[ne.next_in]!==0;)kn.inflateReset(ne),y=kn.inflate(ne,J);switch(y){case id:case ad:case Ri:case Jl:return this.onEnd(y),this.ended=!0,!1}if(K=ne.avail_out,ne.next_out&&(ne.avail_out===0||y===Br))if(this.options.to==="string"){var Oe=Yo(ne.output,ne.next_out),fe=ne.next_out-Oe,ge=Zf(ne.output,Oe);ne.next_out=fe,ne.avail_out=Se-fe,fe&&ne.output.set(ne.output.subarray(Oe,Oe+fe),0),this.onData(ge)}else this.onData(ne.output.length===ne.next_out?ne.output:ne.output.subarray(0,ne.next_out));if(y!==ho||K!==0){if(y===Br)return y=kn.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,!0;if(ne.avail_in===0)break}}return!0},fo.prototype.onData=function(m){this.chunks.push(m)},fo.prototype.onEnd=function(m){m===ho&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Wc(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg};var as={Inflate:fo,inflate:is,inflateRaw:function(m,M){return(M=M||{}).raw=!0,is(m,M)},ungzip:is},od=$n.Deflate,os=$n.deflate,sd=$n.deflateRaw,mn=$n.gzip,ld=as.Inflate,Kl=as.inflate,qn=as.inflateRaw,Yl=as.ungzip,Ql=se,eu={Deflate:od,deflate:os,deflateRaw:sd,gzip:mn,Inflate:ld,inflate:Kl,inflateRaw:qn,ungzip:Yl,constants:Ql};r.Deflate=od,r.Inflate=ld,r.constants=Ql,r.default=eu,r.deflate=os,r.deflateRaw=sd,r.gzip=mn,r.inflate=Kl,r.inflateRaw=qn,r.ungzip=Yl,Object.defineProperty(r,"__esModule",{value:!0})})}(Kd,Kd.exports)),Kd.exports}var Y_;function RM(){if(Y_)return go;Y_=1;var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",t=OM();return go.uncompressInputType=e?"uint8array":"array",go.compressInputType=e?"uint8array":"array",go.magic="\b\0",go.compress=function(r,n){return t.deflateRaw(r,{level:n.level||-1})},go.uncompress=function(r){return t.inflateRaw(r)},go}var Q_;function N0(){return Q_||(Q_=1,Jd.STORE={magic:"\0\0",compress:function(t){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},Jd.DEFLATE=RM()),Jd}var k0={exports:{}};k0.exports=function(e,t){return typeof e=="number"?Buffer.alloc(e):Buffer.from(e,t)};k0.exports.test=function(e){return Buffer.isBuffer(e)};var D0=k0.exports;(function(e){function t(f){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(f)}var r=Dr,n=N0(),i=D0;e.string2binary=function(f){for(var g="",v=0;v<f.length;v++)g+=String.fromCharCode(f.charCodeAt(v)&255);return g},e.arrayBuffer2Blob=function(f,g){e.checkSupport("blob"),g=g||"application/zip";try{return new Blob([f],{type:g})}catch{try{var v=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,_=new v;return _.append(f),_.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};function a(f){return f}function s(f,g){for(var v=0;v<f.length;++v)g[v]=f.charCodeAt(v)&255;return g}function c(f){var g=65536,v=[],_=f.length,k=e.getTypeOf(f),E=0,j=!0;try{switch(k){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,i(0));break}}catch{j=!1}if(!j){for(var x="",w=0;w<f.length;w++)x+=String.fromCharCode(f[w]);return x}for(;E<_&&g>1;)try{k==="array"||k==="nodebuffer"?v.push(String.fromCharCode.apply(null,f.slice(E,Math.min(E+g,_)))):v.push(String.fromCharCode.apply(null,f.subarray(E,Math.min(E+g,_)))),E+=g}catch{g=Math.floor(g/2)}return v.join("")}e.applyFromCharCode=c;function d(f,g){for(var v=0;v<f.length;v++)g[v]=f[v];return g}var h={};h.string={string:a,array:function(g){return s(g,new Array(g.length))},arraybuffer:function(g){return h.string.uint8array(g).buffer},uint8array:function(g){return s(g,new Uint8Array(g.length))},nodebuffer:function(g){return s(g,i(g.length))}},h.array={string:c,array:a,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return i(g)}},h.arraybuffer={string:function(g){return c(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:a,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return i(new Uint8Array(g))}},h.uint8array={string:c,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:a,nodebuffer:function(g){return i(g)}},h.nodebuffer={string:c,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return h.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:a},e.transformTo=function(f,g){if(g||(g=""),!f)return g;e.checkSupport(f);var v=e.getTypeOf(g),_=h[v][f](g);return _},e.getTypeOf=function(f){if(f!=null){if(typeof f=="string")return"string";var g=Object.prototype.toString.call(f);if(g==="[object Array]")return"array";if(r.nodebuffer&&i.test(f))return"nodebuffer";if(r.uint8array&&g==="[object Uint8Array]")return"uint8array";if(r.arraybuffer&&g==="[object ArrayBuffer]")return"arraybuffer";if(g==="[object Promise]")throw new Error("Cannot read data from a promise, you probably are running new PizZip(data) with a promise");if(t(f)==="object"&&typeof f.file=="function")throw new Error("Cannot read data from a pizzip instance, you probably are running new PizZip(zip) with a zipinstance");if(g==="[object Date]")throw new Error("Cannot read data from a Date, you probably are running new PizZip(data) with a date");if(t(f)==="object"&&f.crc32==null)throw new Error("Unsupported data given to new PizZip(data) (object given)")}},e.checkSupport=function(f){var g=r[f.toLowerCase()];if(!g)throw new Error(f+" is not supported by this browser")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(f){var g="",v,_;for(_=0;_<(f||"").length;_++)v=f.charCodeAt(_),g+="\\x"+(v<16?"0":"")+v.toString(16).toUpperCase();return g},e.findCompression=function(f){for(var g in n)if(n.hasOwnProperty(g)&&n[g].magic===f)return n[g];return null},e.isRegExp=function(f){return Object.prototype.toString.call(f)==="[object RegExp]"},e.extend=function(){var f={},g,v;for(g=0;g<arguments.length;g++)for(v in arguments[g])arguments[g].hasOwnProperty(v)&&typeof f[v]>"u"&&(f[v]=arguments[g][v]);return f}})(Bn);var PM=Bn,LM=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],IM=function(t,r){if(typeof t>"u"||!t.length)return 0;var n=PM.getTypeOf(t)!=="string";typeof r>"u"&&(r=0);var i=0,a=0,s=0;r^=-1;for(var c=0,d=t.length;c<d;c++)s=n?t[c]:t.charCodeAt(c),a=(r^s)&255,i=LM[a],r=r>>>8^i;return r^-1},Qa={};Qa.LOCAL_FILE_HEADER="PK";Qa.CENTRAL_FILE_HEADER="PK";Qa.CENTRAL_DIRECTORY_END="PK";Qa.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07";Qa.ZIP64_CENTRAL_DIRECTORY_END="PK";Qa.DATA_DESCRIPTOR="PK\x07\b";var zn={};zn.base64=!1;zn.binary=!1;zn.dir=!1;zn.createFolders=!1;zn.date=null;zn.compression=null;zn.compressionOptions=null;zn.comment=null;zn.unixPermissions=null;zn.dosPermissions=null;function SE(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}SE.prototype={getContent:function(){return null},getCompressedContent:function(){return null}};var AE=SE,Hf={},Ig=Bn,Fu=Dr,MM=D0,Ec=new Array(256);for(var ca=0;ca<256;ca++)Ec[ca]=ca>=252?6:ca>=248?5:ca>=240?4:ca>=224?3:ca>=192?2:1;Ec[254]=Ec[254]=1;function FM(e){var t,r,n,i,a,s=0,c=e.length;for(i=0;i<c;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<c&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(Fu.uint8array?t=new Uint8Array(s):t=new Array(s),a=0,i=0;a<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<c&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t}function BM(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Ec[e[r]]>t?r:t}function eb(e){var t,r,n,i,a=e.length,s=new Array(a*2);for(r=0,t=0;t<a;){if(n=e[t++],n<128){s[r++]=n;continue}if(i=Ec[n],i>4){s[r++]=65533,t+=i-1;continue}for(n&=i===2?31:i===3?15:7;i>1&&t<a;)n=n<<6|e[t++]&63,i--;if(i>1){s[r++]=65533;continue}n<65536?s[r++]=n:(n-=65536,s[r++]=55296|n>>10&1023,s[r++]=56320|n&1023)}return s.length!==r&&(s.subarray?s=s.subarray(0,r):s.length=r),Ig.applyFromCharCode(s)}Hf.utf8encode=function(t){return Fu.nodebuffer?MM(t,"utf-8"):FM(t)};Hf.utf8decode=function(t){if(Fu.nodebuffer)return Ig.transformTo("nodebuffer",t).toString("utf-8");t=Ig.transformTo(Fu.uint8array?"uint8array":"array",t);for(var r=[],n=t.length,i=65536,a=0;a<n;){var s=BM(t,Math.min(a+i,n));Fu.uint8array?r.push(eb(t.subarray(a,s))):r.push(eb(t.slice(a,s))),a=s}return r.join("")};var zM=Bn;function TE(){this.data=[]}TE.prototype={append:function(t){t=zM.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}};var UM=TE,$M=Bn;function NE(e){this.data=new Uint8Array(e),this.index=0}NE.prototype={append:function(t){t.length!==0&&(t=$M.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}};var VM=NE;function qM(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=GM(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(h){throw h},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var h=r.next();return s=h.done,h},e:function(h){c=!0,a=h},f:function(){try{s||r.return==null||r.return()}finally{if(c)throw a}}}}function GM(e,t){if(e){if(typeof e=="string")return tb(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tb(e,t):void 0}}function tb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var HM=Dr,It=Bn,j0=IM,Mg=Qa,ZM=zn,kE=Vc,Fg=N0(),Jh=AE,WM=D0,Ys=Hf,XM=UM,JM=VM;function DE(e){if(e._data instanceof Jh&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,It.getTypeOf(e._data)==="uint8array")){var t=e._data;e._data=new Uint8Array(t.length),t.length!==0&&e._data.set(t,0)}return e._data}function Bg(e){var t=DE(e),r=It.getTypeOf(t);return r==="string"?!e.options.binary&&HM.nodebuffer?WM(t,"utf-8"):e.asBinary():t}var zg={load:function(){throw new Error("Load method is not defined. Is the file pizzip-load.js included ?")},filter:function(t){var r=[],n,i,a,s;for(n in this.files)this.files.hasOwnProperty(n)&&(a=this.files[n],s=new O0(a.name,a._data,It.extend(a.options)),i=n.slice(this.root.length,n.length),n.slice(0,this.root.length)===this.root&&t(i,s)&&r.push(s));return r},file:function(t,r,n){if(arguments.length===1){if(It.isRegExp(t)){var i=t;return this.filter(function(a,s){return!s.dir&&i.test(a)})}return this.filter(function(a,s){return!s.dir&&a===t})[0]||null}return t=this.root+t,jE.call(this,t,r,n),this},folder:function(t){if(!t)return this;if(It.isRegExp(t))return this.filter(function(a,s){return s.dir&&t.test(a)});var r=this.root+t,n=RE.call(this,r),i=this.shallowClone();return i.root=n.name,i},remove:function(t){t=this.root+t;var r=this.files[t];if(r||(t.slice(-1)!=="/"&&(t+="/"),r=this.files[t]),r&&!r.dir)delete this.files[t];else for(var n=this.filter(function(a,s){return s.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){t=It.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:Ys.utf8encode}),It.checkSupport(t.type),(t.platform==="darwin"||t.platform==="freebsd"||t.platform==="linux"||t.platform==="sunos")&&(t.platform="UNIX"),t.platform==="win32"&&(t.platform="DOS");var r=[],n=It.transformTo("string",t.encodeFileName(t.comment||this.comment||"")),i=0,a=0,s,c,d=[];t.fileOrder instanceof Array&&(d=t.fileOrder);for(var h in this.files)d.indexOf(h)===-1&&d.push(h);typeof t.fileOrder=="function"&&(d=t.fileOrder(this.files));var f=qM(d),g;try{for(f.s();!(g=f.n()).done;){var v=g.value;if(this.files.hasOwnProperty(v)){var _=this.files[v],k=_.options.compression||t.compression.toUpperCase(),E=Fg[k];if(!E)throw new Error(k+" is not a valid compression method !");var j=_.options.compressionOptions||t.compressionOptions||{},x=QM.call(this,_,E,j),w=r4.call(this,v,_,x,i,t.platform,t.encodeFileName);i+=w.fileRecord.length+x.compressedSize,a+=w.dirRecord.length,r.push(w)}}}catch(F){f.e(F)}finally{f.f()}var A="";A=Mg.CENTRAL_DIRECTORY_END+"\0\0\0\0"+Kt(r.length,2)+Kt(r.length,2)+Kt(a,4)+Kt(i,4)+Kt(n.length,2)+n;var S=t.type.toLowerCase();for(S==="uint8array"||S==="arraybuffer"||S==="blob"||S==="nodebuffer"?s=new JM(i+a+A.length):s=new XM(i+a+A.length),c=0;c<r.length;c++)s.append(r[c].fileRecord),s.append(r[c].compressedObject.compressedContent);for(c=0;c<r.length;c++)s.append(r[c].dirRecord);s.append(A);var T=s.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return It.transformTo(t.type.toLowerCase(),T);case"blob":return It.arrayBuffer2Blob(It.transformTo("arraybuffer",T),t.mimeType);case"base64":return t.base64?kE.encode(T):T;default:return T}},crc32:function(t,r){return j0(t,r)},utf8encode:function(t){return It.transformTo("string",Ys.utf8encode(t))},utf8decode:function(t){return Ys.utf8decode(t)}};function rb(e){var t=DE(this);return t===null||typeof t>"u"?"":(this.options.base64&&(t=kE.decode(t)),e&&this.options.binary?t=zg.utf8decode(t):t=It.transformTo("string",t),!e&&!this.options.binary&&(t=It.transformTo("string",zg.utf8encode(t))),t)}function O0(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this.options=r,this._initialMetadata={dir:r.dir,date:r.date}}O0.prototype={asText:function(){return rb.call(this,!0)},asBinary:function(){return rb.call(this,!1)},asNodeBuffer:function(){var t=Bg(this);return It.transformTo("nodebuffer",t)},asUint8Array:function(){var t=Bg(this);return It.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};function Kt(e,t){var r="",n;for(n=0;n<t;n++)r+=String.fromCharCode(e&255),e>>>=8;return r}function KM(e){return e=e||{},e.base64===!0&&(e.binary===null||e.binary===void 0)&&(e.binary=!0),e=It.extend(e,ZM),e.date=e.date||new Date,e.compression!==null&&(e.compression=e.compression.toUpperCase()),e}function jE(e,t,r){var n=It.getTypeOf(t),i;if(r=KM(r),typeof r.unixPermissions=="string"&&(r.unixPermissions=parseInt(r.unixPermissions,8)),r.unixPermissions&&r.unixPermissions&16384&&(r.dir=!0),r.dosPermissions&&r.dosPermissions&16&&(r.dir=!0),r.dir&&(e=OE(e)),r.createFolders&&(i=YM(e))&&RE.call(this,i,!0),r.dir||t===null||typeof t>"u")r.base64=!1,r.binary=!1,t=null,n=null;else if(n==="string")r.binary&&!r.base64&&r.optimizedBinaryString!==!0&&(t=It.string2binary(t));else{if(r.base64=!1,r.binary=!0,!n&&!(t instanceof Jh))throw new Error("The data of '"+e+"' is in an unsupported format !");n==="arraybuffer"&&(t=It.transformTo("uint8array",t))}var a=new O0(e,t,r);return this.files[e]=a,a}function YM(e){e.slice(-1)==="/"&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""}function OE(e){return e.slice(-1)!=="/"&&(e+="/"),e}function RE(e,t){return t=typeof t<"u"?t:!1,e=OE(e),this.files[e]||jE.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]}function QM(e,t,r){var n=new Jh,i;return e._data instanceof Jh?(n.uncompressedSize=e._data.uncompressedSize,n.crc32=e._data.crc32,n.uncompressedSize===0||e.dir?(t=Fg.STORE,n.compressedContent="",n.crc32=0):e._data.compressionMethod===t.magic?n.compressedContent=e._data.getCompressedContent():(i=e._data.getContent(),n.compressedContent=t.compress(It.transformTo(t.compressInputType,i),r))):(i=Bg(e),(!i||i.length===0||e.dir)&&(t=Fg.STORE,i=""),n.uncompressedSize=i.length,n.crc32=j0(i),n.compressedContent=t.compress(It.transformTo(t.compressInputType,i),r)),n.compressedSize=n.compressedContent.length,n.compressionMethod=t.magic,n}function e4(e,t){var r=e;return e||(r=t?16893:33204),(r&65535)<<16}function t4(e){return(e||0)&63}function r4(e,t,r,n,i,a){var s=a!==Ys.utf8encode,c=It.transformTo("string",a(t.name)),d=It.transformTo("string",Ys.utf8encode(t.name)),h=t.comment||"",f=It.transformTo("string",a(h)),g=It.transformTo("string",Ys.utf8encode(h)),v=d.length!==t.name.length,_=g.length!==h.length,k=t.options,E,j,x="",w="",A="",S,T;t._initialMetadata.dir!==t.dir?S=t.dir:S=k.dir,t._initialMetadata.date!==t.date?T=t.date:T=k.date;var F=0,I=0;S&&(F|=16),i==="UNIX"?(I=798,F|=e4(t.unixPermissions,S)):(I=20,F|=t4(t.dosPermissions)),E=T.getHours(),E<<=6,E|=T.getMinutes(),E<<=5,E|=T.getSeconds()/2,j=T.getFullYear()-1980,j<<=4,j|=T.getMonth()+1,j<<=5,j|=T.getDate(),v&&(w=Kt(1,1)+Kt(j0(c),4)+d,x+="up"+Kt(w.length,2)+w),_&&(A=Kt(1,1)+Kt(this.crc32(f),4)+g,x+="uc"+Kt(A.length,2)+A);var D="";D+=`
\0`,D+=!s&&(v||_)?"\0\b":"\0\0",D+=r.compressionMethod,D+=Kt(E,2),D+=Kt(j,2),D+=Kt(r.crc32,4),D+=Kt(r.compressedSize,4),D+=Kt(r.uncompressedSize,4),D+=Kt(c.length,2),D+=Kt(x.length,2);var C=Mg.LOCAL_FILE_HEADER+D+c+x,G=Mg.CENTRAL_FILE_HEADER+Kt(I,2)+D+Kt(f.length,2)+"\0\0\0\0"+Kt(F,4)+Kt(n,4)+c+x+f;return{fileRecord:C,dirRecord:G,compressedObject:r}}var PE=zg,n4=Bn;function LE(){this.data=null,this.length=0,this.index=0,this.zero=0}LE.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var r=0,n;for(this.checkOffset(t),n=this.index+t-1;n>=this.index;n--)r=(r<<8)+this.byteAt(n);return this.index+=t,r},readString:function(t){return n4.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)}};var IE=LE,i4=IE,a4=Bn;function qc(e,t){this.data=e,t||(this.data=a4.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}qc.prototype=new i4;qc.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)};qc.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero};qc.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var ME=qc,o4=IE;function Gc(e){if(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0;for(var t=0;t<this.data.length;t++)e[t]&=e[t]}}Gc.prototype=new o4;Gc.prototype.byteAt=function(e){return this.data[this.zero+e]};Gc.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===i)return a-this.zero;return-1};Gc.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var FE=Gc,s4=FE;function R0(e){e&&(this.data=e,this.length=this.data.length,this.index=0,this.zero=0)}R0.prototype=new s4;R0.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var BE=R0,l4=BE;function P0(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0}P0.prototype=new l4;P0.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var u4=P0,cm=ME,Hn=Bn,c4=AE,vo=PE,d4=Dr,h4=0,f4=3;function zE(e,t){this.options=e,this.loadOptions=t}zE.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},prepareCompressedContent:function(t,r,n){return function(){var i=t.index;t.setIndex(r);var a=t.readData(n);return t.setIndex(i),a}},prepareContent:function(t,r,n,i,a){return function(){var s=Hn.transformTo(i.uncompressInputType,this.getCompressedContent()),c=i.uncompress(s);if(c.length!==a)throw new Error("Bug : uncompressed data size mismatch");return c}},readLocalPart:function(t){t.skip(22),this.fileNameLength=t.readInt(2);var r=t.readInt(2);if(this.fileName=t.readData(this.fileNameLength),t.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");var n=Hn.findCompression(this.compressionMethod);if(n===null)throw new Error("Corrupted zip : compression "+Hn.pretty(this.compressionMethod)+" unknown (inner file : "+Hn.transformTo("string",this.fileName)+")");if(this.decompressed=new c4,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,n),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,n,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=Hn.transformTo("string",this.decompressed.getContent()),vo.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),t===h4&&(this.dosPermissions=this.externalFileAttributes&63),t===f4&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=new cm(this.extraFields[1].value);this.uncompressedSize===Hn.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===Hn.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===Hn.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===Hn.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var r=t.index,n,i,a;for(this.extraFields=this.extraFields||{};t.index<r+this.extraFieldsLength;)n=t.readInt(2),i=t.readInt(2),a=t.readString(i),this.extraFields[n]={id:n,length:i,value:a}},handleUTF8:function(){var t=d4.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=vo.utf8decode(this.fileName),this.fileCommentStr=vo.utf8decode(this.fileComment);else{var r=this.findExtraFieldUnicodePath();if(r!==null)this.fileNameStr=r;else{var n=Hn.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(i!==null)this.fileCommentStr=i;else{var a=Hn.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var r=new cm(t.value);return r.readInt(1)!==1||vo.crc32(this.fileName)!==r.readInt(4)?null:vo.utf8decode(r.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var r=new cm(t.value);return r.readInt(1)!==1||vo.crc32(this.fileComment)!==r.readInt(4)?null:vo.utf8decode(r.readString(t.length-5))}return null}};var p4=zE,m4=ME,g4=u4,v4=BE,y4=FE,gn=Bn,Zn=Qa,x4=p4,Yd=Dr;function UE(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}UE.prototype={checkSignature:function(t){var r=this.reader.readString(4);if(r!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+gn.pretty(r)+", expected "+gn.pretty(t)+")")},isSignature:function(t,r){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4),a=i===r;return this.reader.setIndex(n),a},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),r=Yd.uint8array?"uint8array":"array",n=gn.transformTo(r,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t=this.zip64EndOfCentralSize-44,r=0,n,i,a;r<t;)n=this.reader.readInt(2),i=this.reader.readInt(4),a=this.reader.readString(i),this.zip64ExtensibleData[n]={id:n,length:i,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,r;for(t=0;t<this.files.length;t++)r=this.files[t],this.reader.setIndex(r.localHeaderOffset),this.checkSignature(Zn.LOCAL_FILE_HEADER),r.readLocalPart(this.reader),r.handleUTF8(),r.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===Zn.CENTRAL_FILE_HEADER;)t=new x4({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(Zn.CENTRAL_DIRECTORY_END);if(t<0){var r=!this.isSignature(0,Zn.LOCAL_FILE_HEADER);throw r?new Error("Can't find end of central directory : is this a zip file ?"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(t);var n=t;if(this.checkSignature(Zn.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===gn.MAX_VALUE_16BITS||this.diskWithCentralDirStart===gn.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===gn.MAX_VALUE_16BITS||this.centralDirRecords===gn.MAX_VALUE_16BITS||this.centralDirSize===gn.MAX_VALUE_32BITS||this.centralDirOffset===gn.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(Zn.ZIP64_CENTRAL_DIRECTORY_LOCATOR),t<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(Zn.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Zn.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Zn.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Zn.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var a=n-i;if(a>0)this.isSignature(n,Zn.CENTRAL_FILE_HEADER)||(this.reader.zero=a);else if(a<0)throw new Error("Corrupted zip: missing "+Math.abs(a)+" bytes.")},prepareReader:function(t){var r=gn.getTypeOf(t);if(gn.checkSupport(r),r==="string"&&!Yd.uint8array)this.reader=new m4(t,this.loadOptions.optimizedBinaryString);else if(r==="nodebuffer")this.reader=new g4(t);else if(Yd.uint8array)this.reader=new v4(gn.transformTo("uint8array",t));else if(Yd.array)this.reader=new y4(gn.transformTo("array",t));else throw new Error("Unexpected error: unsupported type '"+r+"'")},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};var _4=UE,b4=Vc,w4=Hf,C4=Bn,E4=_4,S4=function(e,t){var r,n;t=C4.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:w4.utf8decode}),t.base64&&(e=b4.decode(e));var i=new E4(e,t),a=i.files;for(r=0;r<a.length;r++)n=a[r],this.file(n.fileNameStr,n.decompressed,{binary:!0,optimizedBinaryString:!0,date:n.date,dir:n.dir,comment:n.fileCommentStr.length?n.fileCommentStr:null,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions,createFolders:t.createFolders});return i.zipComment.length&&(this.comment=i.zipComment),this},pn={},sn=Bn;pn.string2binary=function(e){return sn.string2binary(e)};pn.string2Uint8Array=function(e){return sn.transformTo("uint8array",e)};pn.uint8Array2String=function(e){return sn.transformTo("string",e)};pn.string2Blob=function(e){var t=sn.transformTo("arraybuffer",e);return sn.arrayBuffer2Blob(t)};pn.arrayBuffer2Blob=function(e){return sn.arrayBuffer2Blob(e)};pn.transformTo=function(e,t){return sn.transformTo(e,t)};pn.getTypeOf=function(e){return sn.getTypeOf(e)};pn.checkSupport=function(e){return sn.checkSupport(e)};pn.MAX_VALUE_16BITS=sn.MAX_VALUE_16BITS;pn.MAX_VALUE_32BITS=sn.MAX_VALUE_32BITS;pn.pretty=function(e){return sn.pretty(e)};pn.findCompression=function(e){return sn.findCompression(e)};pn.isRegExp=function(e){return sn.isRegExp(e)};(function(e){var t=Vc;function r(n,i){if(!(this instanceof r))return new r(n,i);this.files={},this.comment=null,this.root="",n&&this.load(n,i),this.clone=function(){var a=this,s=new r;return Object.keys(this.files).forEach(function(c){s.file(c,a.files[c].asUint8Array())}),s},this.shallowClone=function(){var a=new r;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}r.prototype=PE,r.prototype.load=S4,r.support=Dr,r.defaults=zn,r.utils=pn,r.base64={encode:function(i){return t.encode(i)},decode:function(i){return t.decode(i)}},r.compressions=N0(),e.exports=r,e.exports.default=r})(EE);var A4=EE.exports;const T4=Sc(A4),Kh={};Kh._getBinaryFromXHR=function(e){return e.response||e.responseText};function nb(){try{return new window.XMLHttpRequest}catch{}}function N4(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch{}}const k4=window.ActiveXObject?function(){return nb()||N4()}:nb;function D4(e){return e.startsWith("file://")||typeof window<"u"&&window.location.protocol==="file:"}Kh.getBinaryContent=function(e,t){try{const r=k4();r.open("GET",e,!0);const n=D4(e);"responseType"in r&&(r.responseType="arraybuffer"),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.onreadystatechange=function(i){let a,s;if(r.readyState===4)if(r.status===200||n&&r.status===0)try{const c=Kh._getBinaryFromXHR(r);t(null,c)}catch(c){t(new Error(c),null)}else{const c=r.status===0?"Server not responding or CORS headers missing. ":"";t(new Error(`Ajax error for ${e}: status ${r.status} ${c}${r.statusText}`),null)}},r.send()}catch(r){t(new Error(r),null)}};var j4=Kh,O4=j4;const R4=Sc(O4);var $E={exports:{}};(function(e,t){(function(r,n){n()})(He,function(){function r(h,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function n(h,f,g){var v=new XMLHttpRequest;v.open("GET",h),v.responseType="blob",v.onload=function(){d(v.response,f,g)},v.onerror=function(){console.error("could not download file")},v.send()}function i(h){var f=new XMLHttpRequest;f.open("HEAD",h,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function a(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(f)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof He=="object"&&He.global===He?He:void 0,c=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(h,f,g){var v=s.URL||s.webkitURL,_=document.createElement("a");f=f||h.name||"download",_.download=f,_.rel="noopener",typeof h=="string"?(_.href=h,_.origin===location.origin?a(_):i(_.href)?n(h,f,g):a(_,_.target="_blank")):(_.href=v.createObjectURL(h),setTimeout(function(){v.revokeObjectURL(_.href)},4e4),setTimeout(function(){a(_)},0))}:"msSaveOrOpenBlob"in navigator?function(h,f,g){if(f=f||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(r(h,g),f);else if(i(h))n(h,f,g);else{var v=document.createElement("a");v.href=h,v.target="_blank",setTimeout(function(){a(v)})}}:function(h,f,g,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof h=="string")return n(h,f,g);var _=h.type==="application/octet-stream",k=/constructor/i.test(s.HTMLElement)||s.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||_&&k||c)&&typeof FileReader<"u"){var j=new FileReader;j.onloadend=function(){var A=j.result;A=E?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=A:location=A,v=null},j.readAsDataURL(h)}else{var x=s.URL||s.webkitURL,w=x.createObjectURL(h);v?v.location=w:location.href=w,v=null,setTimeout(function(){x.revokeObjectURL(w)},4e4)}});s.saveAs=d.saveAs=d,e.exports=d})})($E);var P4=$E.exports;function L4(e,t){R4.getBinaryContent(e,t)}const I4=async e=>{const t={FILENUMBER:"FRA-CEDF-2025-0001",submission_date:new Date().toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}),submission_version:"1.0",operatorName:e.operator.name,operatorRegistrationNumber:e.operator.registrationNumber,operatorManagerName:e.operator.managerName,operatorOperationalContact:e.operator.operationalContact,operatorAddress:e.operator.address,operatorPhone:e.operator.phone,operatorEmail:e.operator.email,operatorStartDate:e.operator.startDate||"Non spécifiée",operatorEndDate:e.operator.endDate||"Non spécifiée",operatorLocations:e.operator.locations||"Non spécifiés",operatorRiskAssessmentVersion:e.operator.riskAssessmentVersion||"SORA 2.5",droneManufacturer:e.drone.manufacturer,droneModel:e.drone.model,droneUasType:e.drone.uasType,droneSerialNumber:e.drone.serialNumber,droneTypeCertificateNumber:e.drone.typeCertificateNumber,droneAirworthinessCertificateNumber:e.drone.airworthinessCertificateNumber,droneAcousticCertificateNumber:e.drone.acousticCertificateNumber,droneClassIdentification:e.drone.classIdentification||"Non spécifiée",droneMaxCharacteristicDimension:e.drone.maxCharacteristicDimension,droneMinSpeed:e.drone.minSpeed,droneMaxSpeed:e.drone.maxSpeed,droneMaxClimbRate:e.drone.maxClimbRate,droneMaxDescentRate:e.drone.maxDescentRate,droneTurnRate:e.drone.turnRate,droneMaxEndurance:e.drone.maxEndurance,dronePropellerCount:e.drone.propellerCount,droneKineticEnergy:e.drone.kineticEnergy,droneDimensionsLength:e.drone.dimensions.length,droneDimensionsWidth:e.drone.dimensions.width,droneDimensionsHeight:e.drone.dimensions.height,droneMaterials:e.drone.materials,dronePayloads:e.drone.payloads,dronePropulsionType:e.drone.propulsionType,droneFuelType:e.drone.fuelType,droneModifications:e.drone.modifications,droneGroundStation:e.drone.groundStation,droneLocationMeans:e.drone.locationMeans,droneMaxWindSpeedTakeoff:e.drone.environmentalLimitations.maxWindSpeedTakeoff,droneMaxGustSpeed:e.drone.environmentalLimitations.maxGustSpeed,droneMinTemperature:e.drone.environmentalLimitations.minTemperature,droneMaxTemperature:e.drone.environmentalLimitations.maxTemperature,droneVisibility:e.drone.environmentalLimitations.visibility,droneIpRating:e.drone.environmentalLimitations.ipRating,droneOtherLimitations:e.drone.environmentalLimitations.otherLimitations,operationOperationType:e.operation.operationType,operationVisualObserversCount:e.operation.visualObserversCount,operationDangerousGoods:e.operation.dangerousGoods,operationMaxOperationHeight:e.operation.maxOperationHeight,operationDayNightOperation:e.operation.dayNightOperation,operationOperationStartTime:e.operation.operationStartTime,operationOperationEndTime:e.operation.operationEndTime,operationMaxDistanceFromPilot:e.operation.maxDistanceFromPilot,operationConfinementLevel:e.operation.confinementLevel,operationPilotCompetency:e.operation.pilotCompetency,operationOtherPersonnelCompetency:e.operation.otherPersonnelCompetency,operationReportableEvents:e.operation.reportableEvents,riskAssessmentAssessmentTypeHauteurVol:e.riskAssessment.assessmentTypeHauteurVol,riskAssessmentAssessmentCriticalArea:e.riskAssessment.assessmentCriticalArea,riskAssessmentCriticalAreaValue:e.riskAssessment.CriticalArea,riskAssessmentFollowTerrainHeight:e.riskAssessment.followTerrainHeight,riskAssessmentPopulationDensityModulation:e.riskAssessment.PopulationDensityModulation,riskAssessmentAssessmentStartTime:e.riskAssessment.assessmentStartTime,riskAssessmentIntrinsicGroundRisk:e.riskAssessment.intrinsicGroundRisk,riskAssessmentFinalGroundRisk:e.riskAssessment.finalGroundRisk,riskAssessmentAirRisk:e.riskAssessment.airRisk,riskAssessmentSailLevel:e.riskAssessment.sailLevel,mitigationMeasures:e.mitigationMeasures.map(r=>({id:r.id,name:r.name,description:r.description,implemented:r.implemented?"Oui":"Non",robustnessLevel:r.robustnessLevel})),osos:e.osos.map(r=>({number:r.number,description:r.description,requiredLevel:r.requiredLevel,status:r.status,evidence:r.evidence}))};L4(QO,function(r,n){if(r)throw r;const i=new T4(n),a=new DM(i,{paragraphLoop:!0,linebreaks:!0});a.setData(t);try{a.render()}catch(c){if(console.log(JSON.stringify({error:c},function(h,f){return f instanceof Error?Object.getOwnPropertyNames(f).reduce(function(g,v){return g[v]=f[v],g},{}):f})),c.properties&&c.properties.errors instanceof Array){const h=c.properties.errors.map(function(f){return f.properties.explanation}).join(`
`);console.log("errorMessages",h)}throw c}const s=a.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});P4.saveAs(s,"output.docx")})};function ib(){var h;const{formData:e,setFormData:t}=gf(),[r,n]=ve.useState("operator-info");ve.useEffect(()=>{var f,g,v;((f=e.operation)==null?void 0:f.operationStartTime)!==((g=e.riskAssessment)==null?void 0:g.assessmentStartTime)&&t({...e,riskAssessment:{...e.riskAssessment,assessmentStartTime:((v=e.operation)==null?void 0:v.operationStartTime)||""}})},[(h=e.operation)==null?void 0:h.operationStartTime]);const i=()=>{const{operator:f}=e;return f.name.trim()!==""&&f.registrationNumber.trim()!==""&&f.managerName.trim()!==""&&f.operationalContact.trim()!==""&&f.address.trim()!==""&&f.phone.trim()!==""&&f.email.trim()!==""},a=ms.find(f=>f.id===r),s=()=>{const f=ms.findIndex(g=>g.id===r);f<ms.length-1&&n(ms[f+1].id)},c=()=>{const f=ms.findIndex(g=>g.id===r);f>0&&n(ms[f-1].id)},d=()=>{switch(r){case"operator-info":return l.jsx(gj,{operator:e.operator,onChange:f=>t({...e,operator:f})});case"conops":return l.jsxs("div",{className:"space-y-8",children:[l.jsx(xj,{drone:e.drone,onChange:f=>{t({...e,drone:f,riskAssessment:{...e.riskAssessment,maxCharacteristicDimension:f.maxCharacteristicDimension,VCruise:f.VCruise,CruiseSpeed:f.CruiseSpeed,maxSpeed:f.maxSpeed,minSpeed:f.minSpeed,uasType:f.uasType,turnRate:f.turnRate,MTOW:f.MTOW,environmentalLimitations:f.environmentalLimitations}})}}),l.jsx("hr",{className:"border-gray-200 my-8"}),l.jsx(S3,{operation:e.operation,onChange:f=>{t({...e,operation:f,riskAssessment:{...e.riskAssessment,assessmentStartTime:f.operationStartTime}})}})]});case"initial-grc":return l.jsx(L3,{assessment:e.riskAssessment,onChange:f=>t({...e,riskAssessment:f}),showOnly:["intrinsicGroundRisk"]});case"final-grc":return l.jsx(I3,{assessment:e.riskAssessment,onChange:f=>t({...e,riskAssessment:f})});case"initial-arc":return l.jsx(M3,{assessment:e.riskAssessment,onChange:f=>t({...e,riskAssessment:f})});case"final-arc":return l.jsx(F3,{assessment:e.riskAssessment,onChange:f=>t({...e,riskAssessment:f})});case"tactical-mitigation":return l.jsx(B3,{assessment:e.riskAssessment,onChange:f=>t({...e,riskAssessment:f})});case"sail":return l.jsx(U3,{assessment:e.riskAssessment,onChange:f=>t({...e,riskAssessment:f})});case"oso":return l.jsx(A3,{osos:e.osos,assessment:e.riskAssessment,onChange:f=>t({...e,osos:f})});case"adjacent-areas":return l.jsx(z3,{assessment:e.riskAssessment,onChange:f=>t({...e,riskAssessment:f})});case"summary":return l.jsx($3,{formData:e});default:return null}};return l.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[l.jsx(G3,{}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.title}),l.jsx("p",{className:"mt-2 text-gray-600",children:a.description})]}),l.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[d(),l.jsxs("div",{className:"flex justify-between mt-8",children:[r!=="operator-info"&&l.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors",children:[l.jsx(HN,{className:"w-5 h-5"}),"Retour"]}),r==="operator-info"?l.jsxs("button",{onClick:s,disabled:!i(),className:"ml-auto flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Continuer",l.jsx(kp,{className:"w-5 h-5"})]}):r==="adjacent-areas"?l.jsxs("button",{onClick:s,className:"ml-auto flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:["Voir le résumé",l.jsx(kp,{className:"w-5 h-5"})]}):r==="summary"?l.jsxs("button",{onClick:()=>I4(e),className:"ml-auto flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(D2,{className:"w-5 h-5"}),"Télécharger le dossier SORA"]}):l.jsxs("button",{onClick:s,className:"ml-auto flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:["Continuer",l.jsx(kp,{className:"w-5 h-5"})]})]})]}),l.jsx(V3,{})]})}function M4(){var _,k;const[e,t]=ve.useState(""),[r,n]=ve.useState(""),[i,a]=ve.useState(""),[s,c]=ve.useState(!1),{signIn:d}=Tl(),h=El(),g=((k=(_=$o().state)==null?void 0:_.from)==null?void 0:k.pathname)||"/",v=async E=>{var j;E.preventDefault(),a(""),c(!0);try{await d(e,r),h(g,{replace:!0})}catch(x){(j=x==null?void 0:x.message)!=null&&j.includes("Email not confirmed")?a("Veuillez vérifier votre email pour confirmer votre compte avant de vous connecter"):a("Email ou mot de passe incorrect")}finally{c(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsx("div",{children:l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Connexion"})}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[i&&l.jsx("div",{className:"rounded-md bg-red-50 p-4",children:l.jsx("div",{className:"text-sm text-red-700",children:i})}),l.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:E=>t(E.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),l.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:E=>n(E.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe"})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Connexion...":"Se connecter"})}),l.jsx("div",{className:"text-sm text-center",children:l.jsx(sg,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Pas encore de compte ? S'inscrire"})})]})]})})}function F4(){const[e,t]=ve.useState(""),[r,n]=ve.useState(""),[i,a]=ve.useState(""),[s,c]=ve.useState(!1),[d,h]=ve.useState(!1),{signUp:f}=Tl();El();const g=async v=>{v.preventDefault(),a(""),c(!1),h(!0);try{await f(e,r),c(!0)}catch{a("Erreur lors de l'inscription")}finally{h(!1)}};return s?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"max-w-md w-full space-y-8",children:l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Inscription réussie !"}),l.jsxs("div",{className:"mt-4 text-center text-gray-600",children:[l.jsx("p",{children:"Un email de confirmation a été envoyé à votre adresse."}),l.jsx("p",{className:"mt-2",children:"Veuillez vérifier votre boîte de réception et confirmer votre email avant de vous connecter."})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx(sg,{to:"/login",className:"text-blue-600 hover:text-blue-500",children:"Retour à la page de connexion"})})]})})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsx("div",{children:l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Créer un compte"})}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[i&&l.jsx("div",{className:"rounded-md bg-red-50 p-4",children:l.jsx("div",{className:"text-sm text-red-700",children:i})}),l.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:v=>t(v.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),l.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:v=>n(v.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe"})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:d?"Inscription...":"S'inscrire"})}),l.jsx("div",{className:"text-sm text-center",children:l.jsx(sg,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Déjà un compte ? Se connecter"})})]})]})})}function dm({children:e}){const{user:t,loading:r}=Tl(),n=$o();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(k2,{to:"/login",state:{from:n},replace:!0})}function B4(){return l.jsx(fj,{children:l.jsx(nk,{children:l.jsx(zN,{children:l.jsxs(RN,{children:[l.jsx(_o,{path:"/login",element:l.jsx(M4,{})}),l.jsx(_o,{path:"/register",element:l.jsx(F4,{})}),l.jsx(_o,{path:"/",element:l.jsx(dm,{children:l.jsx(mj,{})})}),l.jsx(_o,{path:"/evaluation/new",element:l.jsx(dm,{children:l.jsx(ib,{})})}),l.jsx(_o,{path:"/evaluation/:id",element:l.jsx(dm,{children:l.jsx(ib,{})})}),l.jsx(_o,{path:"*",element:l.jsx(k2,{to:"/",replace:!0})})]})})})})}y2(document.getElementById("root")).render(l.jsx(ve.StrictMode,{children:l.jsx(B4,{})}));export{Sc as g};
