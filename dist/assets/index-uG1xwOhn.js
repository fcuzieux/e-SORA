function Gy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var rm={exports:{}},sa={},om={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Co=Symbol.for("react.element"),Wy=Symbol.for("react.portal"),Jy=Symbol.for("react.fragment"),Ky=Symbol.for("react.strict_mode"),Qy=Symbol.for("react.profiler"),Yy=Symbol.for("react.provider"),Xy=Symbol.for("react.context"),e_=Symbol.for("react.forward_ref"),t_=Symbol.for("react.suspense"),n_=Symbol.for("react.memo"),i_=Symbol.for("react.lazy"),kh=Symbol.iterator;function r_(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var sm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},am=Object.assign,lm={};function ur(e,t,n){this.props=e,this.context=t,this.refs=lm,this.updater=n||sm}ur.prototype.isReactComponent={};ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function um(){}um.prototype=ur.prototype;function ic(e,t,n){this.props=e,this.context=t,this.refs=lm,this.updater=n||sm}var rc=ic.prototype=new um;rc.constructor=ic;am(rc,ur.prototype);rc.isPureReactComponent=!0;var Ch=Array.isArray,cm=Object.prototype.hasOwnProperty,oc={current:null},dm={key:!0,ref:!0,__self:!0,__source:!0};function hm(e,t,n){var r,o={},a=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)cm.call(t,r)&&!dm.hasOwnProperty(r)&&(o[r]=t[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var f=Array(h),p=0;p<h;p++)f[p]=arguments[p+2];o.children=f}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:Co,type:e,key:a,ref:c,props:o,_owner:oc.current}}function o_(e,t){return{$$typeof:Co,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Co}function s_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nh=/\/+/g;function fl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s_(""+e.key):t.toString(36)}function _s(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Co:case Wy:c=!0}}if(c)return c=e,o=o(c),e=r===""?"."+fl(c,0):r,Ch(o)?(n="",e!=null&&(n=e.replace(Nh,"$&/")+"/"),_s(o,t,n,"",function(p){return p})):o!=null&&(sc(o)&&(o=o_(o,n+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(Nh,"$&/")+"/")+e)),t.push(o)),1;if(c=0,r=r===""?".":r+":",Ch(e))for(var h=0;h<e.length;h++){a=e[h];var f=r+fl(a,h);c+=_s(a,t,n,f,o)}else if(f=r_(e),typeof f=="function")for(e=f.call(e),h=0;!(a=e.next()).done;)a=a.value,f=r+fl(a,h++),c+=_s(a,t,n,f,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Yo(e,t,n){if(e==null)return e;var r=[],o=0;return _s(e,r,"","",function(a){return t.call(n,a,o++)}),r}function a_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},xs={transition:null},l_={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:xs,ReactCurrentOwner:oc};function fm(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Yo,forEach:function(e,t,n){Yo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yo(e,function(){t++}),t},toArray:function(e){return Yo(e,function(t){return t})||[]},only:function(e){if(!sc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=ur;te.Fragment=Jy;te.Profiler=Qy;te.PureComponent=ic;te.StrictMode=Ky;te.Suspense=t_;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_;te.act=fm;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=am({},e.props),o=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=oc.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(f in t)cm.call(t,f)&&!dm.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&h!==void 0?h[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){h=Array(f);for(var p=0;p<f;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:Co,type:e.type,key:o,ref:a,props:r,_owner:c}};te.createContext=function(e){return e={$$typeof:Xy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yy,_context:e},e.Consumer=e};te.createElement=hm;te.createFactory=function(e){var t=hm.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:e_,render:e}};te.isValidElement=sc;te.lazy=function(e){return{$$typeof:i_,_payload:{_status:-1,_result:e},_init:a_}};te.memo=function(e,t){return{$$typeof:n_,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=xs.transition;xs.transition={};try{e()}finally{xs.transition=t}};te.unstable_act=fm;te.useCallback=function(e,t){return Je.current.useCallback(e,t)};te.useContext=function(e){return Je.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};te.useEffect=function(e,t){return Je.current.useEffect(e,t)};te.useId=function(){return Je.current.useId()};te.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Je.current.useMemo(e,t)};te.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};te.useRef=function(e){return Je.current.useRef(e)};te.useState=function(e){return Je.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return Je.current.useTransition()};te.version="18.3.1";om.exports=te;var T=om.exports;const ro=Zy(T),u_=Gy({__proto__:null,default:ro},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_=T,d_=Symbol.for("react.element"),h_=Symbol.for("react.fragment"),f_=Object.prototype.hasOwnProperty,m_=c_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p_={key:!0,ref:!0,__self:!0,__source:!0};function mm(e,t,n){var r,o={},a=null,c=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)f_.call(t,r)&&!p_.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:d_,type:e,key:a,ref:c,props:o,_owner:m_.current}}sa.Fragment=h_;sa.jsx=mm;sa.jsxs=mm;rm.exports=sa;var l=rm.exports,pm={exports:{}},ft={},gm={exports:{}},vm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,J){var B=I.length;I.push(J);e:for(;0<B;){var W=B-1>>>1,re=I[W];if(0<o(re,J))I[W]=J,I[B]=re,B=W;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var J=I[0],B=I.pop();if(B!==J){I[0]=B;e:for(var W=0,re=I.length,Le=re>>>1;W<Le;){var de=2*(W+1)-1,se=I[de],K=de+1,Qe=I[K];if(0>o(se,B))K<re&&0>o(Qe,se)?(I[W]=Qe,I[K]=B,W=K):(I[W]=se,I[de]=B,W=de);else if(K<re&&0>o(Qe,B))I[W]=Qe,I[K]=B,W=K;else break e}}return J}function o(I,J){var B=I.sortIndex-J.sortIndex;return B!==0?B:I.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var f=[],p=[],g=1,y=null,_=3,k=!1,P=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(I){for(var J=n(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=I)r(p),J.sortIndex=J.expirationTime,t(f,J);else break;J=n(p)}}function A(I){if(C=!1,j(I),!P)if(n(f)!==null)P=!0,Me(R);else{var J=n(p);J!==null&&Kt(A,J.startTime-I)}}function R(I,J){P=!1,C&&(C=!1,w(F),F=-1),k=!0;var B=_;try{for(j(J),y=n(f);y!==null&&(!(y.expirationTime>J)||I&&!le());){var W=y.callback;if(typeof W=="function"){y.callback=null,_=y.priorityLevel;var re=W(y.expirationTime<=J);J=e.unstable_now(),typeof re=="function"?y.callback=re:y===n(f)&&r(f),j(J)}else r(f);y=n(f)}if(y!==null)var Le=!0;else{var de=n(p);de!==null&&Kt(A,de.startTime-J),Le=!1}return Le}finally{y=null,_=B,k=!1}}var U=!1,x=null,F=-1,G=5,Z=-1;function le(){return!(e.unstable_now()-Z<G)}function ue(){if(x!==null){var I=e.unstable_now();Z=I;var J=!0;try{J=x(!0,I)}finally{J?gt():(U=!1,x=null)}}else U=!1}var gt;if(typeof b=="function")gt=function(){b(ue)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,yr=Ve.port2;Ve.port1.onmessage=ue,gt=function(){yr.postMessage(null)}}else gt=function(){O(ue,0)};function Me(I){x=I,U||(U=!0,gt())}function Kt(I,J){F=O(function(){I(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){P||k||(P=!0,Me(R))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(I){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var B=_;_=J;try{return I()}finally{_=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,J){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=_;_=I;try{return J()}finally{_=B}},e.unstable_scheduleCallback=function(I,J,B){var W=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,I){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=B+re,I={id:g++,callback:J,priorityLevel:I,startTime:B,expirationTime:re,sortIndex:-1},B>W?(I.sortIndex=B,t(p,I),n(f)===null&&I===n(p)&&(C?(w(F),F=-1):C=!0,Kt(A,B-W))):(I.sortIndex=re,t(f,I),P||k||(P=!0,Me(R))),I},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(I){var J=_;return function(){var B=_;_=J;try{return I.apply(this,arguments)}finally{_=B}}}})(vm);gm.exports=vm;var g_=gm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_=T,dt=g_;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ym=new Set,oo={};function di(e,t){Yi(e,t),Yi(e+"Capture",t)}function Yi(e,t){for(oo[e]=t,e=0;e<t.length;e++)ym.add(t[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=Object.prototype.hasOwnProperty,y_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ph={},Lh={};function __(e){return Wl.call(Lh,e)?!0:Wl.call(Ph,e)?!1:y_.test(e)?Lh[e]=!0:(Ph[e]=!0,!1)}function x_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b_(e,t,n,r){if(t===null||typeof t>"u"||x_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,o,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var ac=/[\-:]([a-z])/g;function lc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ac,lc);Be[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ac,lc);Be[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ac,lc);Be[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function uc(e,t,n,r){var o=Be.hasOwnProperty(t)?Be[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b_(t,n,o,r)&&(n=null),r||o===null?__(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hn=v_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),cc=Symbol.for("react.strict_mode"),Jl=Symbol.for("react.profiler"),_m=Symbol.for("react.provider"),xm=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),Kl=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),hc=Symbol.for("react.memo"),_n=Symbol.for("react.lazy"),bm=Symbol.for("react.offscreen"),Th=Symbol.iterator;function Or(e){return e===null||typeof e!="object"?null:(e=Th&&e[Th]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,ml;function Ur(e){if(ml===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ml=t&&t[1]||""}return`
`+ml+e}var pl=!1;function gl(e,t){if(!e||pl)return"";pl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=r.stack.split(`
`),c=o.length-1,h=a.length-1;1<=c&&0<=h&&o[c]!==a[h];)h--;for(;1<=c&&0<=h;c--,h--)if(o[c]!==a[h]){if(c!==1||h!==1)do if(c--,h--,0>h||o[c]!==a[h]){var f=`
`+o[c].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=c&&0<=h);break}}}finally{pl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ur(e):""}function w_(e){switch(e.tag){case 5:return Ur(e.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return e=gl(e.type,!1),e;case 11:return e=gl(e.type.render,!1),e;case 1:return e=gl(e.type,!0),e;default:return""}}function Yl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ri:return"Fragment";case Oi:return"Portal";case Jl:return"Profiler";case cc:return"StrictMode";case Kl:return"Suspense";case Ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xm:return(e.displayName||"Context")+".Consumer";case _m:return(e._context.displayName||"Context")+".Provider";case dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hc:return t=e.displayName||null,t!==null?t:Yl(e.type)||"Memo";case _n:t=e._payload,e=e._init;try{return Yl(e(t))}catch{}}return null}function S_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yl(t);case 8:return t===cc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function j_(e){var t=wm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(c){r=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function es(e){e._valueTracker||(e._valueTracker=j_(e))}function Sm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function As(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xl(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Eh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jm(e,t){t=t.checked,t!=null&&uc(e,"checked",t,!1)}function eu(e,t){jm(e,t);var n=zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tu(e,t.type,n):t.hasOwnProperty("defaultValue")&&tu(e,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ah(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tu(e,t,n){(t!=="number"||As(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $r=Array.isArray;function Gi(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function nu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if($r(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zn(n)}}function km(e,t){var n=zn(t.value),r=zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ts,Nm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function so(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k_=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){k_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qr[t]=qr[e]})});function Pm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qr.hasOwnProperty(e)&&qr[e]?(""+t).trim():t+"px"}function Lm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Pm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var C_=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ru(e,t){if(t){if(C_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function ou(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=null;function fc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var au=null,Zi=null,qi=null;function Ih(e){if(e=Lo(e)){if(typeof au!="function")throw Error(D(280));var t=e.stateNode;t&&(t=da(t),au(e.stateNode,e.type,t))}}function Tm(e){Zi?qi?qi.push(e):qi=[e]:Zi=e}function Em(){if(Zi){var e=Zi,t=qi;if(qi=Zi=null,Ih(e),t)for(e=0;e<t.length;e++)Ih(t[e])}}function Am(e,t){return e(t)}function Om(){}var vl=!1;function Rm(e,t,n){if(vl)return e(t,n);vl=!0;try{return Am(e,t,n)}finally{vl=!1,(Zi!==null||qi!==null)&&(Om(),Em())}}function ao(e,t){var n=e.stateNode;if(n===null)return null;var r=da(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var lu=!1;if(ln)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){lu=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{lu=!1}function N_(e,t,n,r,o,a,c,h,f){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(g){this.onError(g)}}var Wr=!1,Os=null,Rs=!1,uu=null,P_={onError:function(e){Wr=!0,Os=e}};function L_(e,t,n,r,o,a,c,h,f){Wr=!1,Os=null,N_.apply(P_,arguments)}function T_(e,t,n,r,o,a,c,h,f){if(L_.apply(this,arguments),Wr){if(Wr){var p=Os;Wr=!1,Os=null}else throw Error(D(198));Rs||(Rs=!0,uu=p)}}function hi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Im(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mh(e){if(hi(e)!==e)throw Error(D(188))}function E_(e){var t=e.alternate;if(!t){if(t=hi(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Mh(o),e;if(a===r)return Mh(o),t;a=a.sibling}throw Error(D(188))}if(n.return!==r.return)n=o,r=a;else{for(var c=!1,h=o.child;h;){if(h===n){c=!0,n=o,r=a;break}if(h===r){c=!0,r=o,n=a;break}h=h.sibling}if(!c){for(h=a.child;h;){if(h===n){c=!0,n=a,r=o;break}if(h===r){c=!0,r=a,n=o;break}h=h.sibling}if(!c)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Mm(e){return e=E_(e),e!==null?zm(e):null}function zm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zm(e);if(t!==null)return t;e=e.sibling}return null}var Dm=dt.unstable_scheduleCallback,zh=dt.unstable_cancelCallback,A_=dt.unstable_shouldYield,O_=dt.unstable_requestPaint,je=dt.unstable_now,R_=dt.unstable_getCurrentPriorityLevel,mc=dt.unstable_ImmediatePriority,Fm=dt.unstable_UserBlockingPriority,Is=dt.unstable_NormalPriority,I_=dt.unstable_LowPriority,Bm=dt.unstable_IdlePriority,aa=null,Zt=null;function M_(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(aa,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:F_,z_=Math.log,D_=Math.LN2;function F_(e){return e>>>=0,e===0?32:31-(z_(e)/D_|0)|0}var ns=64,is=4194304;function Hr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,c=n&268435455;if(c!==0){var h=c&~o;h!==0?r=Hr(h):(a&=c,a!==0&&(r=Hr(a)))}else c=n&~o,c!==0?r=Hr(c):a!==0&&(r=Hr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rt(t),o=1<<n,r|=e[n],t&=~o;return r}function B_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-Rt(a),h=1<<c,f=o[c];f===-1?(!(h&n)||h&r)&&(o[c]=B_(h,t)):f<=t&&(e.expiredLanes|=h),a&=~h}}function cu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vm(){var e=ns;return ns<<=1,!(ns&4194240)&&(ns=64),e}function yl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function No(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=n}function U_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Rt(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function pc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ce=0;function Um(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $m,gc,Hm,Gm,Zm,du=!1,rs=[],Pn=null,Ln=null,Tn=null,lo=new Map,uo=new Map,wn=[],$_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dh(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(t.pointerId)}}function Ir(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Lo(t),t!==null&&gc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function H_(e,t,n,r,o){switch(t){case"focusin":return Pn=Ir(Pn,e,t,n,r,o),!0;case"dragenter":return Ln=Ir(Ln,e,t,n,r,o),!0;case"mouseover":return Tn=Ir(Tn,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return lo.set(a,Ir(lo.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,uo.set(a,Ir(uo.get(a)||null,e,t,n,r,o)),!0}return!1}function qm(e){var t=ti(e.target);if(t!==null){var n=hi(t);if(n!==null){if(t=n.tag,t===13){if(t=Im(n),t!==null){e.blockedOn=t,Zm(e.priority,function(){Hm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);su=r,n.target.dispatchEvent(r),su=null}else return t=Lo(n),t!==null&&gc(t),e.blockedOn=n,!1;t.shift()}return!0}function Fh(e,t,n){bs(e)&&n.delete(t)}function G_(){du=!1,Pn!==null&&bs(Pn)&&(Pn=null),Ln!==null&&bs(Ln)&&(Ln=null),Tn!==null&&bs(Tn)&&(Tn=null),lo.forEach(Fh),uo.forEach(Fh)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,du||(du=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,G_)))}function co(e){function t(o){return Mr(o,e)}if(0<rs.length){Mr(rs[0],e);for(var n=1;n<rs.length;n++){var r=rs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pn!==null&&Mr(Pn,e),Ln!==null&&Mr(Ln,e),Tn!==null&&Mr(Tn,e),lo.forEach(t),uo.forEach(t),n=0;n<wn.length;n++)r=wn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)qm(n),n.blockedOn===null&&wn.shift()}var Wi=hn.ReactCurrentBatchConfig,zs=!0;function Z_(e,t,n,r){var o=ce,a=Wi.transition;Wi.transition=null;try{ce=1,vc(e,t,n,r)}finally{ce=o,Wi.transition=a}}function q_(e,t,n,r){var o=ce,a=Wi.transition;Wi.transition=null;try{ce=4,vc(e,t,n,r)}finally{ce=o,Wi.transition=a}}function vc(e,t,n,r){if(zs){var o=hu(e,t,n,r);if(o===null)Pl(e,t,r,Ds,n),Dh(e,r);else if(H_(o,e,t,n,r))r.stopPropagation();else if(Dh(e,r),t&4&&-1<$_.indexOf(e)){for(;o!==null;){var a=Lo(o);if(a!==null&&$m(a),a=hu(e,t,n,r),a===null&&Pl(e,t,r,Ds,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Pl(e,t,r,null,n)}}var Ds=null;function hu(e,t,n,r){if(Ds=null,e=fc(r),e=ti(e),e!==null)if(t=hi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Im(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ds=e,null}function Wm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R_()){case mc:return 1;case Fm:return 4;case Is:case I_:return 16;case Bm:return 536870912;default:return 16}default:return 16}}var kn=null,yc=null,ws=null;function Jm(){if(ws)return ws;var e,t=yc,n=t.length,r,o="value"in kn?kn.value:kn.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===o[a-r];r++);return ws=o.slice(e,1<r?1-r:void 0)}function Ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function os(){return!0}function Bh(){return!1}function mt(e){function t(n,r,o,a,c){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?os:Bh,this.isPropagationStopped=Bh,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),t}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=mt(cr),Po=be({},cr,{view:0,detail:0}),W_=mt(Po),_l,xl,zr,la=be({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zr&&(zr&&e.type==="mousemove"?(_l=e.screenX-zr.screenX,xl=e.screenY-zr.screenY):xl=_l=0,zr=e),_l)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),Vh=mt(la),J_=be({},la,{dataTransfer:0}),K_=mt(J_),Q_=be({},Po,{relatedTarget:0}),bl=mt(Q_),Y_=be({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),X_=mt(Y_),e0=be({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t0=mt(e0),n0=be({},cr,{data:0}),Uh=mt(n0),i0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o0[e])?!!t[e]:!1}function xc(){return s0}var a0=be({},Po,{key:function(e){if(e.key){var t=i0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l0=mt(a0),u0=be({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$h=mt(u0),c0=be({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),d0=mt(c0),h0=be({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),f0=mt(h0),m0=be({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p0=mt(m0),g0=[9,13,27,32],bc=ln&&"CompositionEvent"in window,Jr=null;ln&&"documentMode"in document&&(Jr=document.documentMode);var v0=ln&&"TextEvent"in window&&!Jr,Km=ln&&(!bc||Jr&&8<Jr&&11>=Jr),Hh=" ",Gh=!1;function Qm(e,t){switch(e){case"keyup":return g0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function y0(e,t){switch(e){case"compositionend":return Ym(t);case"keypress":return t.which!==32?null:(Gh=!0,Hh);case"textInput":return e=t.data,e===Hh&&Gh?null:e;default:return null}}function _0(e,t){if(Ii)return e==="compositionend"||!bc&&Qm(e,t)?(e=Jm(),ws=yc=kn=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Km&&t.locale!=="ko"?null:t.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x0[e.type]:t==="textarea"}function Xm(e,t,n,r){Tm(r),t=Fs(t,"onChange"),0<t.length&&(n=new _c("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kr=null,ho=null;function b0(e){cp(e,0)}function ua(e){var t=Di(e);if(Sm(t))return e}function w0(e,t){if(e==="change")return t}var ep=!1;if(ln){var wl;if(ln){var Sl="oninput"in document;if(!Sl){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),Sl=typeof qh.oninput=="function"}wl=Sl}else wl=!1;ep=wl&&(!document.documentMode||9<document.documentMode)}function Wh(){Kr&&(Kr.detachEvent("onpropertychange",tp),ho=Kr=null)}function tp(e){if(e.propertyName==="value"&&ua(ho)){var t=[];Xm(t,ho,e,fc(e)),Rm(b0,t)}}function S0(e,t,n){e==="focusin"?(Wh(),Kr=t,ho=n,Kr.attachEvent("onpropertychange",tp)):e==="focusout"&&Wh()}function j0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ua(ho)}function k0(e,t){if(e==="click")return ua(t)}function C0(e,t){if(e==="input"||e==="change")return ua(t)}function N0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:N0;function fo(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Wl.call(t,o)||!Mt(e[o],t[o]))return!1}return!0}function Jh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kh(e,t){var n=Jh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jh(n)}}function np(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?np(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ip(){for(var e=window,t=As();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=As(e.document)}return t}function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function P0(e){var t=ip(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&np(n.ownerDocument.documentElement,n)){if(r!==null&&wc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=Kh(n,a);var c=Kh(n,r);o&&c&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L0=ln&&"documentMode"in document&&11>=document.documentMode,Mi=null,fu=null,Qr=null,mu=!1;function Qh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mu||Mi==null||Mi!==As(r)||(r=Mi,"selectionStart"in r&&wc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qr&&fo(Qr,r)||(Qr=r,r=Fs(fu,"onSelect"),0<r.length&&(t=new _c("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mi)))}function ss(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zi={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionend:ss("Transition","TransitionEnd")},jl={},rp={};ln&&(rp=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function ca(e){if(jl[e])return jl[e];if(!zi[e])return e;var t=zi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rp)return jl[e]=t[n];return e}var op=ca("animationend"),sp=ca("animationiteration"),ap=ca("animationstart"),lp=ca("transitionend"),up=new Map,Yh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){up.set(e,t),di(t,[e])}for(var kl=0;kl<Yh.length;kl++){var Cl=Yh[kl],T0=Cl.toLowerCase(),E0=Cl[0].toUpperCase()+Cl.slice(1);Fn(T0,"on"+E0)}Fn(op,"onAnimationEnd");Fn(sp,"onAnimationIteration");Fn(ap,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(lp,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gr));function Xh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,T_(r,t,void 0,e),e.currentTarget=null}function cp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var c=r.length-1;0<=c;c--){var h=r[c],f=h.instance,p=h.currentTarget;if(h=h.listener,f!==a&&o.isPropagationStopped())break e;Xh(o,h,p),a=f}else for(c=0;c<r.length;c++){if(h=r[c],f=h.instance,p=h.currentTarget,h=h.listener,f!==a&&o.isPropagationStopped())break e;Xh(o,h,p),a=f}}}if(Rs)throw e=uu,Rs=!1,uu=null,e}function pe(e,t){var n=t[_u];n===void 0&&(n=t[_u]=new Set);var r=e+"__bubble";n.has(r)||(dp(t,e,2,!1),n.add(r))}function Nl(e,t,n){var r=0;t&&(r|=4),dp(n,e,r,t)}var as="_reactListening"+Math.random().toString(36).slice(2);function mo(e){if(!e[as]){e[as]=!0,ym.forEach(function(n){n!=="selectionchange"&&(A0.has(n)||Nl(n,!1,e),Nl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[as]||(t[as]=!0,Nl("selectionchange",!1,t))}}function dp(e,t,n,r){switch(Wm(t)){case 1:var o=Z_;break;case 4:o=q_;break;default:o=vc}n=o.bind(null,t,n,e),o=void 0,!lu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Pl(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(c===4)for(c=r.return;c!==null;){var f=c.tag;if((f===3||f===4)&&(f=c.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;c=c.return}for(;h!==null;){if(c=ti(h),c===null)return;if(f=c.tag,f===5||f===6){r=a=c;continue e}h=h.parentNode}}r=r.return}Rm(function(){var p=a,g=fc(n),y=[];e:{var _=up.get(e);if(_!==void 0){var k=_c,P=e;switch(e){case"keypress":if(Ss(n)===0)break e;case"keydown":case"keyup":k=l0;break;case"focusin":P="focus",k=bl;break;case"focusout":P="blur",k=bl;break;case"beforeblur":case"afterblur":k=bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=K_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=d0;break;case op:case sp:case ap:k=X_;break;case lp:k=f0;break;case"scroll":k=W_;break;case"wheel":k=p0;break;case"copy":case"cut":case"paste":k=t0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=$h}var C=(t&4)!==0,O=!C&&e==="scroll",w=C?_!==null?_+"Capture":null:_;C=[];for(var b=p,j;b!==null;){j=b;var A=j.stateNode;if(j.tag===5&&A!==null&&(j=A,w!==null&&(A=ao(b,w),A!=null&&C.push(po(b,A,j)))),O)break;b=b.return}0<C.length&&(_=new k(_,P,null,n,g),y.push({event:_,listeners:C}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",_&&n!==su&&(P=n.relatedTarget||n.fromElement)&&(ti(P)||P[un]))break e;if((k||_)&&(_=g.window===g?g:(_=g.ownerDocument)?_.defaultView||_.parentWindow:window,k?(P=n.relatedTarget||n.toElement,k=p,P=P?ti(P):null,P!==null&&(O=hi(P),P!==O||P.tag!==5&&P.tag!==6)&&(P=null)):(k=null,P=p),k!==P)){if(C=Vh,A="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(C=$h,A="onPointerLeave",w="onPointerEnter",b="pointer"),O=k==null?_:Di(k),j=P==null?_:Di(P),_=new C(A,b+"leave",k,n,g),_.target=O,_.relatedTarget=j,A=null,ti(g)===p&&(C=new C(w,b+"enter",P,n,g),C.target=j,C.relatedTarget=O,A=C),O=A,k&&P)t:{for(C=k,w=P,b=0,j=C;j;j=ki(j))b++;for(j=0,A=w;A;A=ki(A))j++;for(;0<b-j;)C=ki(C),b--;for(;0<j-b;)w=ki(w),j--;for(;b--;){if(C===w||w!==null&&C===w.alternate)break t;C=ki(C),w=ki(w)}C=null}else C=null;k!==null&&ef(y,_,k,C,!1),P!==null&&O!==null&&ef(y,O,P,C,!0)}}e:{if(_=p?Di(p):window,k=_.nodeName&&_.nodeName.toLowerCase(),k==="select"||k==="input"&&_.type==="file")var R=w0;else if(Zh(_))if(ep)R=C0;else{R=j0;var U=S0}else(k=_.nodeName)&&k.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(R=k0);if(R&&(R=R(e,p))){Xm(y,R,n,g);break e}U&&U(e,_,p),e==="focusout"&&(U=_._wrapperState)&&U.controlled&&_.type==="number"&&tu(_,"number",_.value)}switch(U=p?Di(p):window,e){case"focusin":(Zh(U)||U.contentEditable==="true")&&(Mi=U,fu=p,Qr=null);break;case"focusout":Qr=fu=Mi=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,Qh(y,n,g);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":Qh(y,n,g)}var x;if(bc)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Ii?Qm(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Km&&n.locale!=="ko"&&(Ii||F!=="onCompositionStart"?F==="onCompositionEnd"&&Ii&&(x=Jm()):(kn=g,yc="value"in kn?kn.value:kn.textContent,Ii=!0)),U=Fs(p,F),0<U.length&&(F=new Uh(F,e,null,n,g),y.push({event:F,listeners:U}),x?F.data=x:(x=Ym(n),x!==null&&(F.data=x)))),(x=v0?y0(e,n):_0(e,n))&&(p=Fs(p,"onBeforeInput"),0<p.length&&(g=new Uh("onBeforeInput","beforeinput",null,n,g),y.push({event:g,listeners:p}),g.data=x))}cp(y,t)})}function po(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fs(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=ao(e,n),a!=null&&r.unshift(po(e,a,o)),a=ao(e,t),a!=null&&r.push(po(e,a,o))),e=e.return}return r}function ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ef(e,t,n,r,o){for(var a=t._reactName,c=[];n!==null&&n!==r;){var h=n,f=h.alternate,p=h.stateNode;if(f!==null&&f===r)break;h.tag===5&&p!==null&&(h=p,o?(f=ao(n,a),f!=null&&c.unshift(po(n,f,h))):o||(f=ao(n,a),f!=null&&c.push(po(n,f,h)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var O0=/\r\n?/g,R0=/\u0000|\uFFFD/g;function tf(e){return(typeof e=="string"?e:""+e).replace(O0,`
`).replace(R0,"")}function ls(e,t,n){if(t=tf(t),tf(e)!==t&&n)throw Error(D(425))}function Bs(){}var pu=null,gu=null;function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,I0=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(e){return nf.resolve(null).then(e).catch(z0)}:yu;function z0(e){setTimeout(function(){throw e})}function Ll(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),co(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);co(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+dr,go="__reactProps$"+dr,un="__reactContainer$"+dr,_u="__reactEvents$"+dr,D0="__reactListeners$"+dr,F0="__reactHandles$"+dr;function ti(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[un]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rf(e);e!==null;){if(n=e[Gt])return n;e=rf(e)}return t}e=n,n=e.parentNode}return null}function Lo(e){return e=e[Gt]||e[un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function da(e){return e[go]||null}var xu=[],Fi=-1;function Bn(e){return{current:e}}function ge(e){0>Fi||(e.current=xu[Fi],xu[Fi]=null,Fi--)}function me(e,t){Fi++,xu[Fi]=e.current,e.current=t}var Dn={},Ge=Bn(Dn),it=Bn(!1),si=Dn;function Xi(e,t){var n=e.type.contextTypes;if(!n)return Dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function rt(e){return e=e.childContextTypes,e!=null}function Vs(){ge(it),ge(Ge)}function of(e,t,n){if(Ge.current!==Dn)throw Error(D(168));me(Ge,t),me(it,n)}function hp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(D(108,S_(e)||"Unknown",o));return be({},n,r)}function Us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,si=Ge.current,me(Ge,e),me(it,it.current),!0}function sf(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=hp(e,t,si),r.__reactInternalMemoizedMergedChildContext=e,ge(it),ge(Ge),me(Ge,e)):ge(it),me(it,n)}var rn=null,ha=!1,Tl=!1;function fp(e){rn===null?rn=[e]:rn.push(e)}function B0(e){ha=!0,fp(e)}function Vn(){if(!Tl&&rn!==null){Tl=!0;var e=0,t=ce;try{var n=rn;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,ha=!1}catch(o){throw rn!==null&&(rn=rn.slice(e+1)),Dm(mc,Vn),o}finally{ce=t,Tl=!1}}return null}var Bi=[],Vi=0,$s=null,Hs=0,xt=[],bt=0,ai=null,on=1,sn="";function Kn(e,t){Bi[Vi++]=Hs,Bi[Vi++]=$s,$s=e,Hs=t}function mp(e,t,n){xt[bt++]=on,xt[bt++]=sn,xt[bt++]=ai,ai=e;var r=on;e=sn;var o=32-Rt(r)-1;r&=~(1<<o),n+=1;var a=32-Rt(t)+o;if(30<a){var c=o-o%5;a=(r&(1<<c)-1).toString(32),r>>=c,o-=c,on=1<<32-Rt(t)+o|n<<o|r,sn=a+e}else on=1<<a|n<<o|r,sn=e}function Sc(e){e.return!==null&&(Kn(e,1),mp(e,1,0))}function jc(e){for(;e===$s;)$s=Bi[--Vi],Bi[Vi]=null,Hs=Bi[--Vi],Bi[Vi]=null;for(;e===ai;)ai=xt[--bt],xt[bt]=null,sn=xt[--bt],xt[bt]=null,on=xt[--bt],xt[bt]=null}var ut=null,lt=null,ve=!1,At=null;function pp(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function af(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,lt=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ai!==null?{id:on,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,lt=null,!0):!1;default:return!1}}function bu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wu(e){if(ve){var t=lt;if(t){var n=t;if(!af(e,t)){if(bu(e))throw Error(D(418));t=En(n.nextSibling);var r=ut;t&&af(e,t)?pp(r,n):(e.flags=e.flags&-4097|2,ve=!1,ut=e)}}else{if(bu(e))throw Error(D(418));e.flags=e.flags&-4097|2,ve=!1,ut=e}}}function lf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function us(e){if(e!==ut)return!1;if(!ve)return lf(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vu(e.type,e.memoizedProps)),t&&(t=lt)){if(bu(e))throw gp(),Error(D(418));for(;t;)pp(e,t),t=En(t.nextSibling)}if(lf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){lt=En(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=ut?En(e.stateNode.nextSibling):null;return!0}function gp(){for(var e=lt;e;)e=En(e.nextSibling)}function er(){lt=ut=null,ve=!1}function kc(e){At===null?At=[e]:At.push(e)}var V0=hn.ReactCurrentBatchConfig;function Dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var h=o.refs;c===null?delete h[a]:h[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function cs(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uf(e){var t=e._init;return t(e._payload)}function vp(e){function t(w,b){if(e){var j=w.deletions;j===null?(w.deletions=[b],w.flags|=16):j.push(b)}}function n(w,b){if(!e)return null;for(;b!==null;)t(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function o(w,b){return w=In(w,b),w.index=0,w.sibling=null,w}function a(w,b,j){return w.index=j,e?(j=w.alternate,j!==null?(j=j.index,j<b?(w.flags|=2,b):j):(w.flags|=2,b)):(w.flags|=1048576,b)}function c(w){return e&&w.alternate===null&&(w.flags|=2),w}function h(w,b,j,A){return b===null||b.tag!==6?(b=zl(j,w.mode,A),b.return=w,b):(b=o(b,j),b.return=w,b)}function f(w,b,j,A){var R=j.type;return R===Ri?g(w,b,j.props.children,A,j.key):b!==null&&(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===_n&&uf(R)===b.type)?(A=o(b,j.props),A.ref=Dr(w,b,j),A.return=w,A):(A=Ts(j.type,j.key,j.props,null,w.mode,A),A.ref=Dr(w,b,j),A.return=w,A)}function p(w,b,j,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=Dl(j,w.mode,A),b.return=w,b):(b=o(b,j.children||[]),b.return=w,b)}function g(w,b,j,A,R){return b===null||b.tag!==7?(b=oi(j,w.mode,A,R),b.return=w,b):(b=o(b,j),b.return=w,b)}function y(w,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=zl(""+b,w.mode,j),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xo:return j=Ts(b.type,b.key,b.props,null,w.mode,j),j.ref=Dr(w,null,b),j.return=w,j;case Oi:return b=Dl(b,w.mode,j),b.return=w,b;case _n:var A=b._init;return y(w,A(b._payload),j)}if($r(b)||Or(b))return b=oi(b,w.mode,j,null),b.return=w,b;cs(w,b)}return null}function _(w,b,j,A){var R=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return R!==null?null:h(w,b,""+j,A);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Xo:return j.key===R?f(w,b,j,A):null;case Oi:return j.key===R?p(w,b,j,A):null;case _n:return R=j._init,_(w,b,R(j._payload),A)}if($r(j)||Or(j))return R!==null?null:g(w,b,j,A,null);cs(w,j)}return null}function k(w,b,j,A,R){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(j)||null,h(b,w,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Xo:return w=w.get(A.key===null?j:A.key)||null,f(b,w,A,R);case Oi:return w=w.get(A.key===null?j:A.key)||null,p(b,w,A,R);case _n:var U=A._init;return k(w,b,j,U(A._payload),R)}if($r(A)||Or(A))return w=w.get(j)||null,g(b,w,A,R,null);cs(b,A)}return null}function P(w,b,j,A){for(var R=null,U=null,x=b,F=b=0,G=null;x!==null&&F<j.length;F++){x.index>F?(G=x,x=null):G=x.sibling;var Z=_(w,x,j[F],A);if(Z===null){x===null&&(x=G);break}e&&x&&Z.alternate===null&&t(w,x),b=a(Z,b,F),U===null?R=Z:U.sibling=Z,U=Z,x=G}if(F===j.length)return n(w,x),ve&&Kn(w,F),R;if(x===null){for(;F<j.length;F++)x=y(w,j[F],A),x!==null&&(b=a(x,b,F),U===null?R=x:U.sibling=x,U=x);return ve&&Kn(w,F),R}for(x=r(w,x);F<j.length;F++)G=k(x,w,F,j[F],A),G!==null&&(e&&G.alternate!==null&&x.delete(G.key===null?F:G.key),b=a(G,b,F),U===null?R=G:U.sibling=G,U=G);return e&&x.forEach(function(le){return t(w,le)}),ve&&Kn(w,F),R}function C(w,b,j,A){var R=Or(j);if(typeof R!="function")throw Error(D(150));if(j=R.call(j),j==null)throw Error(D(151));for(var U=R=null,x=b,F=b=0,G=null,Z=j.next();x!==null&&!Z.done;F++,Z=j.next()){x.index>F?(G=x,x=null):G=x.sibling;var le=_(w,x,Z.value,A);if(le===null){x===null&&(x=G);break}e&&x&&le.alternate===null&&t(w,x),b=a(le,b,F),U===null?R=le:U.sibling=le,U=le,x=G}if(Z.done)return n(w,x),ve&&Kn(w,F),R;if(x===null){for(;!Z.done;F++,Z=j.next())Z=y(w,Z.value,A),Z!==null&&(b=a(Z,b,F),U===null?R=Z:U.sibling=Z,U=Z);return ve&&Kn(w,F),R}for(x=r(w,x);!Z.done;F++,Z=j.next())Z=k(x,w,F,Z.value,A),Z!==null&&(e&&Z.alternate!==null&&x.delete(Z.key===null?F:Z.key),b=a(Z,b,F),U===null?R=Z:U.sibling=Z,U=Z);return e&&x.forEach(function(ue){return t(w,ue)}),ve&&Kn(w,F),R}function O(w,b,j,A){if(typeof j=="object"&&j!==null&&j.type===Ri&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Xo:e:{for(var R=j.key,U=b;U!==null;){if(U.key===R){if(R=j.type,R===Ri){if(U.tag===7){n(w,U.sibling),b=o(U,j.props.children),b.return=w,w=b;break e}}else if(U.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===_n&&uf(R)===U.type){n(w,U.sibling),b=o(U,j.props),b.ref=Dr(w,U,j),b.return=w,w=b;break e}n(w,U);break}else t(w,U);U=U.sibling}j.type===Ri?(b=oi(j.props.children,w.mode,A,j.key),b.return=w,w=b):(A=Ts(j.type,j.key,j.props,null,w.mode,A),A.ref=Dr(w,b,j),A.return=w,w=A)}return c(w);case Oi:e:{for(U=j.key;b!==null;){if(b.key===U)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){n(w,b.sibling),b=o(b,j.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else t(w,b);b=b.sibling}b=Dl(j,w.mode,A),b.return=w,w=b}return c(w);case _n:return U=j._init,O(w,b,U(j._payload),A)}if($r(j))return P(w,b,j,A);if(Or(j))return C(w,b,j,A);cs(w,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(n(w,b.sibling),b=o(b,j),b.return=w,w=b):(n(w,b),b=zl(j,w.mode,A),b.return=w,w=b),c(w)):n(w,b)}return O}var tr=vp(!0),yp=vp(!1),Gs=Bn(null),Zs=null,Ui=null,Cc=null;function Nc(){Cc=Ui=Zs=null}function Pc(e){var t=Gs.current;ge(Gs),e._currentValue=t}function Su(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Zs=e,Cc=Ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Cc!==e)if(e={context:e,memoizedValue:t,next:null},Ui===null){if(Zs===null)throw Error(D(308));Ui=e,Zs.dependencies={lanes:0,firstContext:e}}else Ui=Ui.next=e;return t}var ni=null;function Lc(e){ni===null?ni=[e]:ni.push(e)}function _p(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Lc(t)):(n.next=o.next,o.next=n),t.interleaved=n,cn(e,r)}function cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xn=!1;function Tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,cn(e,n)}return o=r.interleaved,o===null?(t.next=t,Lc(r)):(t.next=o.next,o.next=t),r.interleaved=t,cn(e,n)}function js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pc(e,n)}}function cf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=c:a=a.next=c,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var o=e.updateQueue;xn=!1;var a=o.firstBaseUpdate,c=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var f=h,p=f.next;f.next=null,c===null?a=p:c.next=p,c=f;var g=e.alternate;g!==null&&(g=g.updateQueue,h=g.lastBaseUpdate,h!==c&&(h===null?g.firstBaseUpdate=p:h.next=p,g.lastBaseUpdate=f))}if(a!==null){var y=o.baseState;c=0,g=p=f=null,h=a;do{var _=h.lane,k=h.eventTime;if((r&_)===_){g!==null&&(g=g.next={eventTime:k,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var P=e,C=h;switch(_=t,k=n,C.tag){case 1:if(P=C.payload,typeof P=="function"){y=P.call(k,y,_);break e}y=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=C.payload,_=typeof P=="function"?P.call(k,y,_):P,_==null)break e;y=be({},y,_);break e;case 2:xn=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,_=o.effects,_===null?o.effects=[h]:_.push(h))}else k={eventTime:k,lane:_,tag:h.tag,payload:h.payload,callback:h.callback,next:null},g===null?(p=g=k,f=y):g=g.next=k,c|=_;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;_=h,h=_.next,_.next=null,o.lastBaseUpdate=_,o.shared.pending=null}}while(!0);if(g===null&&(f=y),o.baseState=f,o.firstBaseUpdate=p,o.lastBaseUpdate=g,t=o.shared.interleaved,t!==null){o=t;do c|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);ui|=c,e.lanes=c,e.memoizedState=y}}function df(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(D(191,o));o.call(r)}}}var To={},qt=Bn(To),vo=Bn(To),yo=Bn(To);function ii(e){if(e===To)throw Error(D(174));return e}function Ec(e,t){switch(me(yo,t),me(vo,e),me(qt,To),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iu(t,e)}ge(qt),me(qt,t)}function nr(){ge(qt),ge(vo),ge(yo)}function bp(e){ii(yo.current);var t=ii(qt.current),n=iu(t,e.type);t!==n&&(me(vo,e),me(qt,n))}function Ac(e){vo.current===e&&(ge(qt),ge(vo))}var _e=Bn(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=[];function Oc(){for(var e=0;e<El.length;e++)El[e]._workInProgressVersionPrimary=null;El.length=0}var ks=hn.ReactCurrentDispatcher,Al=hn.ReactCurrentBatchConfig,li=0,xe=null,Te=null,Re=null,Js=!1,Yr=!1,_o=0,U0=0;function Ue(){throw Error(D(321))}function Rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}function Ic(e,t,n,r,o,a){if(li=a,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ks.current=e===null||e.memoizedState===null?Z0:q0,e=n(r,o),Yr){a=0;do{if(Yr=!1,_o=0,25<=a)throw Error(D(301));a+=1,Re=Te=null,t.updateQueue=null,ks.current=W0,e=n(r,o)}while(Yr)}if(ks.current=Ks,t=Te!==null&&Te.next!==null,li=0,Re=Te=xe=null,Js=!1,t)throw Error(D(300));return e}function Mc(){var e=_o!==0;return _o=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?xe.memoizedState=Re=e:Re=Re.next=e,Re}function kt(){if(Te===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Re===null?xe.memoizedState:Re.next;if(t!==null)Re=t,Te=e;else{if(e===null)throw Error(D(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Re===null?xe.memoizedState=Re=e:Re=Re.next=e}return Re}function xo(e,t){return typeof t=="function"?t(e):t}function Ol(e){var t=kt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Te,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var c=o.next;o.next=a.next,a.next=c}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var h=c=null,f=null,p=a;do{var g=p.lane;if((li&g)===g)f!==null&&(f=f.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var y={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};f===null?(h=f=y,c=r):f=f.next=y,xe.lanes|=g,ui|=g}p=p.next}while(p!==null&&p!==a);f===null?c=r:f.next=h,Mt(r,t.memoizedState)||(nt=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,xe.lanes|=a,ui|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rl(e){var t=kt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var c=o=o.next;do a=e(a,c.action),c=c.next;while(c!==o);Mt(a,t.memoizedState)||(nt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function wp(){}function Sp(e,t){var n=xe,r=kt(),o=t(),a=!Mt(r.memoizedState,o);if(a&&(r.memoizedState=o,nt=!0),r=r.queue,zc(Cp.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,bo(9,kp.bind(null,n,r,o,t),void 0,null),Ie===null)throw Error(D(349));li&30||jp(n,t,o)}return o}function jp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kp(e,t,n,r){t.value=n,t.getSnapshot=r,Np(t)&&Pp(e)}function Cp(e,t,n){return n(function(){Np(t)&&Pp(e)})}function Np(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mt(e,n)}catch{return!0}}function Pp(e){var t=cn(e,1);t!==null&&It(t,e,1,-1)}function hf(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=G0.bind(null,xe,e),[t.memoizedState,e]}function bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lp(){return kt().memoizedState}function Cs(e,t,n,r){var o=Ht();xe.flags|=e,o.memoizedState=bo(1|t,n,void 0,r===void 0?null:r)}function fa(e,t,n,r){var o=kt();r=r===void 0?null:r;var a=void 0;if(Te!==null){var c=Te.memoizedState;if(a=c.destroy,r!==null&&Rc(r,c.deps)){o.memoizedState=bo(t,n,a,r);return}}xe.flags|=e,o.memoizedState=bo(1|t,n,a,r)}function ff(e,t){return Cs(8390656,8,e,t)}function zc(e,t){return fa(2048,8,e,t)}function Tp(e,t){return fa(4,2,e,t)}function Ep(e,t){return fa(4,4,e,t)}function Ap(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Op(e,t,n){return n=n!=null?n.concat([e]):null,fa(4,4,Ap.bind(null,t,e),n)}function Dc(){}function Rp(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ip(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mp(e,t,n){return li&21?(Mt(n,t)||(n=Vm(),xe.lanes|=n,ui|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n)}function $0(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=Al.transition;Al.transition={};try{e(!1),t()}finally{ce=n,Al.transition=r}}function zp(){return kt().memoizedState}function H0(e,t,n){var r=Rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Dp(e))Fp(t,n);else if(n=_p(e,t,n,r),n!==null){var o=We();It(n,e,r,o),Bp(n,t,r)}}function G0(e,t,n){var r=Rn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dp(e))Fp(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,h=a(c,n);if(o.hasEagerState=!0,o.eagerState=h,Mt(h,c)){var f=t.interleaved;f===null?(o.next=o,Lc(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}n=_p(e,t,o,r),n!==null&&(o=We(),It(n,e,r,o),Bp(n,t,r))}}function Dp(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Fp(e,t){Yr=Js=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pc(e,n)}}var Ks={readContext:jt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},Z0={readContext:jt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:ff,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cs(4194308,4,Ap.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=H0.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:hf,useDebugValue:Dc,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=hf(!1),t=e[0];return e=$0.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,o=Ht();if(ve){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ie===null)throw Error(D(349));li&30||jp(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,ff(Cp.bind(null,r,a,e),[e]),r.flags|=2048,bo(9,kp.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Ie.identifierPrefix;if(ve){var n=sn,r=on;n=(r&~(1<<32-Rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_o++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=U0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},q0={readContext:jt,useCallback:Rp,useContext:jt,useEffect:zc,useImperativeHandle:Op,useInsertionEffect:Tp,useLayoutEffect:Ep,useMemo:Ip,useReducer:Ol,useRef:Lp,useState:function(){return Ol(xo)},useDebugValue:Dc,useDeferredValue:function(e){var t=kt();return Mp(t,Te.memoizedState,e)},useTransition:function(){var e=Ol(xo)[0],t=kt().memoizedState;return[e,t]},useMutableSource:wp,useSyncExternalStore:Sp,useId:zp,unstable_isNewReconciler:!1},W0={readContext:jt,useCallback:Rp,useContext:jt,useEffect:zc,useImperativeHandle:Op,useInsertionEffect:Tp,useLayoutEffect:Ep,useMemo:Ip,useReducer:Rl,useRef:Lp,useState:function(){return Rl(xo)},useDebugValue:Dc,useDeferredValue:function(e){var t=kt();return Te===null?t.memoizedState=e:Mp(t,Te.memoizedState,e)},useTransition:function(){var e=Rl(xo)[0],t=kt().memoizedState;return[e,t]},useMutableSource:wp,useSyncExternalStore:Sp,useId:zp,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ju(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return(e=e._reactInternals)?hi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=We(),o=Rn(e),a=an(r,o);a.payload=t,n!=null&&(a.callback=n),t=An(e,a,o),t!==null&&(It(t,e,o,r),js(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=We(),o=Rn(e),a=an(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=An(e,a,o),t!==null&&(It(t,e,o,r),js(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),r=Rn(e),o=an(n,r);o.tag=2,t!=null&&(o.callback=t),t=An(e,o,r),t!==null&&(It(t,e,r,n),js(t,e,r))}};function mf(e,t,n,r,o,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,c):t.prototype&&t.prototype.isPureReactComponent?!fo(n,r)||!fo(o,a):!0}function Vp(e,t,n){var r=!1,o=Dn,a=t.contextType;return typeof a=="object"&&a!==null?a=jt(a):(o=rt(t)?si:Ge.current,r=t.contextTypes,a=(r=r!=null)?Xi(e,o):Dn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function pf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ku(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Tc(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=jt(a):(a=rt(t)?si:Ge.current,o.context=Xi(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ju(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ma.enqueueReplaceState(o,o.state,null),qs(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ir(e,t){try{var n="",r=t;do n+=w_(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Il(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var J0=typeof WeakMap=="function"?WeakMap:Map;function Up(e,t,n){n=an(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Mu=r),Cu(e,t)},n}function $p(e,t,n){n=an(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Cu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Cu(e,t),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function gf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new J0;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=ux.bind(null,e,t,n),t.then(e,e))}function vf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yf(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=an(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e)}var K0=hn.ReactCurrentOwner,nt=!1;function qe(e,t,n,r){t.child=e===null?yp(t,null,n,r):tr(t,e.child,n,r)}function _f(e,t,n,r,o){n=n.render;var a=t.ref;return Ji(t,o),r=Ic(e,t,n,r,a,o),n=Mc(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,dn(e,t,o)):(ve&&n&&Sc(t),t.flags|=1,qe(e,t,r,o),t.child)}function xf(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!Zc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Hp(e,t,a,r,o)):(e=Ts(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var c=a.memoizedProps;if(n=n.compare,n=n!==null?n:fo,n(c,r)&&e.ref===t.ref)return dn(e,t,o)}return t.flags|=1,e=In(a,r),e.ref=t.ref,e.return=t,t.child=e}function Hp(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(fo(a,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,dn(e,t,o)}return Nu(e,t,n,r,o)}function Gp(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Hi,at),at|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(Hi,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,me(Hi,at),at|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,me(Hi,at),at|=r;return qe(e,t,o,n),t.child}function Zp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nu(e,t,n,r,o){var a=rt(n)?si:Ge.current;return a=Xi(t,a),Ji(t,o),n=Ic(e,t,n,r,a,o),r=Mc(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,dn(e,t,o)):(ve&&r&&Sc(t),t.flags|=1,qe(e,t,n,o),t.child)}function bf(e,t,n,r,o){if(rt(n)){var a=!0;Us(t)}else a=!1;if(Ji(t,o),t.stateNode===null)Ns(e,t),Vp(t,n,r),ku(t,n,r,o),r=!0;else if(e===null){var c=t.stateNode,h=t.memoizedProps;c.props=h;var f=c.context,p=n.contextType;typeof p=="object"&&p!==null?p=jt(p):(p=rt(n)?si:Ge.current,p=Xi(t,p));var g=n.getDerivedStateFromProps,y=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function";y||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||f!==p)&&pf(t,c,r,p),xn=!1;var _=t.memoizedState;c.state=_,qs(t,r,c,o),f=t.memoizedState,h!==r||_!==f||it.current||xn?(typeof g=="function"&&(ju(t,n,g,r),f=t.memoizedState),(h=xn||mf(t,n,h,r,_,f,p))?(y||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),c.props=r,c.state=f,c.context=p,r=h):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,xp(e,t),h=t.memoizedProps,p=t.type===t.elementType?h:Lt(t.type,h),c.props=p,y=t.pendingProps,_=c.context,f=n.contextType,typeof f=="object"&&f!==null?f=jt(f):(f=rt(n)?si:Ge.current,f=Xi(t,f));var k=n.getDerivedStateFromProps;(g=typeof k=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==y||_!==f)&&pf(t,c,r,f),xn=!1,_=t.memoizedState,c.state=_,qs(t,r,c,o);var P=t.memoizedState;h!==y||_!==P||it.current||xn?(typeof k=="function"&&(ju(t,n,k,r),P=t.memoizedState),(p=xn||mf(t,n,p,r,_,P,f)||!1)?(g||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,P,f),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,P,f)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),c.props=r,c.state=P,c.context=f,r=p):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return Pu(e,t,n,r,a,o)}function Pu(e,t,n,r,o,a){Zp(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return o&&sf(t,n,!1),dn(e,t,a);r=t.stateNode,K0.current=t;var h=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=tr(t,e.child,null,a),t.child=tr(t,null,h,a)):qe(e,t,h,a),t.memoizedState=r.state,o&&sf(t,n,!0),t.child}function qp(e){var t=e.stateNode;t.pendingContext?of(e,t.pendingContext,t.pendingContext!==t.context):t.context&&of(e,t.context,!1),Ec(e,t.containerInfo)}function wf(e,t,n,r,o){return er(),kc(o),t.flags|=256,qe(e,t,n,r),t.child}var Lu={dehydrated:null,treeContext:null,retryLane:0};function Tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wp(e,t,n){var r=t.pendingProps,o=_e.current,a=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(o&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),me(_e,o&1),e===null)return wu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,a?(r=t.mode,a=t.child,c={mode:"hidden",children:c},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=va(c,r,0,null),e=oi(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Tu(n),t.memoizedState=Lu,e):Fc(t,c));if(o=e.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return Q0(e,t,c,r,h,o,n);if(a){a=r.fallback,c=t.mode,o=e.child,h=o.sibling;var f={mode:"hidden",children:r.children};return!(c&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=In(o,f),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=In(h,a):(a=oi(a,c,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,c=e.child.memoizedState,c=c===null?Tu(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Lu,r}return a=e.child,e=a.sibling,r=In(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fc(e,t){return t=va({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,r){return r!==null&&kc(r),tr(t,e.child,null,n),e=Fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Q0(e,t,n,r,o,a,c){if(n)return t.flags&256?(t.flags&=-257,r=Il(Error(D(422))),ds(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=va({mode:"visible",children:r.children},o,0,null),a=oi(a,o,c,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&tr(t,e.child,null,c),t.child.memoizedState=Tu(c),t.memoizedState=Lu,a);if(!(t.mode&1))return ds(e,t,c,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(D(419)),r=Il(a,r,void 0),ds(e,t,c,r)}if(h=(c&e.childLanes)!==0,nt||h){if(r=Ie,r!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|c)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,cn(e,o),It(r,e,o,-1))}return Gc(),r=Il(Error(D(421))),ds(e,t,c,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=cx.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,lt=En(o.nextSibling),ut=t,ve=!0,At=null,e!==null&&(xt[bt++]=on,xt[bt++]=sn,xt[bt++]=ai,on=e.id,sn=e.overflow,ai=t),t=Fc(t,r.children),t.flags|=4096,t)}function Sf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Su(e.return,t,n)}function Ml(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Jp(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(qe(e,t,r.children,n),r=_e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sf(e,n,t);else if(e.tag===19)Sf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(me(_e,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ws(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ml(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ws(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ml(t,!0,n,null,a);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ui|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=In(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=In(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Y0(e,t,n){switch(t.tag){case 3:qp(t),er();break;case 5:bp(t);break;case 1:rt(t.type)&&Us(t);break;case 4:Ec(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;me(Gs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(me(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?Wp(e,t,n):(me(_e,_e.current&1),e=dn(e,t,n),e!==null?e.sibling:null);me(_e,_e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Jp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),me(_e,_e.current),r)break;return null;case 22:case 23:return t.lanes=0,Gp(e,t,n)}return dn(e,t,n)}var Kp,Eu,Qp,Yp;Kp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eu=function(){};Qp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ii(qt.current);var a=null;switch(n){case"input":o=Xl(e,o),r=Xl(e,r),a=[];break;case"select":o=be({},o,{value:void 0}),r=be({},r,{value:void 0}),a=[];break;case"textarea":o=nu(e,o),r=nu(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Bs)}ru(n,r);var c;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var h=o[p];for(c in h)h.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(oo.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var f=r[p];if(h=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&f!==h&&(f!=null||h!=null))if(p==="style")if(h){for(c in h)!h.hasOwnProperty(c)||f&&f.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in f)f.hasOwnProperty(c)&&h[c]!==f[c]&&(n||(n={}),n[c]=f[c])}else n||(a||(a=[]),a.push(p,n)),n=f;else p==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,h=h?h.__html:void 0,f!=null&&h!==f&&(a=a||[]).push(p,f)):p==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(p,""+f):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(oo.hasOwnProperty(p)?(f!=null&&p==="onScroll"&&pe("scroll",e),a||h===f||(a=[])):(a=a||[]).push(p,f))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};Yp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fr(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function X0(e,t,n){var r=t.pendingProps;switch(jc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return rt(t.type)&&Vs(),$e(t),null;case 3:return r=t.stateNode,nr(),ge(it),ge(Ge),Oc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(Fu(At),At=null))),Eu(e,t),$e(t),null;case 5:Ac(t);var o=ii(yo.current);if(n=t.type,e!==null&&t.stateNode!=null)Qp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return $e(t),null}if(e=ii(qt.current),us(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Gt]=t,r[go]=a,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(o=0;o<Gr.length;o++)pe(Gr[o],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Eh(r,a),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},pe("invalid",r);break;case"textarea":Oh(r,a),pe("invalid",r)}ru(n,a),o=null;for(var c in a)if(a.hasOwnProperty(c)){var h=a[c];c==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&ls(r.textContent,h,e),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&ls(r.textContent,h,e),o=["children",""+h]):oo.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&pe("scroll",r)}switch(n){case"input":es(r),Ah(r,a,!0);break;case"textarea":es(r),Rh(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Bs)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Gt]=t,e[go]=r,Kp(e,t,!1,!1),t.stateNode=e;e:{switch(c=ou(n,r),n){case"dialog":pe("cancel",e),pe("close",e),o=r;break;case"iframe":case"object":case"embed":pe("load",e),o=r;break;case"video":case"audio":for(o=0;o<Gr.length;o++)pe(Gr[o],e);o=r;break;case"source":pe("error",e),o=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),o=r;break;case"details":pe("toggle",e),o=r;break;case"input":Eh(e,r),o=Xl(e,r),pe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=be({},r,{value:void 0}),pe("invalid",e);break;case"textarea":Oh(e,r),o=nu(e,r),pe("invalid",e);break;default:o=r}ru(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var f=h[a];a==="style"?Lm(e,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Nm(e,f)):a==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&so(e,f):typeof f=="number"&&so(e,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(oo.hasOwnProperty(a)?f!=null&&a==="onScroll"&&pe("scroll",e):f!=null&&uc(e,a,f,c))}switch(n){case"input":es(e),Ah(e,r,!1);break;case"textarea":es(e),Rh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Gi(e,!!r.multiple,a,!1):r.defaultValue!=null&&Gi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Bs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)Yp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=ii(yo.current),ii(qt.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(a=r.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:ls(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ls(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return $e(t),null;case 13:if(ge(_e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&lt!==null&&t.mode&1&&!(t.flags&128))gp(),er(),t.flags|=98560,a=!1;else if(a=us(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(D(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(D(317));a[Gt]=t}else er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),a=!1}else At!==null&&(Fu(At),At=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Ee===0&&(Ee=3):Gc())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return nr(),Eu(e,t),e===null&&mo(t.stateNode.containerInfo),$e(t),null;case 10:return Pc(t.type._context),$e(t),null;case 17:return rt(t.type)&&Vs(),$e(t),null;case 19:if(ge(_e),a=t.memoizedState,a===null)return $e(t),null;if(r=(t.flags&128)!==0,c=a.rendering,c===null)if(r)Fr(a,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Ws(e),c!==null){for(t.flags|=128,Fr(a,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(_e,_e.current&1|2),t.child}e=e.sibling}a.tail!==null&&je()>rr&&(t.flags|=128,r=!0,Fr(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ws(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!ve)return $e(t),null}else 2*je()-a.renderingStartTime>rr&&n!==1073741824&&(t.flags|=128,r=!0,Fr(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(n=a.last,n!==null?n.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=je(),t.sibling=null,n=_e.current,me(_e,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return Hc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?at&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function ex(e,t){switch(jc(t),t.tag){case 1:return rt(t.type)&&Vs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(),ge(it),ge(Ge),Oc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ac(t),null;case 13:if(ge(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(_e),null;case 4:return nr(),null;case 10:return Pc(t.type._context),null;case 22:case 23:return Hc(),null;case 24:return null;default:return null}}var hs=!1,He=!1,tx=typeof WeakSet=="function"?WeakSet:Set,$=null;function $i(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function Au(e,t,n){try{n()}catch(r){we(e,t,r)}}var jf=!1;function nx(e,t){if(pu=zs,e=ip(),wc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var c=0,h=-1,f=-1,p=0,g=0,y=e,_=null;t:for(;;){for(var k;y!==n||o!==0&&y.nodeType!==3||(h=c+o),y!==a||r!==0&&y.nodeType!==3||(f=c+r),y.nodeType===3&&(c+=y.nodeValue.length),(k=y.firstChild)!==null;)_=y,y=k;for(;;){if(y===e)break t;if(_===n&&++p===o&&(h=c),_===a&&++g===r&&(f=c),(k=y.nextSibling)!==null)break;y=_,_=y.parentNode}y=k}n=h===-1||f===-1?null:{start:h,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(gu={focusedElem:e,selectionRange:n},zs=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var C=P.memoizedProps,O=P.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?C:Lt(t.type,C),O);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(A){we(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return P=jf,jf=!1,P}function Xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Au(t,n,a)}o=o.next}while(o!==r)}}function pa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ou(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xp(e){var t=e.alternate;t!==null&&(e.alternate=null,Xp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[go],delete t[_u],delete t[D0],delete t[F0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eg(e){return e.tag===5||e.tag===3||e.tag===4}function kf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ru(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bs));else if(r!==4&&(e=e.child,e!==null))for(Ru(e,t,n),e=e.sibling;e!==null;)Ru(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Iu(e,t,n),e=e.sibling;e!==null;)Iu(e,t,n),e=e.sibling}var De=null,Tt=!1;function gn(e,t,n){for(n=n.child;n!==null;)tg(e,t,n),n=n.sibling}function tg(e,t,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(aa,n)}catch{}switch(n.tag){case 5:He||$i(n,t);case 6:var r=De,o=Tt;De=null,gn(e,t,n),De=r,Tt=o,De!==null&&(Tt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Tt?(e=De,n=n.stateNode,e.nodeType===8?Ll(e.parentNode,n):e.nodeType===1&&Ll(e,n),co(e)):Ll(De,n.stateNode));break;case 4:r=De,o=Tt,De=n.stateNode.containerInfo,Tt=!0,gn(e,t,n),De=r,Tt=o;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&Au(n,t,c),o=o.next}while(o!==r)}gn(e,t,n);break;case 1:if(!He&&($i(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){we(n,t,h)}gn(e,t,n);break;case 21:gn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,gn(e,t,n),He=r):gn(e,t,n);break;default:gn(e,t,n)}}function Cf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tx),t.forEach(function(r){var o=dx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 5:De=h.stateNode,Tt=!1;break e;case 3:De=h.stateNode.containerInfo,Tt=!0;break e;case 4:De=h.stateNode.containerInfo,Tt=!0;break e}h=h.return}if(De===null)throw Error(D(160));tg(a,c,o),De=null,Tt=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(p){we(o,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ng(t,e),t=t.sibling}function ng(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Ut(e),r&4){try{Xr(3,e,e.return),pa(3,e)}catch(C){we(e,e.return,C)}try{Xr(5,e,e.return)}catch(C){we(e,e.return,C)}}break;case 1:Pt(t,e),Ut(e),r&512&&n!==null&&$i(n,n.return);break;case 5:if(Pt(t,e),Ut(e),r&512&&n!==null&&$i(n,n.return),e.flags&32){var o=e.stateNode;try{so(o,"")}catch(C){we(e,e.return,C)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,c=n!==null?n.memoizedProps:a,h=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&jm(o,a),ou(h,c);var p=ou(h,a);for(c=0;c<f.length;c+=2){var g=f[c],y=f[c+1];g==="style"?Lm(o,y):g==="dangerouslySetInnerHTML"?Nm(o,y):g==="children"?so(o,y):uc(o,g,y,p)}switch(h){case"input":eu(o,a);break;case"textarea":km(o,a);break;case"select":var _=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var k=a.value;k!=null?Gi(o,!!a.multiple,k,!1):_!==!!a.multiple&&(a.defaultValue!=null?Gi(o,!!a.multiple,a.defaultValue,!0):Gi(o,!!a.multiple,a.multiple?[]:"",!1))}o[go]=a}catch(C){we(e,e.return,C)}}break;case 6:if(Pt(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(D(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(C){we(e,e.return,C)}}break;case 3:if(Pt(t,e),Ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{co(t.containerInfo)}catch(C){we(e,e.return,C)}break;case 4:Pt(t,e),Ut(e);break;case 13:Pt(t,e),Ut(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Uc=je())),r&4&&Cf(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(He=(p=He)||g,Pt(t,e),He=p):Pt(t,e),Ut(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!g&&e.mode&1)for($=e,g=e.child;g!==null;){for(y=$=g;$!==null;){switch(_=$,k=_.child,_.tag){case 0:case 11:case 14:case 15:Xr(4,_,_.return);break;case 1:$i(_,_.return);var P=_.stateNode;if(typeof P.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(C){we(r,n,C)}}break;case 5:$i(_,_.return);break;case 22:if(_.memoizedState!==null){Pf(y);continue}}k!==null?(k.return=_,$=k):Pf(y)}g=g.sibling}e:for(g=null,y=e;;){if(y.tag===5){if(g===null){g=y;try{o=y.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=y.stateNode,f=y.memoizedProps.style,c=f!=null&&f.hasOwnProperty("display")?f.display:null,h.style.display=Pm("display",c))}catch(C){we(e,e.return,C)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=p?"":y.memoizedProps}catch(C){we(e,e.return,C)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Pt(t,e),Ut(e),r&4&&Cf(e);break;case 21:break;default:Pt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(eg(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(so(o,""),r.flags&=-33);var a=kf(e);Iu(e,a,o);break;case 3:case 4:var c=r.stateNode.containerInfo,h=kf(e);Ru(e,h,c);break;default:throw Error(D(161))}}catch(f){we(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ix(e,t,n){$=e,ig(e)}function ig(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var o=$,a=o.child;if(o.tag===22&&r){var c=o.memoizedState!==null||hs;if(!c){var h=o.alternate,f=h!==null&&h.memoizedState!==null||He;h=hs;var p=He;if(hs=c,(He=f)&&!p)for($=o;$!==null;)c=$,f=c.child,c.tag===22&&c.memoizedState!==null?Lf(o):f!==null?(f.return=c,$=f):Lf(o);for(;a!==null;)$=a,ig(a),a=a.sibling;$=o,hs=h,He=p}Nf(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,$=a):Nf(e)}}function Nf(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||pa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&df(t,a,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}df(t,c,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&co(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}He||t.flags&512&&Ou(t)}catch(_){we(t,t.return,_)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Pf(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Lf(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(f){we(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(f){we(t,o,f)}}var a=t.return;try{Ou(t)}catch(f){we(t,a,f)}break;case 5:var c=t.return;try{Ou(t)}catch(f){we(t,c,f)}}}catch(f){we(t,t.return,f)}if(t===e){$=null;break}var h=t.sibling;if(h!==null){h.return=t.return,$=h;break}$=t.return}}var rx=Math.ceil,Qs=hn.ReactCurrentDispatcher,Bc=hn.ReactCurrentOwner,St=hn.ReactCurrentBatchConfig,oe=0,Ie=null,Pe=null,Fe=0,at=0,Hi=Bn(0),Ee=0,wo=null,ui=0,ga=0,Vc=0,eo=null,et=null,Uc=0,rr=1/0,tn=null,Ys=!1,Mu=null,On=null,fs=!1,Cn=null,Xs=0,to=0,zu=null,Ps=-1,Ls=0;function We(){return oe&6?je():Ps!==-1?Ps:Ps=je()}function Rn(e){return e.mode&1?oe&2&&Fe!==0?Fe&-Fe:V0.transition!==null?(Ls===0&&(Ls=Vm()),Ls):(e=ce,e!==0||(e=window.event,e=e===void 0?16:Wm(e.type)),e):1}function It(e,t,n,r){if(50<to)throw to=0,zu=null,Error(D(185));No(e,n,r),(!(oe&2)||e!==Ie)&&(e===Ie&&(!(oe&2)&&(ga|=n),Ee===4&&Sn(e,Fe)),ot(e,r),n===1&&oe===0&&!(t.mode&1)&&(rr=je()+500,ha&&Vn()))}function ot(e,t){var n=e.callbackNode;V_(e,t);var r=Ms(e,e===Ie?Fe:0);if(r===0)n!==null&&zh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zh(n),t===1)e.tag===0?B0(Tf.bind(null,e)):fp(Tf.bind(null,e)),M0(function(){!(oe&6)&&Vn()}),n=null;else{switch(Um(r)){case 1:n=mc;break;case 4:n=Fm;break;case 16:n=Is;break;case 536870912:n=Bm;break;default:n=Is}n=dg(n,rg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rg(e,t){if(Ps=-1,Ls=0,oe&6)throw Error(D(327));var n=e.callbackNode;if(Ki()&&e.callbackNode!==n)return null;var r=Ms(e,e===Ie?Fe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ea(e,r);else{t=r;var o=oe;oe|=2;var a=sg();(Ie!==e||Fe!==t)&&(tn=null,rr=je()+500,ri(e,t));do try{ax();break}catch(h){og(e,h)}while(!0);Nc(),Qs.current=a,oe=o,Pe!==null?t=0:(Ie=null,Fe=0,t=Ee)}if(t!==0){if(t===2&&(o=cu(e),o!==0&&(r=o,t=Du(e,o))),t===1)throw n=wo,ri(e,0),Sn(e,r),ot(e,je()),n;if(t===6)Sn(e,r);else{if(o=e.current.alternate,!(r&30)&&!ox(o)&&(t=ea(e,r),t===2&&(a=cu(e),a!==0&&(r=a,t=Du(e,a))),t===1))throw n=wo,ri(e,0),Sn(e,r),ot(e,je()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Qn(e,et,tn);break;case 3:if(Sn(e,r),(r&130023424)===r&&(t=Uc+500-je(),10<t)){if(Ms(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){We(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=yu(Qn.bind(null,e,et,tn),t);break}Qn(e,et,tn);break;case 4:if(Sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var c=31-Rt(r);a=1<<c,c=t[c],c>o&&(o=c),r&=~a}if(r=o,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rx(r/1960))-r,10<r){e.timeoutHandle=yu(Qn.bind(null,e,et,tn),r);break}Qn(e,et,tn);break;case 5:Qn(e,et,tn);break;default:throw Error(D(329))}}}return ot(e,je()),e.callbackNode===n?rg.bind(null,e):null}function Du(e,t){var n=eo;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=ea(e,t),e!==2&&(t=et,et=n,t!==null&&Fu(t)),e}function Fu(e){et===null?et=e:et.push.apply(et,e)}function ox(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Mt(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sn(e,t){for(t&=~Vc,t&=~ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rt(t),r=1<<n;e[n]=-1,t&=~r}}function Tf(e){if(oe&6)throw Error(D(327));Ki();var t=Ms(e,0);if(!(t&1))return ot(e,je()),null;var n=ea(e,t);if(e.tag!==0&&n===2){var r=cu(e);r!==0&&(t=r,n=Du(e,r))}if(n===1)throw n=wo,ri(e,0),Sn(e,t),ot(e,je()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qn(e,et,tn),ot(e,je()),null}function $c(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(rr=je()+500,ha&&Vn())}}function ci(e){Cn!==null&&Cn.tag===0&&!(oe&6)&&Ki();var t=oe;oe|=1;var n=St.transition,r=ce;try{if(St.transition=null,ce=1,e)return e()}finally{ce=r,St.transition=n,oe=t,!(oe&6)&&Vn()}}function Hc(){at=Hi.current,ge(Hi)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,I0(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vs();break;case 3:nr(),ge(it),ge(Ge),Oc();break;case 5:Ac(r);break;case 4:nr();break;case 13:ge(_e);break;case 19:ge(_e);break;case 10:Pc(r.type._context);break;case 22:case 23:Hc()}n=n.return}if(Ie=e,Pe=e=In(e.current,null),Fe=at=t,Ee=0,wo=null,Vc=ga=ui=0,et=eo=null,ni!==null){for(t=0;t<ni.length;t++)if(n=ni[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var c=a.next;a.next=o,r.next=c}n.pending=r}ni=null}return e}function og(e,t){do{var n=Pe;try{if(Nc(),ks.current=Ks,Js){for(var r=xe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Js=!1}if(li=0,Re=Te=xe=null,Yr=!1,_o=0,Bc.current=null,n===null||n.return===null){Ee=1,wo=t,Pe=null;break}e:{var a=e,c=n.return,h=n,f=t;if(t=Fe,h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var p=f,g=h,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var _=g.alternate;_?(g.updateQueue=_.updateQueue,g.memoizedState=_.memoizedState,g.lanes=_.lanes):(g.updateQueue=null,g.memoizedState=null)}var k=vf(c);if(k!==null){k.flags&=-257,yf(k,c,h,a,t),k.mode&1&&gf(a,p,t),t=k,f=p;var P=t.updateQueue;if(P===null){var C=new Set;C.add(f),t.updateQueue=C}else P.add(f);break e}else{if(!(t&1)){gf(a,p,t),Gc();break e}f=Error(D(426))}}else if(ve&&h.mode&1){var O=vf(c);if(O!==null){!(O.flags&65536)&&(O.flags|=256),yf(O,c,h,a,t),kc(ir(f,h));break e}}a=f=ir(f,h),Ee!==4&&(Ee=2),eo===null?eo=[a]:eo.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=Up(a,f,t);cf(a,w);break e;case 1:h=f;var b=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(On===null||!On.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var A=$p(a,h,t);cf(a,A);break e}}a=a.return}while(a!==null)}lg(n)}catch(R){t=R,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function sg(){var e=Qs.current;return Qs.current=Ks,e===null?Ks:e}function Gc(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Ie===null||!(ui&268435455)&&!(ga&268435455)||Sn(Ie,Fe)}function ea(e,t){var n=oe;oe|=2;var r=sg();(Ie!==e||Fe!==t)&&(tn=null,ri(e,t));do try{sx();break}catch(o){og(e,o)}while(!0);if(Nc(),oe=n,Qs.current=r,Pe!==null)throw Error(D(261));return Ie=null,Fe=0,Ee}function sx(){for(;Pe!==null;)ag(Pe)}function ax(){for(;Pe!==null&&!A_();)ag(Pe)}function ag(e){var t=cg(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?lg(e):Pe=t,Bc.current=null}function lg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ex(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Pe=null;return}}else if(n=X0(n,t,at),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ee===0&&(Ee=5)}function Qn(e,t,n){var r=ce,o=St.transition;try{St.transition=null,ce=1,lx(e,t,n,r)}finally{St.transition=o,ce=r}return null}function lx(e,t,n,r){do Ki();while(Cn!==null);if(oe&6)throw Error(D(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(U_(e,a),e===Ie&&(Pe=Ie=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fs||(fs=!0,dg(Is,function(){return Ki(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=St.transition,St.transition=null;var c=ce;ce=1;var h=oe;oe|=4,Bc.current=null,nx(e,n),ng(n,e),P0(gu),zs=!!pu,gu=pu=null,e.current=n,ix(n),O_(),oe=h,ce=c,St.transition=a}else e.current=n;if(fs&&(fs=!1,Cn=e,Xs=o),a=e.pendingLanes,a===0&&(On=null),M_(n.stateNode),ot(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ys)throw Ys=!1,e=Mu,Mu=null,e;return Xs&1&&e.tag!==0&&Ki(),a=e.pendingLanes,a&1?e===zu?to++:(to=0,zu=e):to=0,Vn(),null}function Ki(){if(Cn!==null){var e=Um(Xs),t=St.transition,n=ce;try{if(St.transition=null,ce=16>e?16:e,Cn===null)var r=!1;else{if(e=Cn,Cn=null,Xs=0,oe&6)throw Error(D(331));var o=oe;for(oe|=4,$=e.current;$!==null;){var a=$,c=a.child;if($.flags&16){var h=a.deletions;if(h!==null){for(var f=0;f<h.length;f++){var p=h[f];for($=p;$!==null;){var g=$;switch(g.tag){case 0:case 11:case 15:Xr(8,g,a)}var y=g.child;if(y!==null)y.return=g,$=y;else for(;$!==null;){g=$;var _=g.sibling,k=g.return;if(Xp(g),g===p){$=null;break}if(_!==null){_.return=k,$=_;break}$=k}}}var P=a.alternate;if(P!==null){var C=P.child;if(C!==null){P.child=null;do{var O=C.sibling;C.sibling=null,C=O}while(C!==null)}}$=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,$=c;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xr(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,$=w;break e}$=a.return}}var b=e.current;for($=b;$!==null;){c=$;var j=c.child;if(c.subtreeFlags&2064&&j!==null)j.return=c,$=j;else e:for(c=b;$!==null;){if(h=$,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:pa(9,h)}}catch(R){we(h,h.return,R)}if(h===c){$=null;break e}var A=h.sibling;if(A!==null){A.return=h.return,$=A;break e}$=h.return}}if(oe=o,Vn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(aa,e)}catch{}r=!0}return r}finally{ce=n,St.transition=t}}return!1}function Ef(e,t,n){t=ir(n,t),t=Up(e,t,1),e=An(e,t,1),t=We(),e!==null&&(No(e,1,t),ot(e,t))}function we(e,t,n){if(e.tag===3)Ef(e,e,n);else for(;t!==null;){if(t.tag===3){Ef(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){e=ir(n,e),e=$p(t,e,1),t=An(t,e,1),e=We(),t!==null&&(No(t,1,e),ot(t,e));break}}t=t.return}}function ux(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&(Fe&n)===n&&(Ee===4||Ee===3&&(Fe&130023424)===Fe&&500>je()-Uc?ri(e,0):Vc|=n),ot(e,t)}function ug(e,t){t===0&&(e.mode&1?(t=is,is<<=1,!(is&130023424)&&(is=4194304)):t=1);var n=We();e=cn(e,t),e!==null&&(No(e,t,n),ot(e,n))}function cx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ug(e,n)}function dx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),ug(e,n)}var cg;cg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nt=!1,Y0(e,t,n);nt=!!(e.flags&131072)}else nt=!1,ve&&t.flags&1048576&&mp(t,Hs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ns(e,t),e=t.pendingProps;var o=Xi(t,Ge.current);Ji(t,n),o=Ic(null,t,r,e,o,n);var a=Mc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(a=!0,Us(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Tc(t),o.updater=ma,t.stateNode=o,o._reactInternals=t,ku(t,r,e,n),t=Pu(null,t,r,!0,a,n)):(t.tag=0,ve&&a&&Sc(t),qe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ns(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=fx(r),e=Lt(r,e),o){case 0:t=Nu(null,t,r,e,n);break e;case 1:t=bf(null,t,r,e,n);break e;case 11:t=_f(null,t,r,e,n);break e;case 14:t=xf(null,t,r,Lt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Lt(r,o),Nu(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Lt(r,o),bf(e,t,r,o,n);case 3:e:{if(qp(t),e===null)throw Error(D(387));r=t.pendingProps,a=t.memoizedState,o=a.element,xp(e,t),qs(t,r,null,n);var c=t.memoizedState;if(r=c.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=ir(Error(D(423)),t),t=wf(e,t,r,n,o);break e}else if(r!==o){o=ir(Error(D(424)),t),t=wf(e,t,r,n,o);break e}else for(lt=En(t.stateNode.containerInfo.firstChild),ut=t,ve=!0,At=null,n=yp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(er(),r===o){t=dn(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return bp(t),e===null&&wu(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,c=o.children,vu(r,o)?c=null:a!==null&&vu(r,a)&&(t.flags|=32),Zp(e,t),qe(e,t,c,n),t.child;case 6:return e===null&&wu(t),null;case 13:return Wp(e,t,n);case 4:return Ec(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tr(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Lt(r,o),_f(e,t,r,o,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,c=o.value,me(Gs,r._currentValue),r._currentValue=c,a!==null)if(Mt(a.value,c)){if(a.children===o.children&&!it.current){t=dn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){c=a.child;for(var f=h.firstContext;f!==null;){if(f.context===r){if(a.tag===1){f=an(-1,n&-n),f.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?f.next=f:(f.next=g.next,g.next=f),p.pending=f}}a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),Su(a.return,n,t),h.lanes|=n;break}f=f.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(D(341));c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),Su(c,n,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}qe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ji(t,n),o=jt(o),r=r(o),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,o=Lt(r,t.pendingProps),o=Lt(r.type,o),xf(e,t,r,o,n);case 15:return Hp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Lt(r,o),Ns(e,t),t.tag=1,rt(r)?(e=!0,Us(t)):e=!1,Ji(t,n),Vp(t,r,o),ku(t,r,o,n),Pu(null,t,r,!0,e,n);case 19:return Jp(e,t,n);case 22:return Gp(e,t,n)}throw Error(D(156,t.tag))};function dg(e,t){return Dm(e,t)}function hx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,r){return new hx(e,t,n,r)}function Zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fx(e){if(typeof e=="function")return Zc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dc)return 11;if(e===hc)return 14}return 2}function In(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ts(e,t,n,r,o,a){var c=2;if(r=e,typeof e=="function")Zc(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Ri:return oi(n.children,o,a,t);case cc:c=8,o|=8;break;case Jl:return e=wt(12,n,t,o|2),e.elementType=Jl,e.lanes=a,e;case Kl:return e=wt(13,n,t,o),e.elementType=Kl,e.lanes=a,e;case Ql:return e=wt(19,n,t,o),e.elementType=Ql,e.lanes=a,e;case bm:return va(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _m:c=10;break e;case xm:c=9;break e;case dc:c=11;break e;case hc:c=14;break e;case _n:c=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=wt(c,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function oi(e,t,n,r){return e=wt(7,e,r,t),e.lanes=n,e}function va(e,t,n,r){return e=wt(22,e,r,t),e.elementType=bm,e.lanes=n,e.stateNode={isHidden:!1},e}function zl(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function Dl(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mx(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function qc(e,t,n,r,o,a,c,h,f){return e=new mx(e,t,n,h,f),t===1?(t=1,a===!0&&(t|=8)):t=0,a=wt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tc(a),e}function px(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hg(e){if(!e)return Dn;e=e._reactInternals;e:{if(hi(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(rt(n))return hp(e,n,t)}return t}function fg(e,t,n,r,o,a,c,h,f){return e=qc(n,r,!0,e,o,a,c,h,f),e.context=hg(null),n=e.current,r=We(),o=Rn(n),a=an(r,o),a.callback=t??null,An(n,a,o),e.current.lanes=o,No(e,o,r),ot(e,r),e}function ya(e,t,n,r){var o=t.current,a=We(),c=Rn(o);return n=hg(n),t.context===null?t.context=n:t.pendingContext=n,t=an(a,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=An(o,t,c),e!==null&&(It(e,o,c,a),js(e,o,c)),c}function ta(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Af(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wc(e,t){Af(e,t),(e=e.alternate)&&Af(e,t)}function gx(){return null}var mg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}_a.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));ya(e,t,null,null)};_a.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ci(function(){ya(null,e,null,null)}),t[un]=null}};function _a(e){this._internalRoot=e}_a.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wn.length&&t!==0&&t<wn[n].priority;n++);wn.splice(n,0,e),n===0&&qm(e)}};function Kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Of(){}function vx(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var p=ta(c);a.call(p)}}var c=fg(t,r,e,0,null,!1,!1,"",Of);return e._reactRootContainer=c,e[un]=c.current,mo(e.nodeType===8?e.parentNode:e),ci(),c}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var p=ta(f);h.call(p)}}var f=qc(e,0,!1,null,null,!1,!1,"",Of);return e._reactRootContainer=f,e[un]=f.current,mo(e.nodeType===8?e.parentNode:e),ci(function(){ya(t,f,n,r)}),f}function ba(e,t,n,r,o){var a=n._reactRootContainer;if(a){var c=a;if(typeof o=="function"){var h=o;o=function(){var f=ta(c);h.call(f)}}ya(t,c,e,o)}else c=vx(n,t,e,o,r);return ta(c)}$m=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hr(t.pendingLanes);n!==0&&(pc(t,n|1),ot(t,je()),!(oe&6)&&(rr=je()+500,Vn()))}break;case 13:ci(function(){var r=cn(e,1);if(r!==null){var o=We();It(r,e,1,o)}}),Wc(e,1)}};gc=function(e){if(e.tag===13){var t=cn(e,134217728);if(t!==null){var n=We();It(t,e,134217728,n)}Wc(e,134217728)}};Hm=function(e){if(e.tag===13){var t=Rn(e),n=cn(e,t);if(n!==null){var r=We();It(n,e,t,r)}Wc(e,t)}};Gm=function(){return ce};Zm=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};au=function(e,t,n){switch(t){case"input":if(eu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=da(r);if(!o)throw Error(D(90));Sm(r),eu(r,o)}}}break;case"textarea":km(e,n);break;case"select":t=n.value,t!=null&&Gi(e,!!n.multiple,t,!1)}};Am=$c;Om=ci;var yx={usingClientEntryPoint:!1,Events:[Lo,Di,da,Tm,Em,$c]},Br={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_x={bundleType:Br.bundleType,version:Br.version,rendererPackageName:Br.rendererPackageName,rendererConfig:Br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mm(e),e===null?null:e.stateNode},findFiberByHostInstance:Br.findFiberByHostInstance||gx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{aa=ms.inject(_x),Zt=ms}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yx;ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kc(t))throw Error(D(200));return px(e,t,null,n)};ft.createRoot=function(e,t){if(!Kc(e))throw Error(D(299));var n=!1,r="",o=mg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=qc(e,1,!1,null,null,n,!1,r,o),e[un]=t.current,mo(e.nodeType===8?e.parentNode:e),new Jc(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Mm(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return ci(e)};ft.hydrate=function(e,t,n){if(!xa(t))throw Error(D(200));return ba(null,e,t,!0,n)};ft.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",c=mg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=fg(t,null,e,1,n??null,o,!1,a,c),e[un]=t.current,mo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new _a(t)};ft.render=function(e,t,n){if(!xa(t))throw Error(D(200));return ba(null,e,t,!1,n)};ft.unmountComponentAtNode=function(e){if(!xa(e))throw Error(D(40));return e._reactRootContainer?(ci(function(){ba(null,null,e,!1,function(){e._reactRootContainer=null,e[un]=null})}),!0):!1};ft.unstable_batchedUpdates=$c;ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xa(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return ba(e,t,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function pg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pg)}catch(e){console.error(e)}}pg(),pm.exports=ft;var xx=pm.exports,gg,Rf=xx;gg=Rf.createRoot,Rf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},So.apply(this,arguments)}var Nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nn||(Nn={}));const If="popstate";function bx(e){e===void 0&&(e={});function t(r,o){let{pathname:a,search:c,hash:h}=r.location;return Bu("",{pathname:a,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:na(o)}return Sx(t,n,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wx(){return Math.random().toString(36).substr(2,8)}function Mf(e,t){return{usr:e.state,key:e.key,idx:t}}function Bu(e,t,n,r){return n===void 0&&(n=null),So({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hr(t):t,{state:n,key:t&&t.key||r||wx()})}function na(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Sx(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,c=o.history,h=Nn.Pop,f=null,p=g();p==null&&(p=0,c.replaceState(So({},c.state,{idx:p}),""));function g(){return(c.state||{idx:null}).idx}function y(){h=Nn.Pop;let O=g(),w=O==null?null:O-p;p=O,f&&f({action:h,location:C.location,delta:w})}function _(O,w){h=Nn.Push;let b=Bu(C.location,O,w);p=g()+1;let j=Mf(b,p),A=C.createHref(b);try{c.pushState(j,"",A)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(A)}a&&f&&f({action:h,location:C.location,delta:1})}function k(O,w){h=Nn.Replace;let b=Bu(C.location,O,w);p=g();let j=Mf(b,p),A=C.createHref(b);c.replaceState(j,"",A),a&&f&&f({action:h,location:C.location,delta:0})}function P(O){let w=o.location.origin!=="null"?o.location.origin:o.location.href,b=typeof O=="string"?O:na(O);return b=b.replace(/ $/,"%20"),ke(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let C={get action(){return h},get location(){return e(o,c)},listen(O){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(If,y),f=O,()=>{o.removeEventListener(If,y),f=null}},createHref(O){return t(o,O)},createURL:P,encodeLocation(O){let w=P(O);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:_,replace:k,go(O){return c.go(O)}};return C}var zf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zf||(zf={}));function jx(e,t,n){return n===void 0&&(n="/"),kx(e,t,n)}function kx(e,t,n,r){let o=typeof t=="string"?hr(t):t,a=Qc(o.pathname||"/",n);if(a==null)return null;let c=yg(e);Cx(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=Dx(a);h=Ix(c[f],p)}return h}function yg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(a,c,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(ke(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=Mn([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(ke(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),yg(a.children,t,g,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:Ox(p,a.index),routesMeta:g})};return e.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let f of _g(a.path))o(a,c,f)}),t}function _g(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let c=_g(r.join("/")),h=[];return h.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...c),h.map(f=>e.startsWith("/")&&f===""?"/":f)}function Cx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Rx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Nx=/^:[\w-]+$/,Px=3,Lx=2,Tx=1,Ex=10,Ax=-2,Df=e=>e==="*";function Ox(e,t){let n=e.split("/"),r=n.length;return n.some(Df)&&(r+=Ax),t&&(r+=Lx),n.filter(o=>!Df(o)).reduce((o,a)=>o+(Nx.test(a)?Px:a===""?Tx:Ex),r)}function Rx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Ix(e,t,n){let{routesMeta:r}=e,o={},a="/",c=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?t:t.slice(a.length)||"/",y=Mx({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),_=f.route;if(!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:Mn([a,y.pathname]),pathnameBase:Ux(Mn([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=Mn([a,y.pathnameBase]))}return c}function Mx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zx(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,g,y)=>{let{paramName:_,isOptional:k}=g;if(_==="*"){let C=h[y]||"";c=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const P=h[y];return k&&!P?p[_]=void 0:p[_]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:c,pattern:e}}function zx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function Dx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Fx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?hr(e):e;return{pathname:n?n.startsWith("/")?n:Bx(n,t):t,search:$x(r),hash:Hx(o)}}function Bx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Fl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Yc(e,t){let n=Vx(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xc(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=hr(e):(o=So({},e),ke(!o.pathname||!o.pathname.includes("?"),Fl("?","pathname","search",o)),ke(!o.pathname||!o.pathname.includes("#"),Fl("#","pathname","hash",o)),ke(!o.search||!o.search.includes("#"),Fl("#","search","hash",o)));let a=e===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=n;else{let y=t.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;o.pathname=_.join("/")}h=y>=0?t[y]:"/"}let f=Fx(o,h),p=c&&c!=="/"&&c.endsWith("/"),g=(a||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const Mn=e=>e.join("/").replace(/\/\/+/g,"/"),Ux=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$x=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Gx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xg=["post","put","patch","delete"];new Set(xg);const Zx=["get",...xg];new Set(Zx);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(this,arguments)}const ed=T.createContext(null),qx=T.createContext(null),Un=T.createContext(null),wa=T.createContext(null),$n=T.createContext({outlet:null,matches:[],isDataRoute:!1}),bg=T.createContext(null);function Wx(e,t){let{relative:n}=t===void 0?{}:t;fr()||ke(!1);let{basename:r,navigator:o}=T.useContext(Un),{hash:a,pathname:c,search:h}=Sg(e,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:Mn([r,c])),o.createHref({pathname:f,search:h,hash:a})}function fr(){return T.useContext(wa)!=null}function fi(){return fr()||ke(!1),T.useContext(wa).location}function wg(e){T.useContext(Un).static||T.useLayoutEffect(e)}function mr(){let{isDataRoute:e}=T.useContext($n);return e?ab():Jx()}function Jx(){fr()||ke(!1);let e=T.useContext(ed),{basename:t,future:n,navigator:r}=T.useContext(Un),{matches:o}=T.useContext($n),{pathname:a}=fi(),c=JSON.stringify(Yc(o,n.v7_relativeSplatPath)),h=T.useRef(!1);return wg(()=>{h.current=!0}),T.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let y=Xc(p,JSON.parse(c),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Mn([t,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[t,r,c,a,e])}function Sg(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=T.useContext(Un),{matches:o}=T.useContext($n),{pathname:a}=fi(),c=JSON.stringify(Yc(o,r.v7_relativeSplatPath));return T.useMemo(()=>Xc(e,JSON.parse(c),a,n==="path"),[e,c,a,n])}function Kx(e,t){return Qx(e,t)}function Qx(e,t,n,r){fr()||ke(!1);let{navigator:o,static:a}=T.useContext(Un),{matches:c}=T.useContext($n),h=c[c.length-1],f=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let g=fi(),y;if(t){var _;let w=typeof t=="string"?hr(t):t;p==="/"||(_=w.pathname)!=null&&_.startsWith(p)||ke(!1),y=w}else y=g;let k=y.pathname||"/",P=k;if(p!=="/"){let w=p.replace(/^\//,"").split("/");P="/"+k.replace(/^\//,"").split("/").slice(w.length).join("/")}let C=jx(e,{pathname:P}),O=nb(C&&C.map(w=>Object.assign({},w,{params:Object.assign({},f,w.params),pathname:Mn([p,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?p:Mn([p,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),c,n,r);return t&&O?T.createElement(wa.Provider,{value:{location:jo({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Nn.Pop}},O):O}function Yx(){let e=sb(),t=Gx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:o},n):null,null)}const Xx=T.createElement(Yx,null);class eb extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?T.createElement($n.Provider,{value:this.props.routeContext},T.createElement(bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tb(e){let{routeContext:t,match:n,children:r}=e,o=T.useContext(ed);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement($n.Provider,{value:t},r)}function nb(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,h=(o=n)==null?void 0:o.errors;if(h!=null){let g=c.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);g>=0||ke(!1),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:_,errors:k}=n,P=y.route.loader&&_[y.route.id]===void 0&&(!k||k[y.route.id]===void 0);if(y.route.lazy||P){f=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((g,y,_)=>{let k,P=!1,C=null,O=null;n&&(k=h&&y.route.id?h[y.route.id]:void 0,C=y.route.errorElement||Xx,f&&(p<0&&_===0?(lb("route-fallback"),P=!0,O=null):p===_&&(P=!0,O=y.route.hydrateFallbackElement||null)));let w=t.concat(c.slice(0,_+1)),b=()=>{let j;return k?j=C:P?j=O:y.route.Component?j=T.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=g,T.createElement(tb,{match:y,routeContext:{outlet:g,matches:w,isDataRoute:n!=null},children:j})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?T.createElement(eb,{location:n.location,revalidation:n.revalidation,component:C,error:k,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var jg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jg||{}),kg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kg||{});function ib(e){let t=T.useContext(ed);return t||ke(!1),t}function rb(e){let t=T.useContext(qx);return t||ke(!1),t}function ob(e){let t=T.useContext($n);return t||ke(!1),t}function Cg(e){let t=ob(),n=t.matches[t.matches.length-1];return n.route.id||ke(!1),n.route.id}function sb(){var e;let t=T.useContext(bg),n=rb(),r=Cg();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ab(){let{router:e}=ib(jg.UseNavigateStable),t=Cg(kg.UseNavigateStable),n=T.useRef(!1);return wg(()=>{n.current=!0}),T.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,jo({fromRouteId:t},a)))},[e,t])}const Ff={};function lb(e,t,n){Ff[e]||(Ff[e]=!0)}function ub(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ng(e){let{to:t,replace:n,state:r,relative:o}=e;fr()||ke(!1);let{future:a,static:c}=T.useContext(Un),{matches:h}=T.useContext($n),{pathname:f}=fi(),p=mr(),g=Xc(t,Yc(h,a.v7_relativeSplatPath),f,o==="path"),y=JSON.stringify(g);return T.useEffect(()=>p(JSON.parse(y),{replace:n,state:r,relative:o}),[p,y,o,n,r]),null}function Yn(e){ke(!1)}function cb(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Nn.Pop,navigator:a,static:c=!1,future:h}=e;fr()&&ke(!1);let f=t.replace(/^\/*/,"/"),p=T.useMemo(()=>({basename:f,navigator:a,static:c,future:jo({v7_relativeSplatPath:!1},h)}),[f,h,a,c]);typeof r=="string"&&(r=hr(r));let{pathname:g="/",search:y="",hash:_="",state:k=null,key:P="default"}=r,C=T.useMemo(()=>{let O=Qc(g,f);return O==null?null:{location:{pathname:O,search:y,hash:_,state:k,key:P},navigationType:o}},[f,g,y,_,k,P,o]);return C==null?null:T.createElement(Un.Provider,{value:p},T.createElement(wa.Provider,{children:n,value:C}))}function db(e){let{children:t,location:n}=e;return Kx(Vu(t),n)}new Promise(()=>{});function Vu(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(r,o)=>{if(!T.isValidElement(r))return;let a=[...t,o];if(r.type===T.Fragment){n.push.apply(n,Vu(r.props.children,a));return}r.type!==Yn&&ke(!1),!r.props.index||!r.props.children||ke(!1);let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Vu(r.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uu.apply(this,arguments)}function hb(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function fb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mb(e,t){return e.button===0&&(!t||t==="_self")&&!fb(e)}const pb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gb="6";try{window.__reactRouterVersion=gb}catch{}const vb="startTransition",Bf=u_[vb];function yb(e){let{basename:t,children:n,future:r,window:o}=e,a=T.useRef();a.current==null&&(a.current=bx({window:o,v5Compat:!0}));let c=a.current,[h,f]=T.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},g=T.useCallback(y=>{p&&Bf?Bf(()=>f(y)):f(y)},[f,p]);return T.useLayoutEffect(()=>c.listen(g),[c,g]),T.useEffect(()=>ub(r),[r]),T.createElement(cb,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c,future:r})}const _b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$u=T.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:a,replace:c,state:h,target:f,to:p,preventScrollReset:g,viewTransition:y}=t,_=hb(t,pb),{basename:k}=T.useContext(Un),P,C=!1;if(typeof p=="string"&&xb.test(p)&&(P=p,_b))try{let j=new URL(window.location.href),A=p.startsWith("//")?new URL(j.protocol+p):new URL(p),R=Qc(A.pathname,k);A.origin===j.origin&&R!=null?p=R+A.search+A.hash:C=!0}catch{}let O=Wx(p,{relative:o}),w=bb(p,{replace:c,state:h,target:f,preventScrollReset:g,relative:o,viewTransition:y});function b(j){r&&r(j),j.defaultPrevented||w(j)}return T.createElement("a",Uu({},_,{href:P||O,onClick:C||a?r:b,ref:n,target:f}))});var Vf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vf||(Vf={}));var Uf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Uf||(Uf={}));function bb(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:c,viewTransition:h}=t===void 0?{}:t,f=mr(),p=fi(),g=Sg(e,{relative:c});return T.useCallback(y=>{if(mb(y,n)){y.preventDefault();let _=r!==void 0?r:na(p)===na(g);f(e,{replace:_,state:o,preventScrollReset:a,relative:c,viewTransition:h})}},[p,f,g,r,o,n,e,a,c,h])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pt=(e,t)=>{const n=T.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:h="",children:f,...p},g)=>T.createElement("svg",{ref:g,...wb,width:o,height:o,stroke:r,strokeWidth:c?Number(a)*24/Number(o):a,className:["lucide",`lucide-${Sb(e)}`,h].join(" "),...p},[...t.map(([y,_])=>T.createElement(y,_)),...Array.isArray(f)?f:[f]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=pt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=pt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=pt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=pt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=pt("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=pt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=pt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ab({isOpen:e,onClose:t,onSubmit:n}){const[r,o]=T.useState("");if(!e)return null;const a=c=>{c.preventDefault(),r.trim()&&(n(r.trim()),o(""),t())};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Nouvelle étude SORA"}),l.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:l.jsx(nd,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:a,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'étude"}),l.jsx("input",{type:"text",value:r,onChange:c=>o(c.target.value),className:"w-full p-2 border rounded-md",placeholder:"Entrez le nom de l'étude",autoFocus:!0,required:!0})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Annuler"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Créer"})]})]})]})})}function Ob({isOpen:e,studyName:t,onClose:n,onConfirm:r}){return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-red-600",children:"Supprimer l'évaluation"}),l.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:l.jsx(nd,{className:"w-5 h-5"})})]}),l.jsxs("p",{className:"mb-6 text-gray-600",children:[`Êtes-vous sûr de vouloir supprimer l'évaluation "`,t,'" ? Cette action est irréversible.']}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Annuler"}),l.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Supprimer"})]})]})}):null}const Rb=[{id:"M1",name:"Définition d'une zone tampon",description:"Établissement d'une zone tampon pour réduire le risque au sol",implemented:!1,robustnessLevel:"Low"},{id:"M2",name:"Réduction de la zone d'impact au sol",description:"Mesures techniques pour réduire la zone d'impact en cas de défaillance",implemented:!1,robustnessLevel:"Faible"}],Ib=[{id:"OSO1",number:"01",description:"Opérateur UAS compétent et/ou approuvé",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO2",number:"02",description:"Constructeur UAS compétent et/ou approuvé",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO3",number:"03",description:"Maintenance UAS assurée par une entité compétente et/ou approuvée",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO4",number:"04",description:"UAS développé selon des standards reconnus par l’autorité",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO5",number:"05",description:"UAS conçu selon des standards de fiabilité et de sécurité",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO6",number:"06",description:"Performances du Lien C3 appropriées pour la mission",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO7",number:"07",description:"Inspections de l’UAS pour assurer la validité du ConOps",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO8",number:"08",description:"Procédures opérationnelles définies, validées et appliquées",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO9",number:"09",description:"Equipage formé, entrainé régulièrement et capable de faire face aux situations anormales",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO10",number:"10",description:"Retour à la normale en toute sécurité après un problème technique",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO11",number:"11",description:"Des procédures sont en place pour supporter la détérioration des systèmes externes de soutien à l’opération",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO12",number:"12",description:"L’UAS est conçu pour supporter la détérioration des systèmes externes de soutien",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO13",number:"13",description:"Les systèmes externes de soutien sont adéquats pour l’opération",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO14",number:"14",description:"Procédures opérationnelles définies, validées et appliquées",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO15",number:"15",description:"Equipage formé, entrainé régulièrement et capable de faire face aux situations anormales",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO16",number:"16",description:"Coordination intra-équipage",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO17",number:"17",description:"Equipage en capacité d’exploiter",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO18",number:"18",description:"Protection automatique de l’enveloppe de vol, résistance à l’erreur humaine",requiredLevel:"Faible",status:"Faible",evidence:""},{id:"OSO19",number:"19",description:"Retour à la normale en toute sécurité après une erreur humaine",requiredLevel:"Faible",status:"Faible",evidence:""}],Vl={operator:{name:"",managerName:"",operationalContact:"",registrationNumber:"",address:"",phone:"",email:""},drone:{manufacturer:"",model:"",uasType:"Avion",serialNumber:"",typeCertificateNumber:"",airworthinessCertificateNumber:"",acousticCertificateNumber:"",technicalDocuments:[],mass:0,maxSpeed:0,minSpeed:0,maxCharacteristicDimension:0,classIdentification:null,dimensions:{length:0,width:0,height:0},materials:"",payloads:"",propulsionType:"",fuelType:"",modifications:"",groundStation:"",locationMeans:"",maxClimbRate:0,maxDescentRate:0,turnRate:0,maxEndurance:0,propellerCount:0,kineticEnergy:0,environmentalLimitations:{maxWindSpeedTakeoff:0,maxGustSpeed:0,minTemperature:0,maxTemperature:0,visibility:0,ipRating:"",otherLimitations:""}},operation:{adjacentAreaExtent:0,operationType:"VLOS – Vol en vue",visualObserversCount:0,dangerousGoods:"NON",maxOperationHeight:0,dayNightOperation:"Jour",operationStartTime:"",operationEndTime:"",maxDistanceFromPilot:0,confinementLevel:"Basic",pilotCompetency:"",otherPersonnelCompetency:"",reportableEvents:"",geoFiles:[]},mitigationMeasures:Rb,osos:Ib,ARCInitial:{airspaceClasses:["Classe A"],uspaceProvider:"",otherDetails:"",OperationalVolumeLevel:"",AdjacentVolumeLevel:"",detectAndAvoid:"",trafficDetection:"",additionalDetails:""},RiskAssessment:{assessmentTypeHauteurVol:"Calcul selon les table SORA",assessmentCriticalArea:"",followTerrainHeight:0,PopulationDensityModulation:"NON",assessmentStartTime:"",CriticalArea:0,maxDistanceFromPilot:0,confinementLevel:"Basic",pilotCompetency:"",otherPersonnelCompetency:"",reportableEvents:"",intrinsicGroundRisk:1,finalGroundRisk:1,airRisk:1,sailLevel:"I",trajgeoFiles:[],mitigationStrategique:"NON",reduceImpactAttenuation:"NON",OperationalVolumeLevel:"ARC-a",AdjacentVolumeLevel:"ARC-a",detectAndAvoid:"",trafficDetection:"",additionalDetails:"",operationalScenario:"VLOS",populationDensity:"low",necessaryToReduceRisk:"NON",planInterventionUrgence:"NON",confinementRequirements:"Basiques",additionalRemarks:"",airspaceClasses:["Classe A"],uspaceProvider:"",otherDetails:"",StrategicMitigationAvailable:"",StrategicMitigationJustification:"",OperationalVolumeLevelMitigated:"",TacticalMitigationAvailable:"",TacticalMitigationJustification:"",iGRC:"",GRC_Final:"",SAILJustification:"",AdjacentVolumeLevelMitigated:"",TacticalVolumeLevelMitigated:"",TacticalVolumeLevel:"",TacticalVolumeLevelJustification:"",TacticalVolumeLevelMitigatedJustification:"",StrategicVolumeLevel:"",StrategicVolumeLevelJustification:"",StrategicVolumeLevelMitigated:"",StrategicVolumeLevelMitigatedJustification:""}},Pg=T.createContext(void 0);function Mb({children:e}){const[t,n]=T.useState(null),[r,o]=T.useState(""),[a,c]=T.useState({...Vl,operation:{...Vl.operation,operationStartTime:""},riskAssessment:{...Vl.riskAssessment,assessmentStartTime:"",uasType:"Avion",mitigationStrategique:""},determinationARCInitial:{airspaceClasses:[],uspaceProvider:"",otherDetails:"",OperationalVolumeLevel:"ARC-a",AdjacentVolumeLevel:"ARC-a",detectAndAvoid:"",trafficDetection:"",additionalDetails:""}}),[h,f]=T.useState(!1);return l.jsx(Pg.Provider,{value:{studyId:t,setStudyId:n,studyName:r,setStudyName:o,formData:a,setFormData:c,saving:h,setSaving:f},children:e})}function Sa(){const e=T.useContext(Pg);if(e===void 0)throw new Error("useStudyContext must be used within a StudyProvider");return e}const zb="modulepreload",Db=function(e){return"/"+e},Hf={},or=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(n.map(f=>{if(f=Db(f),f in Hf)return;Hf[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":zb,p||(y.as="script"),y.crossOrigin="",y.href=f,h&&y.setAttribute("nonce",h),document.head.appendChild(y),p)return new Promise((_,k)=>{y.addEventListener("load",_),y.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})},Fb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>or(async()=>{const{default:r}=await Promise.resolve().then(()=>pr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class id extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Bb extends id{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Vb extends id{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ub extends id{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gu||(Gu={}));var $b=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(g){try{p(r.next(g))}catch(y){c(y)}}function f(g){try{p(r.throw(g))}catch(y){c(y)}}function p(g){g.done?a(g.value):o(g.value).then(h,f)}p((r=r.apply(e,t||[])).next())})};class Hb{constructor(t,{headers:n={},customFetch:r,region:o=Gu.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=Fb(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return $b(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:c}=n;let h={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(h["x-region"]=f);let p;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(h["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(h["Content-Type"]="application/json",p=JSON.stringify(c)));const g=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:p}).catch(P=>{throw new Bb(P)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new Vb(g);if(!g.ok)throw new Ub(g);let _=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),k;return _==="application/json"?k=yield g.json():_==="application/octet-stream"?k=yield g.blob():_==="text/event-stream"?k=g:_==="multipart/form-data"?k=yield g.formData():k=yield g.text(),{data:k,error:null}}catch(o){return{data:null,error:o}}})}}var tt={},rd={},ja={},Eo={},ka={},Ca={},Gb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sr=Gb();const Zb=sr.fetch,Lg=sr.fetch.bind(sr),Tg=sr.Headers,qb=sr.Request,Wb=sr.Response,pr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Tg,Request:qb,Response:Wb,default:Lg,fetch:Zb},Symbol.toStringTag,{value:"Module"})),Jb=qy(pr);var Na={};Object.defineProperty(Na,"__esModule",{value:!0});let Kb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Na.default=Kb;var Eg=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ca,"__esModule",{value:!0});const Qb=Eg(Jb),Yb=Eg(Na);let Xb=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Qb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var c,h,f;let p=null,g=null,y=null,_=a.status,k=a.statusText;if(a.ok){if(this.method!=="HEAD"){const w=await a.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=w:g=JSON.parse(w))}const C=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),O=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");C&&O&&O.length>1&&(y=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,_=406,k="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const C=await a.text();try{p=JSON.parse(C),Array.isArray(p)&&a.status===404&&(g=[],p=null,_=200,k="OK")}catch{a.status===404&&C===""?(_=204,k="No Content"):p={message:C}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,_=200,k="OK"),p&&this.shouldThrowOnError)throw new Yb.default(p)}return{error:p,data:g,count:y,status:_,statusText:k}});return this.shouldThrowOnError||(o=o.catch(a=>{var c,h,f;return{error:{message:`${(c=a==null?void 0:a.name)!==null&&c!==void 0?c:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=a==null?void 0:a.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};Ca.default=Xb;var ew=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ka,"__esModule",{value:!0});const tw=ew(Ca);let nw=class extends tw.default{select(t){let n=!1;const r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:a=o}={}){const c=a?`${a}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(c,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:a=!1,format:c="text"}={}){var h;const f=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`,c==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ka.default=nw;var iw=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eo,"__esModule",{value:!0});const rw=iw(ka);let ow=class extends rw.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${c}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Eo.default=ow;var sw=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ja,"__esModule",{value:!0});const Vr=sw(Eo);let aw=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let a=!1;const c=(t??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",c),r&&(this.headers.Prefer=`count=${r}`),new Vr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const o="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new Vr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:a=!0}={}){const c="POST",h=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),a||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(t)){const f=t.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new Vr.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new Vr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Vr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ja.default=aw;var Pa={},La={};Object.defineProperty(La,"__esModule",{value:!0});La.version=void 0;La.version="0.0.0-automated";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.DEFAULT_HEADERS=void 0;const lw=La;Pa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${lw.version}`};var Ag=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rd,"__esModule",{value:!0});const uw=Ag(ja),cw=Ag(Eo),dw=Pa;let hw=class Og{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},dw.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new uw.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Og(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:a}={}){let c;const h=new URL(`${this.url}/rpc/${t}`);let f;r||o?(c=r?"HEAD":"GET",Object.entries(n).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{h.searchParams.append(g,y)})):(c="POST",f=n);const p=Object.assign({},this.headers);return a&&(p.Prefer=`count=${a}`),new cw.default({method:c,url:h,headers:p,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}};rd.default=hw;var gr=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tt,"__esModule",{value:!0});tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;const Rg=gr(rd);tt.PostgrestClient=Rg.default;const Ig=gr(ja);tt.PostgrestQueryBuilder=Ig.default;const Mg=gr(Eo);tt.PostgrestFilterBuilder=Mg.default;const zg=gr(ka);tt.PostgrestTransformBuilder=zg.default;const Dg=gr(Ca);tt.PostgrestBuilder=Dg.default;const Fg=gr(Na);tt.PostgrestError=Fg.default;var fw=tt.default={PostgrestClient:Rg.default,PostgrestQueryBuilder:Ig.default,PostgrestFilterBuilder:Mg.default,PostgrestTransformBuilder:zg.default,PostgrestBuilder:Dg.default,PostgrestError:Fg.default};const{PostgrestClient:mw,PostgrestQueryBuilder:i1,PostgrestFilterBuilder:r1,PostgrestTransformBuilder:o1,PostgrestBuilder:s1,PostgrestError:a1}=fw,pw="2.11.2",gw={"X-Client-Info":`realtime-js/${pw}`},vw="1.0.0",Bg=1e4,yw=1e3;var Qi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qi||(Qi={}));var st;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(st||(st={}));var Et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Et||(Et={}));var Zu;(function(e){e.websocket="websocket"})(Zu||(Zu={}));var ei;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ei||(ei={}));class _w{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=r.decode(t.slice(c,c+o));c=c+o;const f=r.decode(t.slice(c,c+a));c=c+a;const p=JSON.parse(r.decode(t.slice(c,t.byteLength)));return{ref:null,topic:h,event:f,payload:p}}}class Vg{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const Gf=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,c)=>(a[c]=xw(c,e,t,o),a),{})},xw=(e,t,n,r)=>{const o=t.find(h=>h.name===e),a=o==null?void 0:o.type,c=n[e];return a&&!r.includes(a)?Ug(a,c):qu(c)},Ug=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return jw(t,n)}switch(e){case fe.bool:return bw(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return ww(t);case fe.json:case fe.jsonb:return Sw(t);case fe.timestamp:return kw(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return qu(t);default:return qu(t)}},qu=e=>e,bw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ww=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Sw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jw=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const c=e.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(h=>Ug(t,h))}return e},kw=e=>typeof e=="string"?e.replace(" ","T"):e,$g=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ul{constructor(t,n,r={},o=Bg){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Zf||(Zf={}));class no{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=no.syncState(this.state,o,a,c),this.pendingDiffs.forEach(f=>{this.state=no.syncDiff(this.state,f,a,c)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=no.syncDiff(this.state,o,a,c),h())}),this.onJoin((o,a,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:c})}),this.onLeave((o,a,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const a=this.cloneDeep(t),c=this.transformState(n),h={},f={};return this.map(a,(p,g)=>{c[p]||(f[p]=g)}),this.map(c,(p,g)=>{const y=a[p];if(y){const _=g.map(O=>O.presence_ref),k=y.map(O=>O.presence_ref),P=g.filter(O=>k.indexOf(O.presence_ref)<0),C=y.filter(O=>_.indexOf(O.presence_ref)<0);P.length>0&&(h[p]=P),C.length>0&&(f[p]=C)}else h[p]=g}),this.syncDiff(a,{joins:h,leaves:f},r,o)}static syncDiff(t,n,r,o){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(h,f)=>{var p;const g=(p=t[h])!==null&&p!==void 0?p:[];if(t[h]=this.cloneDeep(f),g.length>0){const y=t[h].map(k=>k.presence_ref),_=g.filter(k=>y.indexOf(k.presence_ref)<0);t[h].unshift(..._)}r(h,g,f)}),this.map(c,(h,f)=>{let p=t[h];if(!p)return;const g=f.map(y=>y.presence_ref);p=p.filter(y=>g.indexOf(y.presence_ref)<0),t[h]=p,o(h,p,f),p.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qf||(qf={}));var Wf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wf||(Wf={}));var nn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(nn||(nn={}));class od{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ul(this,Et.join,this.params,this.timeout),this.rejoinTimer=new Vg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new no(this),this.broadcastEndpointURL=$g(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:c,private:h}}=this.params;this._onError(g=>t==null?void 0:t(nn.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(nn.CLOSED));const f={},p={broadcast:a,presence:c,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){t==null||t(nn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,P=[];for(let C=0;C<k;C++){const O=_[C],{filter:{event:w,schema:b,table:j,filter:A}}=O,R=g&&g[C];if(R&&R.event===w&&R.schema===b&&R.table===j&&R.filter===A)P.push(Object.assign(Object.assign({},O),{id:R.id}));else{this.unsubscribe(),t==null||t(nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,t&&t(nn.SUBSCRIBED);return}}).receive("error",g=>{t==null||t(nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,h,f;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const o=new Ul(this,Et.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),c}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ul(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,a;const c=t.toLocaleLowerCase(),{close:h,error:f,leave:p,join:g}=Et;if(r&&[h,f,p,g].indexOf(c)>=0&&r!==this._joinRef())return;let _=this._onMessage(c,n,r);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(k=>{var P,C,O;return((P=k.filter)===null||P===void 0?void 0:P.event)==="*"||((O=(C=k.filter)===null||C===void 0?void 0:C.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===c}).map(k=>k.callback(_,r)):(a=this.bindings[c])===null||a===void 0||a.filter(k=>{var P,C,O,w,b,j;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in k){const A=k.id,R=(P=k.filter)===null||P===void 0?void 0:P.event;return A&&((C=n.ids)===null||C===void 0?void 0:C.includes(A))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const A=(b=(w=k==null?void 0:k.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return A==="*"||A===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===c}).map(k=>{if(typeof _=="object"&&"ids"in _){const P=_.data,{schema:C,table:O,commit_timestamp:w,type:b,errors:j}=P;_=Object.assign(Object.assign({},{schema:C,table:O,commit_timestamp:w,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(P))}k.callback(_,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&od.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Et.close,{},t)}_onError(t){this._on(Et.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Gf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Gf(t.columns,t.old_record)),n}}const Cw=()=>{},Nw=typeof WebSocket<"u",Pw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lw{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=gw,this.params={},this.timeout=Bg,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Cw,this.conn=null,this.sendBuffer=[],this.serializer=new _w,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...h)=>or(async()=>{const{default:f}=await Promise.resolve().then(()=>pr);return{default:f}},void 0).then(({default:f})=>f(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${t}/${Zu.websocket}`,this.httpEndpoint=$g(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,c)=>c(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Nw){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Tw(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),or(async()=>{const{default:t}=await import("./browser-BWSYkbp4.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vw}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qi.connecting:return ei.Connecting;case Qi.open:return ei.Open;case Qi.closing:return ei.Closing;default:return ei.Closed}}isConnected(){return this.connectionState()===ei.Open}channel(t,n={config:{}}){const r=new od(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:o,ref:a}=t,c=()=>{this.encode(t,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(Et.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(yw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:a,ref:c}=n;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${o} ${c&&"("+c+")"||""}`,a),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(o,a,c)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Et.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Pw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Tw{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Qi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class sd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ew extends sd{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wu extends sd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Aw=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(g){try{p(r.next(g))}catch(y){c(y)}}function f(g){try{p(r.throw(g))}catch(y){c(y)}}function p(g){g.done?a(g.value):o(g.value).then(h,f)}p((r=r.apply(e,t||[])).next())})};const Hg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>or(async()=>{const{default:r}=await Promise.resolve().then(()=>pr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Ow=()=>Aw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield or(()=>Promise.resolve().then(()=>pr),void 0)).Response:Response}),Ju=e=>{if(Array.isArray(e))return e.map(n=>Ju(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=Ju(r)}),t};var mi=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(g){try{p(r.next(g))}catch(y){c(y)}}function f(g){try{p(r.throw(g))}catch(y){c(y)}}function p(g){g.done?a(g.value):o(g.value).then(h,f)}p((r=r.apply(e,t||[])).next())})};const $l=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rw=(e,t,n)=>mi(void 0,void 0,void 0,function*(){const r=yield Ow();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{t(new Ew($l(o),e.status||500))}).catch(o=>{t(new Wu($l(o),o))}):t(new Wu($l(e),e))}),Iw=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function Ao(e,t,n,r,o,a){return mi(this,void 0,void 0,function*(){return new Promise((c,h)=>{e(n,Iw(t,r,o,a)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>Rw(f,h,r))})})}function ia(e,t,n,r){return mi(this,void 0,void 0,function*(){return Ao(e,"GET",t,n,r)})}function bn(e,t,n,r,o){return mi(this,void 0,void 0,function*(){return Ao(e,"POST",t,r,o,n)})}function Mw(e,t,n,r,o){return mi(this,void 0,void 0,function*(){return Ao(e,"PUT",t,r,o,n)})}function zw(e,t,n,r){return mi(this,void 0,void 0,function*(){return Ao(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Gg(e,t,n,r,o){return mi(this,void 0,void 0,function*(){return Ao(e,"DELETE",t,r,o,n)})}var Xe=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(g){try{p(r.next(g))}catch(y){c(y)}}function f(g){try{p(r.throw(g))}catch(y){c(y)}}function p(g){g.done?a(g.value):o(g.value).then(h,f)}p((r=r.apply(e,t||[])).next())})};const Dw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fw{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Hg(o)}uploadOrUpdate(t,n,r,o){return Xe(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},Jf),o);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),y=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:a,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),_=yield y.json();return y.ok?{data:{path:p,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Xe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let f;const p=Object.assign({upsert:Jf.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",p.cacheControl)):(f=r,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const y=yield this.fetch(h.toString(),{method:"PUT",body:f,headers:g}),_=yield y.json();return y.ok?{data:{path:a,fullPath:_.Key},error:null}:{data:null,error:_}}catch(f){if(Oe(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield bn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(this.url+a.url),h=c.searchParams.get("token");if(!h)throw new sd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:h},error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}update(t,n,r){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Xe(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield bn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Xe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield bn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Xe(this,void 0,void 0,function*(){try{const o=yield bn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}download(t,n){return Xe(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=a?`?${a}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield ia(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Oe(h))return{data:null,error:h};throw h}})}info(t){return Xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ia(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ju(r),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}exists(t){return Xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield zw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Oe(r)&&r instanceof Wu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&o.push(f);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield Gg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xe(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Dw),n),{prefix:t||""});return{data:yield bn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Bw="2.7.1",Vw={"X-Client-Info":`storage-js/${Bw}`};var Ci=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(g){try{p(r.next(g))}catch(y){c(y)}}function f(g){try{p(r.throw(g))}catch(y){c(y)}}function p(g){g.done?a(g.value):o(g.value).then(h,f)}p((r=r.apply(e,t||[])).next())})};class Uw{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Vw),n),this.fetch=Hg(r)}listBuckets(){return Ci(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Oe(t))return{data:null,error:t};throw t}})}getBucket(t){return Ci(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ci(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ci(this,void 0,void 0,function*(){try{return{data:yield Mw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ci(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ci(this,void 0,void 0,function*(){try{return{data:yield Gg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}}class $w extends Uw{constructor(t,n={},r){super(t,n,r)}from(t){return new Fw(this.url,this.headers,t,this.fetch)}}const Hw="2.49.1";let Zr="";typeof Deno<"u"?Zr="deno":typeof document<"u"?Zr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zr="react-native":Zr="node";const Gw={"X-Client-Info":`supabase-js-${Zr}/${Hw}`},Zw={headers:Gw},qw={schema:"public"},Ww={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jw={};var Kw=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(g){try{p(r.next(g))}catch(y){c(y)}}function f(g){try{p(r.throw(g))}catch(y){c(y)}}function p(g){g.done?a(g.value):o(g.value).then(h,f)}p((r=r.apply(e,t||[])).next())})};const Qw=e=>{let t;return e?t=e:typeof fetch>"u"?t=Lg:t=fetch,(...n)=>t(...n)},Yw=()=>typeof Headers>"u"?Tg:Headers,Xw=(e,t,n)=>{const r=Qw(n),o=Yw();return(a,c)=>Kw(void 0,void 0,void 0,function*(){var h;const f=(h=yield t())!==null&&h!==void 0?h:e;let p=new o(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),r(a,Object.assign(Object.assign({},c),{headers:p}))})};var eS=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(g){try{p(r.next(g))}catch(y){c(y)}}function f(g){try{p(r.throw(g))}catch(y){c(y)}}function p(g){g.done?a(g.value):o(g.value).then(h,f)}p((r=r.apply(e,t||[])).next())})};function tS(e){return e.replace(/\/$/,"")}function nS(e,t){const{db:n,auth:r,realtime:o,global:a}=e,{db:c,auth:h,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},h),r),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign({},p),a),accessToken:()=>eS(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const Zg="2.68.0",Ei=30*1e3,Ku=3,Hl=Ku*Ei,iS="http://localhost:9999",rS="supabase.auth.token",oS={"X-Client-Info":`gotrue-js/${Zg}`},Qu="X-Supabase-Api-Version",qg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function sS(e){return Math.round(Date.now()/1e3)+e}function aS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $t=()=>typeof window<"u"&&typeof document<"u",Jn={tested:!1,writable:!1},io=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jn.tested)return Jn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jn.tested=!0,Jn.writable=!0}catch{Jn.tested=!0,Jn.writable=!1}return Jn.writable};function lS(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const Wg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>or(async()=>{const{default:r}=await Promise.resolve().then(()=>pr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},uS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jg=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ps=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gs=async(e,t)=>{await e.removeItem(t)};function cS(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,o,a,c,h,f,p,g=0;for(e=e.replace("-","+").replace("_","/");g<e.length;)c=t.indexOf(e.charAt(g++)),h=t.indexOf(e.charAt(g++)),f=t.indexOf(e.charAt(g++)),p=t.indexOf(e.charAt(g++)),r=c<<2|h>>4,o=(h&15)<<4|f>>2,a=(f&3)<<6|p,n=n+String.fromCharCode(r),f!=64&&o!=0&&(n=n+String.fromCharCode(o)),p!=64&&a!=0&&(n=n+String.fromCharCode(a));return n}class Ta{constructor(){this.promise=new Ta.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ta.promiseConstructor=Promise;function Kf(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(cS(r))}async function dS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hS(e,t){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){r(c);return}}catch(c){if(!t(a,c)){o(c);return}}})()})}function fS(e){return("0"+e.toString(16)).substr(-2)}function mS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,fS).join("")}async function pS(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}function gS(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await pS(e);return gS(n)}async function Ni(e,t,n=!1){const r=mS();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Jg(e,`${t}-code-verifier`,o);const a=await vS(r);return[a,r===a?"plain":"s256"]}const yS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _S(e){const t=e.headers.get(Qu);if(!t||!t.match(yS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class ad extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function X(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xS extends ad{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function bS(e){return X(e)&&e.name==="AuthApiError"}class Kg extends ad{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class pi extends ad{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class vn extends pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wS(e){return X(e)&&e.name==="AuthSessionMissingError"}class Gl extends pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vs extends pi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ys extends pi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SS(e){return X(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qf extends pi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yu extends pi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Zl(e){return X(e)&&e.name==="AuthRetryableFetchError"}class Yf extends pi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var jS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Xn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kS=[502,503,504];async function Xf(e){var t;if(!uS(e))throw new Yu(Xn(e),0);if(kS.includes(e.status))throw new Yu(Xn(e),e.status);let n;try{n=await e.json()}catch(a){throw new Kg(Xn(a),a)}let r;const o=_S(e);if(o&&o.getTime()>=qg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Yf(Xn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new vn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Yf(Xn(n),e.status,n.weak_password.reasons);throw new xS(Xn(n),e.status||500,r)}const CS=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function ne(e,t,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[Qu]||(a[Qu]=qg["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const c=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await NS(e,t,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function NS(e,t,n,r,o,a){const c=CS(t,r,o,a);let h;try{h=await e(n,Object.assign({},c))}catch(f){throw console.error(f),new Yu(Xn(f),0)}if(h.ok||await Xf(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(f){await Xf(f)}}function yn(e){var t;let n=null;ES(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=sS(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function em(e){const t=yn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function jn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function PS(e){return{data:e,error:null}}function LS(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=e,c=jS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},f=Object.assign({},c);return{data:{properties:h,user:f},error:null}}function TS(e){return e}function ES(e){return e.access_token&&e.refresh_token&&e.expires_in}var AS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class OS{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Wg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:jn})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=AS(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:LS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(X(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jn})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,a,c,h,f;try{const p={nextPage:null,lastPage:0,total:0},g=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:TS});if(g.error)throw g.error;const y=await g.json(),_=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,k=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return k.length>0&&(k.forEach(P=>{const C=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(P.split(";")[1].split("=")[1]);p[`${O}Page`]=C}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(X(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jn})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:jn})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:jn})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(X(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}}const RS={getItem:e=>io()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{io()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{io()&&globalThis.localStorage.removeItem(e)}};function tm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function IS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pi={debug:!!(globalThis&&io()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class MS extends Qg{}async function zS(e,t,n){Pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Pi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new MS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Pi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}IS();const DS={url:iS,storageKey:rS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nm(e,t,n){return await n()}class ko{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ko.nextInstanceID,ko.nextInstanceID+=1,this.instanceID>0&&$t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},DS),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new OS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Wg(o.fetch),this.lock=o.lock||nm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:$t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zS:this.lock=nm,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:io()?this.storage=RS:(this.memoryStorage={},this.storage=tm(this.memoryStorage)):(this.memoryStorage={},this.storage=tm(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=lS(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),$t()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),SS(a)){const f=(t=a.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return X(n)?{error:n}:{error:new Kg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:yn}),{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,o;try{let a;if("email"in t){const{email:g,password:y,options:_}=t;let k=null,P=null;this.flowType==="pkce"&&([k,P]=await Ni(this.storage,this.storageKey)),a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:g,password:y,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:k,code_challenge_method:P},xform:yn})}else if("phone"in t){const{phone:g,password:y,options:_}=t;a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},channel:(o=_==null?void 0:_.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:yn})}else throw new vs("You must provide either an email or phone number and a password");const{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:c,options:h}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:em})}else if("phone"in t){const{phone:a,password:c,options:h}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:em})}else throw new vs("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Gl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await ps(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:c}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:yn});if(await gs(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Gl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:c})}catch(a){if(X(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:a,nonce:c}=t,h=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:yn}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Gl}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,a,c;try{if("email"in t){const{email:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ni(this.storage,this.storageKey));const{error:y}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:h,options:f}=t,{data:p,error:g}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new vs("You must provide either an email or phone number.")}catch(h){if(X(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,r;try{let o,a;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:h}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:yn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,p=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(o){if(X(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Ni(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:PS})}catch(a){if(X(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new vn;const{error:o}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:a}=t,{error:c}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:r,type:o,options:a}=t,{data:c,error:h}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new vs("You must provide either an email or phone number and a type")}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Hl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,p,g)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,g))})}return{data:{session:t},error:null}}const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:jn}):await this._useSession(async n=>{var r,o,a;const{data:c,error:h}=n;if(h)throw h;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vn}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:jn})})}catch(n){if(X(n))return wS(n)&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new vn;const c=o.session;let h=null,f=null;this.flowType==="pkce"&&t.email!=null&&([h,f]=await Ni(this.storage,this.storageKey));const{data:p,error:g}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:f}),jwt:c.access_token,xform:jn});if(g)throw g;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Kf(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vn;const n=Date.now()/1e3;let r=n,o=!0,a=null;const c=Kf(t.access_token);if(c.exp&&(r=c.exp,o=r<=n),o){const{session:h,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:f}=await this._getUser(t.access_token);if(f)throw f;a={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(X(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:c,error:h}=n;if(h)throw h;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new vn;const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!$t())throw new ys("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ys(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ys("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qf("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:c,expires_in:h,expires_at:f,token_type:p}=t;if(!a||!h||!c||!p)throw new ys("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(h);let _=g+y;f&&(_=parseInt(f));const k=_-g;k*1e3<=Ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${y}s`);const P=_-y;g-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,_,g):g-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,_,g);const{data:C,error:O}=await this._getUser(a);if(O)throw O;const w={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:_,refresh_token:c,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(X(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ps(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:h}=await this.admin.signOut(c,t);if(h&&!(bS(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=aS(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Ni(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(X(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var c,h,f,p,g;const{data:y,error:_}=a;if(_)throw _;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",k,{headers:this.headers,jwt:(g=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return $t()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(X(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:c}=n;if(c)throw c;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await hS(async o=>(o>0&&await dS(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yn})),(o,a)=>{const c=200*Math.pow(2,o);return a&&Zl(a)&&Date.now()+c-r<Ei})}catch(r){if(this._debug(n,"error",r),X(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),$t()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ps(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Hl;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Hl}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),Zl(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ta;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new vn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),X(a)){const c={session:null,error:a};return Zl(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(f){a.push(f)}});if(await Promise.all(c),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await gs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ei);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ei}ms, refresh threshold is ${Ku} ticks`),o<=Ku&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Qg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,c]=await Ni(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:p}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:c,error:h}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(X(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(X(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],o=r.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=r.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:r,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const c=this._decodeJWT(o.access_token);let h=null;c.aal&&(h=c.aal);let f=h;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const g=c.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}}ko.nextInstanceID=0;const FS=ko;class BS extends FS{constructor(t){super(t)}}var VS=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(g){try{p(r.next(g))}catch(y){c(y)}}function f(g){try{p(r.throw(g))}catch(y){c(y)}}function p(g){g.done?a(g.value):o(g.value).then(h,f)}p((r=r.apply(e,t||[])).next())})};class US{constructor(t,n,r){var o,a,c;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=tS(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:qw,realtime:Jw,auth:Object.assign(Object.assign({},Ww),{storageKey:f}),global:Zw},g=nS(r??{},p);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=Xw(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new mw(`${h}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new Hb(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $w(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return VS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:a,flowType:c,lock:h,debug:f},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BS({url:this.authUrl,headers:Object.assign(Object.assign({},y),p),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:c,lock:h,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Lw(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $S=(e,t,n)=>new US(e,t,n);var Yg={VITE_SUPABASE_URL:"https://ommguheoknrziixzkxqe.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9tbWd1aGVva25yemlpeHpreHFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzcyOTc2NjEsImV4cCI6MjA1Mjg3MzY2MX0._sdSmNhf3DV4_P_Px2owvygbvDeIDWaxaUo4HHkK0Kw"};const HS=Yg.VITE_SUPABASE_URL,GS=Yg.VITE_SUPABASE_ANON_KEY,Ot=$S(HS,GS),Xg=T.createContext(void 0);function ZS({children:e}){const[t,n]=T.useState(null),[r,o]=T.useState(!0);T.useEffect(()=>{Ot.auth.getSession().then(({data:{session:p}})=>{n((p==null?void 0:p.user)??null),o(!1)});const{data:{subscription:f}}=Ot.auth.onAuthStateChange((p,g)=>{n((g==null?void 0:g.user)??null),o(!1)});return()=>f.unsubscribe()},[]);const a=async(f,p)=>{const{error:g}=await Ot.auth.signInWithPassword({email:f,password:p});if(g)throw g},c=async(f,p)=>{const{error:g}=await Ot.auth.signUp({email:f,password:p,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(g)throw g},h=async()=>{const{error:f}=await Ot.auth.signOut();if(f)throw f};return l.jsx(Xg.Provider,{value:{user:t,loading:r,signIn:a,signUp:c,signOut:h},children:e})}function vr(){const e=T.useContext(Xg);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const qS="/assets/LOGO_CED_FRANCE-SuudBazJ.png";function WS(){const e=mr(),{setStudyName:t,setFormData:n,setStudyId:r}=Sa(),{user:o}=vr(),[a,c]=T.useState(!1),[h,f]=T.useState(!1),[p,g]=T.useState(null),[y,_]=T.useState([]),[k,P]=T.useState(null);T.useEffect(()=>{C()},[o]);const C=async()=>{if(!o)return;const{data:R,error:U}=await Ot.from("sora_studies").select("*").eq("user_id",o.id).order("updated_at",{ascending:!1});U?(console.error("Erreur lors du chargement des études:",U),P("Erreur lors du chargement des études")):(_(R||[]),P(null))},O=()=>{c(!0)},w=R=>{t(R),r(null),e("/evaluation/new")},b=R=>{t(R.name),n(R.data),r(R.id),e(`/evaluation/${R.id}`)},j=R=>{g(R),f(!0)},A=async()=>{if(!(!p||!o))try{const{error:R}=await Ot.from("sora_studies").delete().eq("id",p.id).eq("user_id",o.id);if(R)throw R;_(y.filter(U=>U.id!==p.id)),f(!1),g(null)}catch(R){console.error("Erreur lors de la suppression:",R),P("Erreur lors de la suppression de l'évaluation")}};return l.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[l.jsxs("div",{className:"flex flex-col items-center mb-8",children:[l.jsx("img",{src:qS,alt:"Centres d'Essais Drones France",className:"w-64 h-auto mb-6"}),o&&l.jsxs("p",{className:"text-gray-600 mb-4",children:["Bonjour ",o.email,", heureux de vous revoir parmi nous."]}),l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Nb,{className:"w-8 h-8 text-blue-600"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Évaluation SORA"})]}),l.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Pb,{className:"w-5 h-5"}),"Nouvelle évaluation"]})]})]}),k&&l.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg",children:k}),l.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Mes évaluations SORA"}),l.jsx("div",{className:"space-y-4",children:y.length>0?y.map(R=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:R.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Dernière modification : ",new Date(R.updated_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>b(R),className:"p-2 text-gray-600 hover:text-blue-600 transition-colors",title:"Modifier l'évaluation",children:l.jsx(Tb,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>j(R),className:"p-2 text-gray-600 hover:text-red-600 transition-colors",title:"Supprimer l'évaluation",children:l.jsx(Eb,{className:"w-5 h-5"})})]})]},R.id)):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("p",{children:"Aucune évaluation sauvegardée"}),l.jsx("p",{className:"text-sm mt-2",children:'Cliquez sur "Nouvelle évaluation" pour commencer'})]})})]}),l.jsx(Ab,{isOpen:a,onClose:()=>c(!1),onSubmit:w}),l.jsx(Ob,{isOpen:h,studyName:(p==null?void 0:p.name)||"",onClose:()=>{f(!1),g(null)},onConfirm:A})]})}const Li=[{id:"operator-info",title:"Informations sur l'exploitant",description:"Renseignez les informations concernant l'exploitant du drone"},{id:"conops",title:"Étape 1 : Concept d'opérations / ConOps",description:"Définissez les caractéristiques du drone et de l'opération"},{id:"initial-grc",title:"Étape 2 : Détermination du GRC Initial",description:"Évaluez le risque sol intrinsèque"},{id:"final-grc",title:"Étape 3 : Atténuation du risque sol et GRC Final",description:"Déterminez le risque sol final après atténuation"},{id:"initial-arc",title:"Étape 4 : Détermination de l'ARC Initial",description:"Évaluez le risque air initial"},{id:"final-arc",title:"Étape 5 : Atténuation du risque air et ARC Final",description:"Déterminez le risque air final après atténuation par Mitigation Strategique "},{id:"tactical-mitigation",title:"Étape 6 : Atténuation tactique du risque « air »",description:"Définissez les mesures tactiques d'atténuation du risque Air"},{id:"sail",title:"Étape 7 : Détermination du SAIL",description:"Déterminez le niveau SAIL"},{id:"oso",title:"Étape 8 : Objectifs de sécurité opérationnels (OSO)",description:"Définissez les objectifs de sécurité"},{id:"adjacent-areas",title:"Étape 9 : Considérations sur les espaces aériens ou sol adjacents",description:"Évaluez l'impact sur les zones adjacentes"},{id:"summary",title:"Résumé",description:"Récapitulatif de votre dossier SORA"}];function M({text:e,children:t}){const[n,r]=T.useState(!1);return l.jsxs("div",{className:"relative inline-block w-full",children:[l.jsx("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:t}),n&&l.jsx("div",{className:"absolute z-10 w-80 p-2 mt-1 text-sm text-white bg-gray-800 rounded-lg shadow-lg",children:e})]})}function JS({operator:e,onChange:t}){const n=T.useMemo(()=>({name:!e.name.trim(),registrationNumber:!e.registrationNumber.trim(),managerName:!e.managerName.trim(),operationalContact:!e.operationalContact.trim(),address:!e.address.trim(),phone:!e.phone.trim(),email:!e.email.trim()}),[e]),r=a=>`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${n[a]?"border-red-300 focus:border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"}`,o=a=>`block text-sm font-medium ${n[a]?"text-red-600":"text-gray-700"}`;return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Informations sur l'exploitant"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:o("name"),children:"Nom de l'opérateur *"}),l.jsx(M,{text:"Nom de l'opérateur de l'UAS tel qu'il a été déclaré au cours de la procédure d'enregistrement.",children:l.jsx("input",{type:"text",value:e.name,onChange:a=>t({...e,name:a.target.value}),className:r("name")})})]}),l.jsxs("div",{children:[l.jsx("label",{className:o("registrationNumber"),children:"Numéro d'enregistrement *"}),l.jsx(M,{text:"Numéro d'enregistrement de l'opérateur UAS conformément à l'article 14 du règlement (UE) 219/947.",children:l.jsx("input",{type:"text",value:e.registrationNumber,onChange:a=>t({...e,registrationNumber:a.target.value}),className:r("registrationNumber")})})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:o("managerName"),children:"Nom du gestionnaire responsable *"}),l.jsx(M,{text:"Nom du dirigeant responsable ou, dans le cas d'une personne physique, nom de l'opérateur de l'UAS.",children:l.jsx("input",{type:"text",value:e.managerName,onChange:a=>t({...e,managerName:a.target.value}),className:r("managerName")})})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:o("operationalContact"),children:"Point de contact opérationnel *"}),l.jsx(M,{text:"Coordonnées de la personne responsable de l'opération.",children:l.jsx("input",{type:"text",value:e.operationalContact,onChange:a=>t({...e,operationalContact:a.target.value}),className:r("operationalContact")})})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:o("address"),children:"Adresse *"}),l.jsx("textarea",{value:e.address,onChange:a=>t({...e,address:a.target.value}),rows:2,className:r("address")})]}),l.jsxs("div",{children:[l.jsx("label",{className:o("phone"),children:"Téléphone *"}),l.jsx("input",{type:"tel",value:e.phone,onChange:a=>t({...e,phone:a.target.value}),className:r("phone")})]}),l.jsxs("div",{children:[l.jsx("label",{className:o("email"),children:"Email *"}),l.jsx("input",{type:"email",value:e.email,onChange:a=>t({...e,email:a.target.value}),className:r("email")})]})]}),Object.values(n).some(Boolean)&&l.jsx("p",{className:"text-sm text-red-600 mt-2",children:"* Veuillez remplir tous les champs obligatoires"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Résumé de l'opération UAS"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date prévue pour le début de l'opération"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{type:"date",value:e.startDate||"",onChange:a=>t({...e,startDate:a.target.value}),className:"block w-full pr-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),l.jsx($f,{className:"absolute right-3 top-2 h-5 w-5 text-gray-400"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date de fin prévue"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{type:"date",value:e.endDate||"",onChange:a=>t({...e,endDate:a.target.value}),className:"block w-full pr-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),l.jsx($f,{className:"absolute right-3 top-2 h-5 w-5 text-gray-400"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lieu(x) prévu(s) pour l'opération"}),l.jsx("textarea",{value:e.locations||"",onChange:a=>t({...e,locations:a.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Saisissez les lieux prévus pour l'opération..."})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Référence et révision de l'évaluation des risques"}),l.jsxs("select",{value:e.riskAssessmentVersion||"SORA 2.5",onChange:a=>t({...e,riskAssessmentVersion:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"SORA 2.5",children:"SORA 2.5"}),l.jsx("option",{value:"SORA 2.0",children:"SORA 2.0"})]})]})]})]})]})}const KS=["Sans","C1","C2","C3","C4","C5","C6","Prototype"],QS=["Avion","Hélicoptère","Multirotor","Hybride/VTOL","Plus léger que l'air","Autre"];function YS({drone:e,onChange:t}){const n=T.useRef(null),r=a=>{const c=a.target.files;if(c){const h=Array.from(c);t({...e,technicalDocuments:[...e.technicalDocuments||[],...h]})}},o=a=>{const c=[...e.technicalDocuments||[]];c.splice(a,1),t({...e,technicalDocuments:c})};return l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Informations sur le drone"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fabricant"}),l.jsx("input",{type:"text",value:e.manufacturer,onChange:a=>t({...e,manufacturer:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modèle"}),l.jsx("input",{type:"text",value:e.model,onChange:a=>t({...e,model:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type d'UAS"}),l.jsx("select",{value:e.uasType,onChange:a=>t({...e,uasType:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:QS.map(a=>l.jsx("option",{value:a,children:a},a))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numéro de série"}),l.jsx("input",{type:"text",value:e.serialNumber,onChange:a=>t({...e,serialNumber:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Si requis",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numéro de Certificat de Type (TC) ou de DVR"})}),l.jsx("input",{type:"text",value:e.typeCertificateNumber,onChange:a=>t({...e,typeCertificateNumber:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Si requis",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numéro de Certificat de Navigabilité (CofA)"})}),l.jsx("input",{type:"text",value:e.airworthinessCertificateNumber,onChange:a=>t({...e,airworthinessCertificateNumber:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Si requis",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numéro de Certificat Acoustique"})}),l.jsx("input",{type:"text",value:e.acousticCertificateNumber,onChange:a=>t({...e,acousticCertificateNumber:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos et description schématique du système UAS"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-500 transition-colors",children:[l.jsx("input",{ref:n,type:"file",accept:".pdf",onChange:r,className:"hidden",multiple:!0}),l.jsxs("div",{onClick:()=>{var a;return(a=n.current)==null?void 0:a.click()},className:"flex items-center justify-center gap-2 cursor-pointer",children:[l.jsx(td,{className:"w-5 h-5 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Déposer des fichiers PDF ici ou cliquer pour parcourir"})]})]}),e.technicalDocuments&&e.technicalDocuments.length>0&&l.jsx("div",{className:"mt-2 space-y-2",children:e.technicalDocuments.map((a,c)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-sm text-gray-600",children:a.name}),l.jsx("button",{onClick:()=>o(c),className:"text-red-500 hover:text-red-700",children:"Supprimer"})]},c))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dimensions caractéristiques maximales (m)"}),l.jsx("input",{type:"number",value:e.maxCharacteristicDimension,onChange:a=>t({...e,maxCharacteristicDimension:parseFloat(a.target.value)}),step:"0.1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse minimale (m/s)"}),l.jsx("input",{type:"number",value:e.minSpeed,onChange:a=>t({...e,minSpeed:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Vitesse Sol maximale du drone en opération en (m/s) ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse maximale (m/s)"})}),l.jsx("input",{type:"number",value:e.maxSpeed,onChange:a=>t({...e,maxSpeed:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Masse Maximale au décolage MTOW (kg) ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"MTOW (kg)"})}),l.jsx("input",{type:"number",value:e.MTOW,onChange:a=>t({...e,MTOW:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Si une classe est apposée sur le drone",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Identification de Classe"})}),l.jsxs("select",{value:e.classIdentification||"",onChange:a=>t({...e,classIdentification:a.target.value||null}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Sélectionner une classe"}),KS.map(a=>l.jsxs("option",{value:a,children:["Classe ",a]},a))]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Exigences techniques supplémentaires"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Matériaux utilisés"}),l.jsx("textarea",{value:e.materials,onChange:a=>t({...e,materials:a.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description des charges utiles avec les masses associées en (kg)"}),l.jsx("textarea",{value:e.payloads,onChange:a=>t({...e,payloads:a.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type de propulsion/moteur"}),l.jsx("textarea",{value:e.propulsionType,onChange:a=>t({...e,propulsionType:a.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type de carburant"}),l.jsx("textarea",{value:e.fuelType,onChange:a=>t({...e,fuelType:a.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modifications apportées au modèle de référence"}),l.jsx("textarea",{value:e.modifications,onChange:a=>t({...e,modifications:a.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Station de contrôle au sol, logiciels et fréquences utilisés"}),l.jsx("textarea",{value:e.groundStation,onChange:a=>t({...e,groundStation:a.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Moyens de localisation"}),l.jsx("textarea",{value:e.locationMeans,onChange:a=>t({...e,locationMeans:a.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Taux de montée maximal (m/s)"}),l.jsx("input",{type:"number",value:e.maxClimbRate,onChange:a=>t({...e,maxClimbRate:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Taux de descente maximal (m/s)"}),l.jsx("input",{type:"number",value:e.maxDescentRate,onChange:a=>t({...e,maxDescentRate:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Taux de virage (deg/s)"}),l.jsx("input",{type:"number",value:e.turnRate,onChange:a=>t({...e,turnRate:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Endurance maximale (h)"}),l.jsx("input",{type:"number",value:e.maxEndurance,onChange:a=>t({...e,maxEndurance:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre d'hélices"}),l.jsx("input",{type:"number",value:e.propellerCount,onChange:a=>t({...e,propellerCount:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Énergie cinétique"}),l.jsx("input",{type:"number",value:e.kineticEnergy,onChange:a=>t({...e,kineticEnergy:parseFloat(a.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-medium",children:"Limitations environnementales"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse maximale du vent au décollage (m/s)"}),l.jsx("input",{type:"number",value:e.environmentalLimitations.maxWindSpeedTakeoff,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,maxWindSpeedTakeoff:parseFloat(a.target.value)}}),min:0,max:e.maxSpeed,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse maximale de tenue à la rafale en évolution (m/s)"}),l.jsx("input",{type:"number",value:e.environmentalLimitations.maxGustSpeed,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,maxGustSpeed:parseFloat(a.target.value)}}),min:e.environmentalLimitations.maxWindSpeedTakeoff,max:e.maxSpeed,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Température [Min] (°C)"}),l.jsx("input",{type:"number",value:e.environmentalLimitations.minTemperature,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,minTemperature:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Température [Max] (°C)"}),l.jsx("input",{type:"number",value:e.environmentalLimitations.maxTemperature,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,maxTemperature:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Visibilité"}),l.jsx("input",{type:"number",value:e.environmentalLimitations.visibility,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,visibility:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Indice de Protection (IP)"}),l.jsx("input",{type:"text",value:e.environmentalLimitations.ipRating,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,ipRating:a.target.value}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Autres limitations"}),l.jsx("textarea",{value:e.environmentalLimitations.otherLimitations,onChange:a=>t({...e,environmentalLimitations:{...e.environmentalLimitations,otherLimitations:a.target.value}}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Dimensions"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Longueur (m)"}),l.jsx("input",{type:"number",value:e.dimensions.length,onChange:a=>t({...e,dimensions:{...e.dimensions,length:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Largeur (m)"}),l.jsx("input",{type:"number",value:e.dimensions.width,onChange:a=>t({...e,dimensions:{...e.dimensions,width:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hauteur (m)"}),l.jsx("input",{type:"number",value:e.dimensions.height,onChange:a=>t({...e,dimensions:{...e.dimensions,height:parseFloat(a.target.value)}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]})]})}function XS(e,t){const n=T.useRef(t);T.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const ej=1;function tj(e){return Object.freeze({__version:ej,map:e})}function ld(e,t){return Object.freeze({...e,...t})}const ev=T.createContext(null),ud=ev.Provider;function Ea(){const e=T.useContext(ev);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function tv(e){function t(n,r){const{instance:o,context:a}=e(n).current;return T.useImperativeHandle(r,()=>o),n.children==null?null:ro.createElement(ud,{value:a},n.children)}return T.forwardRef(t)}function nj(e){function t(n,r){const{instance:o}=e(n).current;return T.useImperativeHandle(r,()=>o),null}return T.forwardRef(t)}function ij(e){return function(n){const r=Ea(),o=e(n,r),{instance:a}=o.current,c=T.useRef(n.position),{position:h}=n;return T.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),T.useEffect(function(){h!=null&&h!==c.current&&(a.setPosition(h),c.current=h)},[a,h]),o}}function nv(e,t){const n=T.useRef();T.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function cd(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var Xu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(ct,function(n){var r="1.9.4";function o(i){var s,u,d,m;for(u=1,d=arguments.length;u<d;u++){m=arguments[u];for(s in m)i[s]=m[s]}return i}var a=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function c(i,s){var u=Array.prototype.slice;if(i.bind)return i.bind.apply(i,u.call(arguments,1));var d=u.call(arguments,2);return function(){return i.apply(s,d.length?d.concat(u.call(arguments)):arguments)}}var h=0;function f(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,s,u){var d,m,v,S;return S=function(){d=!1,m&&(v.apply(u,m),m=!1)},v=function(){d?m=arguments:(i.apply(u,arguments),setTimeout(S,s),d=!0)},v}function g(i,s,u){var d=s[1],m=s[0],v=d-m;return i===d&&u?i:((i-m)%v+v)%v+m}function y(){return!1}function _(i,s){if(s===!1)return i;var u=Math.pow(10,s===void 0?6:s);return Math.round(i*u)/u}function k(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function P(i){return k(i).split(/\s+/)}function C(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var u in s)i.options[u]=s[u];return i.options}function O(i,s,u){var d=[];for(var m in i)d.push(encodeURIComponent(u?m.toUpperCase():m)+"="+encodeURIComponent(i[m]));return(!s||s.indexOf("?")===-1?"?":"&")+d.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function b(i,s){return i.replace(w,function(u,d){var m=s[d];if(m===void 0)throw new Error("No value provided for variable "+u);return typeof m=="function"&&(m=m(s)),m})}var j=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function A(i,s){for(var u=0;u<i.length;u++)if(i[u]===s)return u;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var x=0;function F(i){var s=+new Date,u=Math.max(0,16-(s-x));return x=s+u,window.setTimeout(i,u)}var G=window.requestAnimationFrame||U("RequestAnimationFrame")||F,Z=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function le(i,s,u){if(u&&G===F)i.call(s);else return G.call(window,c(i,s))}function ue(i){i&&Z.call(window,i)}var gt={__proto__:null,extend:o,create:a,bind:c,get lastId(){return h},stamp:f,throttle:p,wrapNum:g,falseFn:y,formatNum:_,trim:k,splitWords:P,setOptions:C,getParamString:O,template:b,isArray:j,indexOf:A,emptyImageUrl:R,requestFn:G,cancelFn:Z,requestAnimFrame:le,cancelAnimFrame:ue};function Ve(){}Ve.extend=function(i){var s=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=s.__super__=this.prototype,d=a(u);d.constructor=s,s.prototype=d;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(s[m]=this[m]);return i.statics&&o(s,i.statics),i.includes&&(yr(i.includes),o.apply(null,[d].concat(i.includes))),o(d,i),delete d.statics,delete d.includes,d.options&&(d.options=u.options?a(u.options):{},o(d.options,i.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,S=d._initHooks.length;v<S;v++)d._initHooks[v].call(this)}},s},Ve.include=function(i){var s=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},Ve.mergeOptions=function(i){return o(this.prototype.options,i),this},Ve.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),u=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function yr(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=j(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Me={on:function(i,s,u){if(typeof i=="object")for(var d in i)this._on(d,i[d],s);else{i=P(i);for(var m=0,v=i.length;m<v;m++)this._on(i[m],s,u)}return this},off:function(i,s,u){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var d in i)this._off(d,i[d],s);else{i=P(i);for(var m=arguments.length===1,v=0,S=i.length;v<S;v++)m?this._off(i[v]):this._off(i[v],s,u)}return this},_on:function(i,s,u,d){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,u)===!1){u===this&&(u=void 0);var m={fn:s,ctx:u};d&&(m.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(m)}},_off:function(i,s,u){var d,m,v;if(this._events&&(d=this._events[i],!!d)){if(arguments.length===1){if(this._firingCount)for(m=0,v=d.length;m<v;m++)d[m].fn=y;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var S=this._listens(i,s,u);if(S!==!1){var N=d[S];this._firingCount&&(N.fn=y,this._events[i]=d=d.slice()),d.splice(S,1)}}},fire:function(i,s,u){if(!this.listens(i,u))return this;var d=o({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var m=this._events[i];if(m){this._firingCount=this._firingCount+1||1;for(var v=0,S=m.length;v<S;v++){var N=m[v],E=N.fn;N.once&&this.off(i,E,N.ctx),E.call(N.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(i,s,u,d){typeof i!="string"&&console.warn('"string" type argument expected');var m=s;typeof s!="function"&&(d=!!s,m=void 0,u=void 0);var v=this._events&&this._events[i];if(v&&v.length&&this._listens(i,m,u)!==!1)return!0;if(d){for(var S in this._eventParents)if(this._eventParents[S].listens(i,s,u,d))return!0}return!1},_listens:function(i,s,u){if(!this._events)return!1;var d=this._events[i]||[];if(!s)return!!d.length;u===this&&(u=void 0);for(var m=0,v=d.length;m<v;m++)if(d[m].fn===s&&d[m].ctx===u)return m;return!1},once:function(i,s,u){if(typeof i=="object")for(var d in i)this._on(d,i[d],s,!0);else{i=P(i);for(var m=0,v=i.length;m<v;m++)this._on(i[m],s,u,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[f(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[f(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};Me.addEventListener=Me.on,Me.removeEventListener=Me.clearAllEventListeners=Me.off,Me.addOneTimeEventListener=Me.once,Me.fireEvent=Me.fire,Me.hasEventListeners=Me.listens;var Kt=Ve.extend(Me);function I(i,s,u){this.x=u?Math.round(i):i,this.y=u?Math.round(s):s}var J=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(i){return this.clone()._add(B(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(B(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new I(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new I(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=J(this.x),this.y=J(this.y),this},distanceTo:function(i){i=B(i);var s=i.x-this.x,u=i.y-this.y;return Math.sqrt(s*s+u*u)},equals:function(i){return i=B(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=B(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function B(i,s,u){return i instanceof I?i:j(i)?new I(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new I(i.x,i.y):new I(i,s,u)}function W(i,s){if(i)for(var u=s?[i,s]:i,d=0,m=u.length;d<m;d++)this.extend(u[d])}W.prototype={extend:function(i){var s,u;if(!i)return this;if(i instanceof I||typeof i[0]=="number"||"x"in i)s=u=B(i);else if(i=re(i),s=i.min,u=i.max,!s||!u)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=u.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(i){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,u;return typeof i[0]=="number"||i instanceof I?i=B(i):i=re(i),i instanceof W?(s=i.min,u=i.max):s=u=i,s.x>=this.min.x&&u.x<=this.max.x&&s.y>=this.min.y&&u.y<=this.max.y},intersects:function(i){i=re(i);var s=this.min,u=this.max,d=i.min,m=i.max,v=m.x>=s.x&&d.x<=u.x,S=m.y>=s.y&&d.y<=u.y;return v&&S},overlaps:function(i){i=re(i);var s=this.min,u=this.max,d=i.min,m=i.max,v=m.x>s.x&&d.x<u.x,S=m.y>s.y&&d.y<u.y;return v&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,u=this.max,d=Math.abs(s.x-u.x)*i,m=Math.abs(s.y-u.y)*i;return re(B(s.x-d,s.y-m),B(u.x+d,u.y+m))},equals:function(i){return i?(i=re(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function re(i,s){return!i||i instanceof W?i:new W(i,s)}function Le(i,s){if(i)for(var u=s?[i,s]:i,d=0,m=u.length;d<m;d++)this.extend(u[d])}Le.prototype={extend:function(i){var s=this._southWest,u=this._northEast,d,m;if(i instanceof se)d=i,m=i;else if(i instanceof Le){if(d=i._southWest,m=i._northEast,!d||!m)return this}else return i?this.extend(K(i)||de(i)):this;return!s&&!u?(this._southWest=new se(d.lat,d.lng),this._northEast=new se(m.lat,m.lng)):(s.lat=Math.min(d.lat,s.lat),s.lng=Math.min(d.lng,s.lng),u.lat=Math.max(m.lat,u.lat),u.lng=Math.max(m.lng,u.lng)),this},pad:function(i){var s=this._southWest,u=this._northEast,d=Math.abs(s.lat-u.lat)*i,m=Math.abs(s.lng-u.lng)*i;return new Le(new se(s.lat-d,s.lng-m),new se(u.lat+d,u.lng+m))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof se||"lat"in i?i=K(i):i=de(i);var s=this._southWest,u=this._northEast,d,m;return i instanceof Le?(d=i.getSouthWest(),m=i.getNorthEast()):d=m=i,d.lat>=s.lat&&m.lat<=u.lat&&d.lng>=s.lng&&m.lng<=u.lng},intersects:function(i){i=de(i);var s=this._southWest,u=this._northEast,d=i.getSouthWest(),m=i.getNorthEast(),v=m.lat>=s.lat&&d.lat<=u.lat,S=m.lng>=s.lng&&d.lng<=u.lng;return v&&S},overlaps:function(i){i=de(i);var s=this._southWest,u=this._northEast,d=i.getSouthWest(),m=i.getNorthEast(),v=m.lat>s.lat&&d.lat<u.lat,S=m.lng>s.lng&&d.lng<u.lng;return v&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=de(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function de(i,s){return i instanceof Le?i:new Le(i,s)}function se(i,s,u){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,u!==void 0&&(this.alt=+u)}se.prototype={equals:function(i,s){if(!i)return!1;i=K(i);var u=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return u<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+_(this.lat,i)+", "+_(this.lng,i)+")"},distanceTo:function(i){return fn.distance(this,K(i))},wrap:function(){return fn.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,u=s/Math.cos(Math.PI/180*this.lat);return de([this.lat-s,this.lng-u],[this.lat+s,this.lng+u])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function K(i,s,u){return i instanceof se?i:j(i)&&typeof i[0]!="object"?i.length===3?new se(i[0],i[1],i[2]):i.length===2?new se(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new se(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new se(i,s,u)}var Qe={latLngToPoint:function(i,s){var u=this.projection.project(i),d=this.scale(s);return this.transformation._transform(u,d)},pointToLatLng:function(i,s){var u=this.scale(s),d=this.transformation.untransform(i,u);return this.projection.unproject(d)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,u=this.scale(i),d=this.transformation.transform(s.min,u),m=this.transformation.transform(s.max,u);return new W(d,m)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,u=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,d=i.alt;return new se(u,s,d)},wrapLatLngBounds:function(i){var s=i.getCenter(),u=this.wrapLatLng(s),d=s.lat-u.lat,m=s.lng-u.lng;if(d===0&&m===0)return i;var v=i.getSouthWest(),S=i.getNorthEast(),N=new se(v.lat-d,v.lng-m),E=new se(S.lat-d,S.lng-m);return new Le(N,E)}},fn=o({},Qe,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var u=Math.PI/180,d=i.lat*u,m=s.lat*u,v=Math.sin((s.lat-i.lat)*u/2),S=Math.sin((s.lng-i.lng)*u/2),N=v*v+Math.cos(d)*Math.cos(m)*S*S,E=2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N));return this.R*E}}),pd=6378137,Oa={R:pd,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,i.lat),-u),m=Math.sin(d*s);return new I(this.R*i.lng*s,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(i){var s=180/Math.PI;return new se((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=pd*Math.PI;return new W([-i,-i],[i,i])}()};function Ra(i,s,u,d){if(j(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=u,this._d=d}Ra.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new I((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function _r(i,s,u,d){return new Ra(i,s,u,d)}var Ia=o({},fn,{code:"EPSG:3857",projection:Oa,transformation:function(){var i=.5/(Math.PI*Oa.R);return _r(i,.5,-i,.5)}()}),bv=o({},Ia,{code:"EPSG:900913"});function gd(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function vd(i,s){var u="",d,m,v,S,N,E;for(d=0,v=i.length;d<v;d++){for(N=i[d],m=0,S=N.length;m<S;m++)E=N[m],u+=(m?"L":"M")+E.x+" "+E.y;u+=s?H.svg?"z":"x":""}return u||"M0 0"}var Ma=document.documentElement.style,Oo="ActiveXObject"in window,wv=Oo&&!document.addEventListener,yd="msLaunchUri"in navigator&&!("documentMode"in document),za=Dt("webkit"),_d=Dt("android"),xd=Dt("android 2")||Dt("android 3"),Sv=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),jv=_d&&Dt("Google")&&Sv<537&&!("AudioNode"in window),Da=!!window.opera,bd=!yd&&Dt("chrome"),wd=Dt("gecko")&&!za&&!Da&&!Oo,kv=!bd&&Dt("safari"),Sd=Dt("phantom"),jd="OTransition"in Ma,Cv=navigator.platform.indexOf("Win")===0,kd=Oo&&"transition"in Ma,Fa="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!xd,Cd="MozPerspective"in Ma,Nv=!window.L_DISABLE_3D&&(kd||Fa||Cd)&&!jd&&!Sd,xr=typeof orientation<"u"||Dt("mobile"),Pv=xr&&za,Lv=xr&&Fa,Nd=!window.PointerEvent&&window.MSPointerEvent,Pd=!!(window.PointerEvent||Nd),Ld="ontouchstart"in window||!!window.TouchEvent,Tv=!window.L_NO_TOUCH&&(Ld||Pd),Ev=xr&&Da,Av=xr&&wd,Ov=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rv=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",y,s),window.removeEventListener("testPassiveEventSupport",y,s)}catch{}return i}(),Iv=function(){return!!document.createElement("canvas").getContext}(),Ba=!!(document.createElementNS&&gd("svg").createSVGRect),Mv=!!Ba&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),zv=!Ba&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Dv=navigator.platform.indexOf("Mac")===0,Fv=navigator.platform.indexOf("Linux")===0;function Dt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var H={ie:Oo,ielt9:wv,edge:yd,webkit:za,android:_d,android23:xd,androidStock:jv,opera:Da,chrome:bd,gecko:wd,safari:kv,phantom:Sd,opera12:jd,win:Cv,ie3d:kd,webkit3d:Fa,gecko3d:Cd,any3d:Nv,mobile:xr,mobileWebkit:Pv,mobileWebkit3d:Lv,msPointer:Nd,pointer:Pd,touch:Tv,touchNative:Ld,mobileOpera:Ev,mobileGecko:Av,retina:Ov,passiveEvents:Rv,canvas:Iv,svg:Ba,vml:zv,inlineSvg:Mv,mac:Dv,linux:Fv},Td=H.msPointer?"MSPointerDown":"pointerdown",Ed=H.msPointer?"MSPointerMove":"pointermove",Ad=H.msPointer?"MSPointerUp":"pointerup",Od=H.msPointer?"MSPointerCancel":"pointercancel",Va={touchstart:Td,touchmove:Ed,touchend:Ad,touchcancel:Od},Rd={touchstart:Gv,touchmove:Ro,touchend:Ro,touchcancel:Ro},gi={},Id=!1;function Bv(i,s,u){return s==="touchstart"&&Hv(),Rd[s]?(u=Rd[s].bind(this,u),i.addEventListener(Va[s],u,!1),u):(console.warn("wrong event specified:",s),y)}function Vv(i,s,u){if(!Va[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(Va[s],u,!1)}function Uv(i){gi[i.pointerId]=i}function $v(i){gi[i.pointerId]&&(gi[i.pointerId]=i)}function Md(i){delete gi[i.pointerId]}function Hv(){Id||(document.addEventListener(Td,Uv,!0),document.addEventListener(Ed,$v,!0),document.addEventListener(Ad,Md,!0),document.addEventListener(Od,Md,!0),Id=!0)}function Ro(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var u in gi)s.touches.push(gi[u]);s.changedTouches=[s],i(s)}}function Gv(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ze(s),Ro(i,s)}function Zv(i){var s={},u,d;for(d in i)u=i[d],s[d]=u&&u.bind?u.bind(i):u;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var qv=200;function Wv(i,s){i.addEventListener("dblclick",s);var u=0,d;function m(v){if(v.detail!==1){d=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var S=Vd(v);if(!(S.some(function(E){return E instanceof HTMLLabelElement&&E.attributes.for})&&!S.some(function(E){return E instanceof HTMLInputElement||E instanceof HTMLSelectElement}))){var N=Date.now();N-u<=qv?(d++,d===2&&s(Zv(v))):d=1,u=N}}}return i.addEventListener("click",m),{dblclick:s,simDblclick:m}}function Jv(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var Ua=zo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),br=zo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zd=br==="webkitTransition"||br==="OTransition"?br+"End":"transitionend";function Dd(i){return typeof i=="string"?document.getElementById(i):i}function wr(i,s){var u=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(i,null);u=d?d[s]:null}return u==="auto"?null:u}function ae(i,s,u){var d=document.createElement(i);return d.className=s||"",u&&u.appendChild(d),d}function ye(i){var s=i.parentNode;s&&s.removeChild(i)}function Io(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function vi(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function yi(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function $a(i,s){if(i.classList!==void 0)return i.classList.contains(s);var u=Mo(i);return u.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(u)}function Y(i,s){if(i.classList!==void 0)for(var u=P(s),d=0,m=u.length;d<m;d++)i.classList.add(u[d]);else if(!$a(i,s)){var v=Mo(i);Ha(i,(v?v+" ":"")+s)}}function Se(i,s){i.classList!==void 0?i.classList.remove(s):Ha(i,k((" "+Mo(i)+" ").replace(" "+s+" "," ")))}function Ha(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function Mo(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function vt(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&Kv(i,s)}function Kv(i,s){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=i.filters.item(d)}catch{if(s===1)return}s=Math.round(s*100),u?(u.Enabled=s!==100,u.Opacity=s):i.style.filter+=" progid:"+d+"(opacity="+s+")"}function zo(i){for(var s=document.documentElement.style,u=0;u<i.length;u++)if(i[u]in s)return i[u];return!1}function Hn(i,s,u){var d=s||new I(0,0);i.style[Ua]=(H.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function Ce(i,s){i._leaflet_pos=s,H.any3d?Hn(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function Gn(i){return i._leaflet_pos||new I(0,0)}var Sr,jr,Ga;if("onselectstart"in document)Sr=function(){Q(window,"selectstart",ze)},jr=function(){he(window,"selectstart",ze)};else{var kr=zo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Sr=function(){if(kr){var i=document.documentElement.style;Ga=i[kr],i[kr]="none"}},jr=function(){kr&&(document.documentElement.style[kr]=Ga,Ga=void 0)}}function Za(){Q(window,"dragstart",ze)}function qa(){he(window,"dragstart",ze)}var Do,Wa;function Ja(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Fo(),Do=i,Wa=i.style.outlineStyle,i.style.outlineStyle="none",Q(window,"keydown",Fo))}function Fo(){Do&&(Do.style.outlineStyle=Wa,Do=void 0,Wa=void 0,he(window,"keydown",Fo))}function Fd(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Ka(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var Qv={__proto__:null,TRANSFORM:Ua,TRANSITION:br,TRANSITION_END:zd,get:Dd,getStyle:wr,create:ae,remove:ye,empty:Io,toFront:vi,toBack:yi,hasClass:$a,addClass:Y,removeClass:Se,setClass:Ha,getClass:Mo,setOpacity:vt,testProp:zo,setTransform:Hn,setPosition:Ce,getPosition:Gn,get disableTextSelection(){return Sr},get enableTextSelection(){return jr},disableImageDrag:Za,enableImageDrag:qa,preventOutline:Ja,restoreOutline:Fo,getSizedParentNode:Fd,getScale:Ka};function Q(i,s,u,d){if(s&&typeof s=="object")for(var m in s)Ya(i,m,s[m],u);else{s=P(s);for(var v=0,S=s.length;v<S;v++)Ya(i,s[v],u,d)}return this}var Ft="_leaflet_events";function he(i,s,u,d){if(arguments.length===1)Bd(i),delete i[Ft];else if(s&&typeof s=="object")for(var m in s)Xa(i,m,s[m],u);else if(s=P(s),arguments.length===2)Bd(i,function(N){return A(s,N)!==-1});else for(var v=0,S=s.length;v<S;v++)Xa(i,s[v],u,d);return this}function Bd(i,s){for(var u in i[Ft]){var d=u.split(/\d/)[0];(!s||s(d))&&Xa(i,d,null,null,u)}}var Qa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ya(i,s,u,d){var m=s+f(u)+(d?"_"+f(d):"");if(i[Ft]&&i[Ft][m])return this;var v=function(N){return u.call(d||i,N||window.event)},S=v;!H.touchNative&&H.pointer&&s.indexOf("touch")===0?v=Bv(i,s,v):H.touch&&s==="dblclick"?v=Wv(i,v):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(Qa[s]||s,v,H.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(v=function(N){N=N||window.event,tl(i,N)&&S(N)},i.addEventListener(Qa[s],v,!1)):i.addEventListener(s,S,!1):i.attachEvent("on"+s,v),i[Ft]=i[Ft]||{},i[Ft][m]=v}function Xa(i,s,u,d,m){m=m||s+f(u)+(d?"_"+f(d):"");var v=i[Ft]&&i[Ft][m];if(!v)return this;!H.touchNative&&H.pointer&&s.indexOf("touch")===0?Vv(i,s,v):H.touch&&s==="dblclick"?Jv(i,v):"removeEventListener"in i?i.removeEventListener(Qa[s]||s,v,!1):i.detachEvent("on"+s,v),i[Ft][m]=null}function Zn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function el(i){return Ya(i,"wheel",Zn),this}function Cr(i){return Q(i,"mousedown touchstart dblclick contextmenu",Zn),i._leaflet_disable_click=!0,this}function ze(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function qn(i){return ze(i),Zn(i),this}function Vd(i){if(i.composedPath)return i.composedPath();for(var s=[],u=i.target;u;)s.push(u),u=u.parentNode;return s}function Ud(i,s){if(!s)return new I(i.clientX,i.clientY);var u=Ka(s),d=u.boundingClientRect;return new I((i.clientX-d.left)/u.x-s.clientLeft,(i.clientY-d.top)/u.y-s.clientTop)}var Yv=H.linux&&H.chrome?window.devicePixelRatio:H.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $d(i){return H.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Yv:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function tl(i,s){var u=s.relatedTarget;if(!u)return!0;try{for(;u&&u!==i;)u=u.parentNode}catch{return!1}return u!==i}var Xv={__proto__:null,on:Q,off:he,stopPropagation:Zn,disableScrollPropagation:el,disableClickPropagation:Cr,preventDefault:ze,stop:qn,getPropagationPath:Vd,getMousePosition:Ud,getWheelDelta:$d,isExternalTarget:tl,addListener:Q,removeListener:he},Hd=Kt.extend({run:function(i,s,u,d){this.stop(),this._el=i,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=Gn(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=le(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,u=this._duration*1e3;s<u?this._runFrame(this._easeOut(s/u),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var u=this._startPos.add(this._offset.multiplyBy(i));s&&u._round(),Ce(this._el,u),this.fire("step")},_complete:function(){ue(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ie=Kt.extend({options:{crs:Ia,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=C(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(K(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=br&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Q(this._proxy,zd,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,u){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(K(i),s,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=o({animate:u.animate},u.zoom),u.pan=o({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,u.zoom):this._tryAnimatedPan(i,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,u.pan&&u.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,u){var d=this.getZoomScale(s),m=this.getSize().divideBy(2),v=i instanceof I?i:this.latLngToContainerPoint(i),S=v.subtract(m).multiplyBy(1-1/d),N=this.containerPointToLatLng(m.add(S));return this.setView(N,s,{zoom:u})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():de(i);var u=B(s.paddingTopLeft||s.padding||[0,0]),d=B(s.paddingBottomRight||s.padding||[0,0]),m=this.getBoundsZoom(i,!1,u.add(d));if(m=typeof s.maxZoom=="number"?Math.min(s.maxZoom,m):m,m===1/0)return{center:i.getCenter(),zoom:m};var v=d.subtract(u).divideBy(2),S=this.project(i.getSouthWest(),m),N=this.project(i.getNorthEast(),m),E=this.unproject(S.add(N).divideBy(2).add(v),m);return{center:E,zoom:m}},fitBounds:function(i,s){if(i=de(i),!i.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(i,s);return this.setView(u.center,u.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=B(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Hd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Y(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,u,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,u){if(u=u||{},u.animate===!1||!H.any3d)return this.setView(i,s,u);this._stop();var d=this.project(this.getCenter()),m=this.project(i),v=this.getSize(),S=this._zoom;i=K(i),s=s===void 0?S:s;var N=Math.max(v.x,v.y),E=N*this.getZoomScale(S,s),z=m.distanceTo(d)||1,V=1.42,q=V*V;function ee(Ne){var Qo=Ne?-1:1,Vy=Ne?E:N,Uy=E*E-N*N+Qo*q*q*z*z,$y=2*Vy*q*z,hl=Uy/$y,jh=Math.sqrt(hl*hl+1)-hl,Hy=jh<1e-9?-18:Math.log(jh);return Hy}function Ze(Ne){return(Math.exp(Ne)-Math.exp(-Ne))/2}function Ae(Ne){return(Math.exp(Ne)+Math.exp(-Ne))/2}function _t(Ne){return Ze(Ne)/Ae(Ne)}var Ye=ee(0);function ji(Ne){return N*(Ae(Ye)/Ae(Ye+V*Ne))}function zy(Ne){return N*(Ae(Ye)*_t(Ye+V*Ne)-Ze(Ye))/q}function Dy(Ne){return 1-Math.pow(1-Ne,1.5)}var Fy=Date.now(),wh=(ee(1)-Ye)/V,By=u.duration?1e3*u.duration:1e3*wh*.8;function Sh(){var Ne=(Date.now()-Fy)/By,Qo=Dy(Ne)*wh;Ne<=1?(this._flyToFrame=le(Sh,this),this._move(this.unproject(d.add(m.subtract(d).multiplyBy(zy(Qo)/z)),S),this.getScaleZoom(N/ji(Qo),S),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Sh.call(this),this},flyToBounds:function(i,s){var u=this._getBoundsCenterZoom(i,s);return this.flyTo(u.center,u.zoom,s)},setMaxBounds:function(i){return i=de(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,de(i));return u.equals(d)||this.panTo(d,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var u=B(s.paddingTopLeft||s.padding||[0,0]),d=B(s.paddingBottomRight||s.padding||[0,0]),m=this.project(this.getCenter()),v=this.project(i),S=this.getPixelBounds(),N=re([S.min.add(u),S.max.subtract(d)]),E=N.getSize();if(!N.contains(v)){this._enforcingBounds=!0;var z=v.subtract(N.getCenter()),V=N.extend(v).getSize().subtract(E);m.x+=z.x<0?-V.x:V.x,m.y+=z.y<0?-V.y:V.y,this.panTo(this.unproject(m),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=s.divideBy(2).round(),m=u.divideBy(2).round(),v=d.subtract(m);return!v.x&&!v.y?this:(i.animate&&i.pan?this.panBy(v):(i.pan&&this._rawPanBy(v),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=c(this._handleGeolocationResponse,this),u=c(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,u,i):navigator.geolocation.getCurrentPosition(s,u,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,u=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,u=i.coords.longitude,d=new se(s,u),m=d.toBounds(i.coords.accuracy*2),v=this._locateOptions;if(v.setView){var S=this.getBoundsZoom(m);this.setView(d,v.maxZoom?Math.min(S,v.maxZoom):S)}var N={latlng:d,bounds:m,timestamp:i.timestamp};for(var E in i.coords)typeof i.coords[E]=="number"&&(N[E]=i.coords[E]);this.fire("locationfound",N)}},addHandler:function(i,s){if(!s)return this;var u=this[i]=new s(this);return this._handlers.push(u),this.options[i]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ye(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ue(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)ye(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var u="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),d=ae("div",u,s||this._mapPane);return i&&(this._panes[i]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),u=this.unproject(i.getTopRight());return new Le(s,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,u){i=de(i),u=B(u||[0,0]);var d=this.getZoom()||0,m=this.getMinZoom(),v=this.getMaxZoom(),S=i.getNorthWest(),N=i.getSouthEast(),E=this.getSize().subtract(u),z=re(this.project(N,d),this.project(S,d)).getSize(),V=H.any3d?this.options.zoomSnap:1,q=E.x/z.x,ee=E.y/z.y,Ze=s?Math.max(q,ee):Math.min(q,ee);return d=this.getScaleZoom(Ze,d),V&&(d=Math.round(d/(V/100))*(V/100),d=s?Math.ceil(d/V)*V:Math.floor(d/V)*V),Math.max(m,Math.min(v,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var u=this._getTopLeftPoint(i,s);return new W(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var u=this.options.crs;return s=s===void 0?this._zoom:s,u.scale(i)/u.scale(s)},getScaleZoom:function(i,s){var u=this.options.crs;s=s===void 0?this._zoom:s;var d=u.zoom(i*u.scale(s));return isNaN(d)?1/0:d},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(K(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(B(i),s)},layerPointToLatLng:function(i){var s=B(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(K(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(K(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(de(i))},distance:function(i,s){return this.options.crs.distance(K(i),K(s))},containerPointToLayerPoint:function(i){return B(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return B(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(B(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(i)))},mouseEventToContainerPoint:function(i){return Ud(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=Dd(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Q(s,"scroll",this._onScroll,this),this._containerId=f(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,Y(i,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=wr(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Y(i.markerPane,"leaflet-zoom-hide"),Y(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,u){Ce(this._mapPane,new I(0,0));var d=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var m=this._zoom!==s;this._moveStart(m,u)._move(i,s)._moveEnd(m),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,u,d){s===void 0&&(s=this._zoom);var m=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),d?u&&u.pinch&&this.fire("zoom",u):((m||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ue(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Ce(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[f(this._container)]=this;var s=i?he:Q;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ue(this._resizeRequest),this._resizeRequest=le(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var u=[],d,m=s==="mouseout"||s==="mouseover",v=i.target||i.srcElement,S=!1;v;){if(d=this._targets[f(v)],d&&(s==="click"||s==="preclick")&&this._draggableMoved(d)){S=!0;break}if(d&&d.listens(s,!0)&&(m&&!tl(v,i)||(u.push(d),m))||v===this._container)break;v=v.parentNode}return!u.length&&!S&&!m&&this.listens(s,!0)&&(u=[this]),u},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var u=i.type;u==="mousedown"&&Ja(s),this._fireDOMEvent(i,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,u){if(i.type==="click"){var d=o({},i);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var m=this._findEventTargets(i,s);if(u){for(var v=[],S=0;S<u.length;S++)u[S].listens(s,!0)&&v.push(u[S]);m=v.concat(m)}if(m.length){s==="contextmenu"&&ze(i);var N=m[0],E={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var z=N.getLatLng&&(!N._radius||N._radius<=10);E.containerPoint=z?this.latLngToContainerPoint(N.getLatLng()):this.mouseEventToContainerPoint(i),E.layerPoint=this.containerPointToLayerPoint(E.containerPoint),E.latlng=z?N.getLatLng():this.layerPointToLatLng(E.layerPoint)}for(S=0;S<m.length;S++)if(m[S].fire(s,E,!0),E.originalEvent._stopped||m[S].options.bubblingMouseEvents===!1&&A(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return Gn(this._mapPane)||new I(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var u=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var u=this.getSize()._divideBy(2);return this.project(i,s)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,u){var d=this._getNewPixelOrigin(u,s);return this.project(i,s)._subtract(d)},_latLngBoundsToNewLayerBounds:function(i,s,u){var d=this._getNewPixelOrigin(u,s);return re([this.project(i.getSouthWest(),s)._subtract(d),this.project(i.getNorthWest(),s)._subtract(d),this.project(i.getSouthEast(),s)._subtract(d),this.project(i.getNorthEast(),s)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,u){if(!u)return i;var d=this.project(i,s),m=this.getSize().divideBy(2),v=new W(d.subtract(m),d.add(m)),S=this._getBoundsOffset(v,u,s);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?i:this.unproject(d.add(S),s)},_limitOffset:function(i,s){if(!s)return i;var u=this.getPixelBounds(),d=new W(u.min.add(i),u.max.add(i));return i.add(this._getBoundsOffset(d,s))},_getBoundsOffset:function(i,s,u){var d=re(this.project(s.getNorthEast(),u),this.project(s.getSouthWest(),u)),m=d.min.subtract(i.min),v=d.max.subtract(i.max),S=this._rebound(m.x,-v.x),N=this._rebound(m.y,-v.y);return new I(S,N)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),u=this.getMaxZoom(),d=H.any3d?this.options.zoomSnap:1;return d&&(i=Math.round(i/d)*d),Math.max(s,Math.min(u,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Se(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var u=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,s),!0)},_createAnimProxy:function(){var i=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var u=Ua,d=this._proxy.style[u];Hn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ye(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();Hn(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(s),m=this._getCenterOffset(i)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(m)?!1:(le(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,Y(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Se(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ey(i,s){return new ie(i,s)}var Ct=Ve.extend({options:{position:"topright"},initialize:function(i){C(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),u=this.getPosition(),d=i._controlCorners[u];return Y(s,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(s,d.firstChild):d.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ye(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Nr=function(i){return new Ct(i)};ie.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",u=this._controlContainer=ae("div",s+"control-container",this._container);function d(m,v){var S=s+m+" "+s+v;i[m+v]=ae("div",S,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)ye(this._controlCorners[i]);ye(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gd=Ct.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,u,d){return u<d?-1:d<u?1:0}},initialize:function(i,s,u){C(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in i)this._addLayer(i[d],d);for(d in s)this._addLayer(s[d],d,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Ct.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(f(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Y(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Y(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Se(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Se(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=ae("div",i),u=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Cr(s),el(s);var d=this._section=ae("section",i+"-list");u&&(this._map.on("click",this.collapse,this),Q(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=ae("a",i+"-toggle",s);m.href="#",m.title="Layers",m.setAttribute("role","button"),Q(m,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){ze(v),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ae("div",i+"-base",d),this._separator=ae("div",i+"-separator",d),this._overlaysList=ae("div",i+"-overlays",d),s.appendChild(d)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&f(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,u){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:u}),this.options.sortLayers&&this._layers.sort(c(function(d,m){return this.options.sortFunction(d.layer,m.layer,d.name,m.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Io(this._baseLayersList),Io(this._overlaysList),this._layerControlInputs=[];var i,s,u,d,m=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),s=s||d.overlay,i=i||!d.overlay,m+=d.overlay?0:1;return this.options.hideSingleBase&&(i=i&&m>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(f(i.target)),u=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;u&&this._map.fire(u,s)},_createRadioElement:function(i,s){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(i){var s=document.createElement("label"),u=this._map.hasLayer(i.layer),d;i.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+f(this),u),this._layerControlInputs.push(d),d.layerId=f(i.layer),Q(d,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+i.name;var v=document.createElement("span");s.appendChild(v),v.appendChild(d),v.appendChild(m);var S=i.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,u,d=[],m=[];this._handlingClick=!0;for(var v=i.length-1;v>=0;v--)s=i[v],u=this._getLayer(s.layerId).layer,s.checked?d.push(u):s.checked||m.push(u);for(v=0;v<m.length;v++)this._map.hasLayer(m[v])&&this._map.removeLayer(m[v]);for(v=0;v<d.length;v++)this._map.hasLayer(d[v])||this._map.addLayer(d[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,u,d=this._map.getZoom(),m=i.length-1;m>=0;m--)s=i[m],u=this._getLayer(s.layerId).layer,s.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Q(i,"click",ze),this.expand();var s=this;setTimeout(function(){he(i,"click",ze),s._preventClick=!1})}}),ty=function(i,s,u){return new Gd(i,s,u)},nl=Ct.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",u=ae("div",s+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,s+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,s+"-out",u,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,u,d,m){var v=ae("a",u,d);return v.innerHTML=i,v.href="#",v.title=s,v.setAttribute("role","button"),v.setAttribute("aria-label",s),Cr(v),Q(v,"click",qn),Q(v,"click",m,this),Q(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";Se(this._zoomInButton,s),Se(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Y(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Y(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new nl,this.addControl(this.zoomControl))});var ny=function(i){return new nl(i)},Zd=Ct.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",u=ae("div",s),d=this.options;return this._addScales(d,s+"-line",u),i.on(d.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),u},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,u){i.metric&&(this._mScale=ae("div",s,u)),i.imperial&&(this._iScale=ae("div",s,u))},_update:function(){var i=this._map,s=i.getSize().y/2,u=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(u)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),u=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,u,s/i)},_updateImperial:function(i){var s=i*3.2808399,u,d,m;s>5280?(u=s/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(m=this._getRoundNum(s),this._updateScale(this._iScale,m+" ft",m/s))},_updateScale:function(i,s,u){i.style.width=Math.round(this.options.maxWidth*u)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),u=i/s;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,s*u}}),iy=function(i){return new Zd(i)},ry='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',il=Ct.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?ry+" ":"")+"Leaflet</a>"},initialize:function(i){C(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),Cr(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var u=[];this.options.prefix&&u.push(this.options.prefix),i.length&&u.push(i.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new il().addTo(this)});var oy=function(i){return new il(i)};Ct.Layers=Gd,Ct.Zoom=nl,Ct.Scale=Zd,Ct.Attribution=il,Nr.layers=ty,Nr.zoom=ny,Nr.scale=iy,Nr.attribution=oy;var Bt=Ve.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Bt.addTo=function(i,s){return i.addHandler(s,this),this};var sy={Events:Me},qd=H.touch?"touchstart mousedown":"mousedown",mn=Kt.extend({options:{clickTolerance:3},initialize:function(i,s,u,d){C(this,d),this._element=i,this._dragStartTarget=s||i,this._preventOutline=u},enable:function(){this._enabled||(Q(this._dragStartTarget,qd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mn._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,qd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!$a(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){mn._dragging===this&&this.finishDrag();return}if(!(mn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(mn._dragging=this,this._preventOutline&&Ja(this._element),Za(),Sr(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,u=Fd(this._element);this._startPoint=new I(s.clientX,s.clientY),this._startPos=Gn(this._element),this._parentScale=Ka(u);var d=i.type==="mousedown";Q(document,d?"mousemove":"touchmove",this._onMove,this),Q(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,u=new I(s.clientX,s.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,ze(i),this._moved||(this.fire("dragstart"),this._moved=!0,Y(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Y(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Ce(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Se(document.body,"leaflet-dragging"),this._lastTarget&&(Se(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),qa(),jr();var s=this._moved&&this._moving;this._moving=!1,mn._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Wd(i,s,u){var d,m=[1,4,2,8],v,S,N,E,z,V,q,ee;for(v=0,V=i.length;v<V;v++)i[v]._code=Wn(i[v],s);for(N=0;N<4;N++){for(q=m[N],d=[],v=0,V=i.length,S=V-1;v<V;S=v++)E=i[v],z=i[S],E._code&q?z._code&q||(ee=Bo(z,E,q,s,u),ee._code=Wn(ee,s),d.push(ee)):(z._code&q&&(ee=Bo(z,E,q,s,u),ee._code=Wn(ee,s),d.push(ee)),d.push(E));i=d}return i}function Jd(i,s){var u,d,m,v,S,N,E,z,V;if(!i||i.length===0)throw new Error("latlngs not passed");yt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var q=K([0,0]),ee=de(i),Ze=ee.getNorthWest().distanceTo(ee.getSouthWest())*ee.getNorthEast().distanceTo(ee.getNorthWest());Ze<1700&&(q=rl(i));var Ae=i.length,_t=[];for(u=0;u<Ae;u++){var Ye=K(i[u]);_t.push(s.project(K([Ye.lat-q.lat,Ye.lng-q.lng])))}for(N=E=z=0,u=0,d=Ae-1;u<Ae;d=u++)m=_t[u],v=_t[d],S=m.y*v.x-v.y*m.x,E+=(m.x+v.x)*S,z+=(m.y+v.y)*S,N+=S*3;N===0?V=_t[0]:V=[E/N,z/N];var ji=s.unproject(B(V));return K([ji.lat+q.lat,ji.lng+q.lng])}function rl(i){for(var s=0,u=0,d=0,m=0;m<i.length;m++){var v=K(i[m]);s+=v.lat,u+=v.lng,d++}return K([s/d,u/d])}var ay={__proto__:null,clipPolygon:Wd,polygonCenter:Jd,centroid:rl};function Kd(i,s){if(!s||!i.length)return i.slice();var u=s*s;return i=cy(i,u),i=uy(i,u),i}function Qd(i,s,u){return Math.sqrt(Pr(i,s,u,!0))}function ly(i,s,u){return Pr(i,s,u)}function uy(i,s){var u=i.length,d=typeof Uint8Array<"u"?Uint8Array:Array,m=new d(u);m[0]=m[u-1]=1,ol(i,m,s,0,u-1);var v,S=[];for(v=0;v<u;v++)m[v]&&S.push(i[v]);return S}function ol(i,s,u,d,m){var v=0,S,N,E;for(N=d+1;N<=m-1;N++)E=Pr(i[N],i[d],i[m],!0),E>v&&(S=N,v=E);v>u&&(s[S]=1,ol(i,s,u,d,S),ol(i,s,u,S,m))}function cy(i,s){for(var u=[i[0]],d=1,m=0,v=i.length;d<v;d++)dy(i[d],i[m])>s&&(u.push(i[d]),m=d);return m<v-1&&u.push(i[v-1]),u}var Yd;function Xd(i,s,u,d,m){var v=d?Yd:Wn(i,u),S=Wn(s,u),N,E,z;for(Yd=S;;){if(!(v|S))return[i,s];if(v&S)return!1;N=v||S,E=Bo(i,s,N,u,m),z=Wn(E,u),N===v?(i=E,v=z):(s=E,S=z)}}function Bo(i,s,u,d,m){var v=s.x-i.x,S=s.y-i.y,N=d.min,E=d.max,z,V;return u&8?(z=i.x+v*(E.y-i.y)/S,V=E.y):u&4?(z=i.x+v*(N.y-i.y)/S,V=N.y):u&2?(z=E.x,V=i.y+S*(E.x-i.x)/v):u&1&&(z=N.x,V=i.y+S*(N.x-i.x)/v),new I(z,V,m)}function Wn(i,s){var u=0;return i.x<s.min.x?u|=1:i.x>s.max.x&&(u|=2),i.y<s.min.y?u|=4:i.y>s.max.y&&(u|=8),u}function dy(i,s){var u=s.x-i.x,d=s.y-i.y;return u*u+d*d}function Pr(i,s,u,d){var m=s.x,v=s.y,S=u.x-m,N=u.y-v,E=S*S+N*N,z;return E>0&&(z=((i.x-m)*S+(i.y-v)*N)/E,z>1?(m=u.x,v=u.y):z>0&&(m+=S*z,v+=N*z)),S=i.x-m,N=i.y-v,d?S*S+N*N:new I(m,v)}function yt(i){return!j(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function eh(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yt(i)}function th(i,s){var u,d,m,v,S,N,E,z;if(!i||i.length===0)throw new Error("latlngs not passed");yt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var V=K([0,0]),q=de(i),ee=q.getNorthWest().distanceTo(q.getSouthWest())*q.getNorthEast().distanceTo(q.getNorthWest());ee<1700&&(V=rl(i));var Ze=i.length,Ae=[];for(u=0;u<Ze;u++){var _t=K(i[u]);Ae.push(s.project(K([_t.lat-V.lat,_t.lng-V.lng])))}for(u=0,d=0;u<Ze-1;u++)d+=Ae[u].distanceTo(Ae[u+1])/2;if(d===0)z=Ae[0];else for(u=0,v=0;u<Ze-1;u++)if(S=Ae[u],N=Ae[u+1],m=S.distanceTo(N),v+=m,v>d){E=(v-d)/m,z=[N.x-E*(N.x-S.x),N.y-E*(N.y-S.y)];break}var Ye=s.unproject(B(z));return K([Ye.lat+V.lat,Ye.lng+V.lng])}var hy={__proto__:null,simplify:Kd,pointToSegmentDistance:Qd,closestPointOnSegment:ly,clipSegment:Xd,_getEdgeIntersection:Bo,_getBitCode:Wn,_sqClosestPointOnSegment:Pr,isFlat:yt,_flat:eh,polylineCenter:th},sl={project:function(i){return new I(i.lng,i.lat)},unproject:function(i){return new se(i.y,i.x)},bounds:new W([-180,-90],[180,90])},al={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,u=this.R,d=i.lat*s,m=this.R_MINOR/u,v=Math.sqrt(1-m*m),S=v*Math.sin(d),N=Math.tan(Math.PI/4-d/2)/Math.pow((1-S)/(1+S),v/2);return d=-u*Math.log(Math.max(N,1e-10)),new I(i.lng*s*u,d)},unproject:function(i){for(var s=180/Math.PI,u=this.R,d=this.R_MINOR/u,m=Math.sqrt(1-d*d),v=Math.exp(-i.y/u),S=Math.PI/2-2*Math.atan(v),N=0,E=.1,z;N<15&&Math.abs(E)>1e-7;N++)z=m*Math.sin(S),z=Math.pow((1-z)/(1+z),m/2),E=Math.PI/2-2*Math.atan(v*z)-S,S+=E;return new se(S*s,i.x*s/u)}},fy={__proto__:null,LonLat:sl,Mercator:al,SphericalMercator:Oa},my=o({},fn,{code:"EPSG:3395",projection:al,transformation:function(){var i=.5/(Math.PI*al.R);return _r(i,.5,-i,.5)}()}),nh=o({},fn,{code:"EPSG:4326",projection:sl,transformation:_r(1/180,1,-1/180,.5)}),py=o({},Qe,{projection:sl,transformation:_r(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var u=s.lng-i.lng,d=s.lat-i.lat;return Math.sqrt(u*u+d*d)},infinite:!0});Qe.Earth=fn,Qe.EPSG3395=my,Qe.EPSG3857=Ia,Qe.EPSG900913=bv,Qe.EPSG4326=nh,Qe.Simple=py;var Nt=Kt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[f(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[f(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var u=this.getEvents();s.on(u,this),this.once("remove",function(){s.off(u,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=f(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=f(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return f(i)in this._layers},eachLayer:function(i,s){for(var u in this._layers)i.call(s,this._layers[u]);return this},_addLayers:function(i){i=i?j(i)?i:[i]:[];for(var s=0,u=i.length;s<u;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[f(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=f(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var m=this._zoomBoundLayers[d].options;i=m.minZoom===void 0?i:Math.min(i,m.minZoom),s=m.maxZoom===void 0?s:Math.max(s,m.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _i=Nt.extend({initialize:function(i,s){C(this,s),this._layers={};var u,d;if(i)for(u=0,d=i.length;u<d;u++)this.addLayer(i[u])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[i]&&d[i].apply(d,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var u in this._layers)i.call(s,this._layers[u]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return f(i)}}),gy=function(i,s){return new _i(i,s)},Qt=_i.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),_i.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),_i.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Le;for(var s in this._layers){var u=this._layers[s];i.extend(u.getBounds?u.getBounds():u.getLatLng())}return i}}),vy=function(i,s){return new Qt(i,s)},xi=Ve.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){C(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var u=this._getIconUrl(i);if(!u){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(d,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(i,s){var u=this.options,d=u[s+"Size"];typeof d=="number"&&(d=[d,d]);var m=B(d),v=B(s==="shadow"&&u.shadowAnchor||u.iconAnchor||m&&m.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(u.className||""),v&&(i.style.marginLeft=-v.x+"px",i.style.marginTop=-v.y+"px"),m&&(i.style.width=m.x+"px",i.style.height=m.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return H.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function yy(i){return new xi(i)}var Lr=xi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Lr.imagePath!="string"&&(Lr.imagePath=this._detectIconPath()),(this.options.imagePath||Lr.imagePath)+xi.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(u,d,m){var v=d.exec(u);return v&&v[m]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ae("div","leaflet-default-icon-path",document.body),s=wr(i,"background-image")||wr(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),ih=Bt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new mn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Y(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Se(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,u=s._map,d=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,v=Gn(s._icon),S=u.getPixelBounds(),N=u.getPixelOrigin(),E=re(S.min._subtract(N).add(m),S.max._subtract(N).subtract(m));if(!E.contains(v)){var z=B((Math.max(E.max.x,v.x)-E.max.x)/(S.max.x-E.max.x)-(Math.min(E.min.x,v.x)-E.min.x)/(S.min.x-E.min.x),(Math.max(E.max.y,v.y)-E.max.y)/(S.max.y-E.max.y)-(Math.min(E.min.y,v.y)-E.min.y)/(S.min.y-E.min.y)).multiplyBy(d);u.panBy(z,{animate:!1}),this._draggable._newPos._add(z),this._draggable._startPos._add(z),Ce(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=le(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(ue(this._panRequest),this._panRequest=le(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,u=s._shadow,d=Gn(s._icon),m=s._map.layerPointToLatLng(d);u&&Ce(u,d),s._latlng=m,i.latlng=m,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){ue(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Vo=Nt.extend({options:{icon:new Lr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){C(this,s),this._latlng=K(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=K(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=i.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,i.title&&(u.title=i.title),u.tagName==="IMG"&&(u.alt=i.alt||"")),Y(u,s),i.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Q(u,"focus",this._panOnFocus,this);var m=i.icon.createShadow(this._shadow),v=!1;m!==this._shadow&&(this._removeShadow(),v=!0),m&&(Y(m,s),m.alt=""),this._shadow=m,i.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&v&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),ye(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ye(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Ce(this._icon,i),this._shadow&&Ce(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Y(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ih)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ih(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&vt(this._icon,i),this._shadow&&vt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,u=s.iconSize?B(s.iconSize):B(0,0),d=s.iconAnchor?B(s.iconAnchor):B(0,0);i.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _y(i,s){return new Vo(i,s)}var pn=Nt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return C(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Uo=pn.extend({options:{fill:!0,radius:10},initialize:function(i,s){C(this,s),this._latlng=K(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=K(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return pn.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,u=this._clickTolerance(),d=[i+u,s+u];this._pxBounds=new W(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function xy(i,s){return new Uo(i,s)}var ll=Uo.extend({initialize:function(i,s,u){if(typeof s=="number"&&(s=o({},u,{radius:s})),C(this,s),this._latlng=K(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Le(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:pn.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===fn.distance){var m=Math.PI/180,v=this._mRadius/fn.R/m,S=u.project([s+v,i]),N=u.project([s-v,i]),E=S.add(N).divideBy(2),z=u.unproject(E).lat,V=Math.acos((Math.cos(v*m)-Math.sin(s*m)*Math.sin(z*m))/(Math.cos(s*m)*Math.cos(z*m)))/m;(isNaN(V)||V===0)&&(V=v/Math.cos(Math.PI/180*s)),this._point=E.subtract(u.getPixelOrigin()),this._radius=isNaN(V)?0:E.x-u.project([z,i-V]).x,this._radiusY=E.y-S.y}else{var q=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(q).x}this._updateBounds()}});function by(i,s,u){return new ll(i,s,u)}var Yt=pn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){C(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,u=null,d=Pr,m,v,S=0,N=this._parts.length;S<N;S++)for(var E=this._parts[S],z=1,V=E.length;z<V;z++){m=E[z-1],v=E[z];var q=d(i,m,v,!0);q<s&&(s=q,u=d(i,m,v))}return u&&(u.distance=Math.sqrt(s)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return th(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=K(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Le,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return yt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],u=yt(i),d=0,m=i.length;d<m;d++)u?(s[d]=K(i[d]),this._bounds.extend(s[d])):s[d]=this._convertLatLngs(i[d]);return s},_project:function(){var i=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new I(i,i);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,u){var d=i[0]instanceof se,m=i.length,v,S;if(d){for(S=[],v=0;v<m;v++)S[v]=this._map.latLngToLayerPoint(i[v]),u.extend(S[v]);s.push(S)}else for(v=0;v<m;v++)this._projectLatlngs(i[v],s,u)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,u,d,m,v,S,N,E;for(u=0,m=0,v=this._rings.length;u<v;u++)for(E=this._rings[u],d=0,S=E.length;d<S-1;d++)N=Xd(E[d],E[d+1],i,d,!0),N&&(s[m]=s[m]||[],s[m].push(N[0]),(N[1]!==E[d+1]||d===S-2)&&(s[m].push(N[1]),m++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,u=0,d=i.length;u<d;u++)i[u]=Kd(i[u],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var u,d,m,v,S,N,E=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(u=0,v=this._parts.length;u<v;u++)for(N=this._parts[u],d=0,S=N.length,m=S-1;d<S;m=d++)if(!(!s&&d===0)&&Qd(i,N[m],N[d])<=E)return!0;return!1}});function wy(i,s){return new Yt(i,s)}Yt._flat=eh;var bi=Yt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Jd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=Yt.prototype._convertLatLngs.call(this,i),u=s.length;return u>=2&&s[0]instanceof se&&s[0].equals(s[u-1])&&s.pop(),s},_setLatLngs:function(i){Yt.prototype._setLatLngs.call(this,i),yt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,u=new I(s,s);if(i=new W(i.min.subtract(u),i.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,m=this._rings.length,v;d<m;d++)v=Wd(this._rings[d],i,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,u,d,m,v,S,N,E,z;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(v=0,E=this._parts.length;v<E;v++)for(u=this._parts[v],S=0,z=u.length,N=z-1;S<z;N=S++)d=u[S],m=u[N],d.y>i.y!=m.y>i.y&&i.x<(m.x-d.x)*(i.y-d.y)/(m.y-d.y)+d.x&&(s=!s);return s||Yt.prototype._containsPoint.call(this,i,!0)}});function Sy(i,s){return new bi(i,s)}var Xt=Qt.extend({initialize:function(i,s){C(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=j(i)?i:i.features,u,d,m;if(s){for(u=0,d=s.length;u<d;u++)m=s[u],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var v=this.options;if(v.filter&&!v.filter(i))return this;var S=$o(i,v);return S?(S.feature=Zo(i),S.defaultOptions=S.options,this.resetStyle(S),v.onEachFeature&&v.onEachFeature(i,S),this.addLayer(S)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function $o(i,s){var u=i.type==="Feature"?i.geometry:i,d=u?u.coordinates:null,m=[],v=s&&s.pointToLayer,S=s&&s.coordsToLatLng||ul,N,E,z,V;if(!d&&!u)return null;switch(u.type){case"Point":return N=S(d),rh(v,i,N,s);case"MultiPoint":for(z=0,V=d.length;z<V;z++)N=S(d[z]),m.push(rh(v,i,N,s));return new Qt(m);case"LineString":case"MultiLineString":return E=Ho(d,u.type==="LineString"?0:1,S),new Yt(E,s);case"Polygon":case"MultiPolygon":return E=Ho(d,u.type==="Polygon"?1:2,S),new bi(E,s);case"GeometryCollection":for(z=0,V=u.geometries.length;z<V;z++){var q=$o({geometry:u.geometries[z],type:"Feature",properties:i.properties},s);q&&m.push(q)}return new Qt(m);case"FeatureCollection":for(z=0,V=u.features.length;z<V;z++){var ee=$o(u.features[z],s);ee&&m.push(ee)}return new Qt(m);default:throw new Error("Invalid GeoJSON object.")}}function rh(i,s,u,d){return i?i(s,u):new Vo(u,d&&d.markersInheritOptions&&d)}function ul(i){return new se(i[1],i[0],i[2])}function Ho(i,s,u){for(var d=[],m=0,v=i.length,S;m<v;m++)S=s?Ho(i[m],s-1,u):(u||ul)(i[m]),d.push(S);return d}function cl(i,s){return i=K(i),i.alt!==void 0?[_(i.lng,s),_(i.lat,s),_(i.alt,s)]:[_(i.lng,s),_(i.lat,s)]}function Go(i,s,u,d){for(var m=[],v=0,S=i.length;v<S;v++)m.push(s?Go(i[v],yt(i[v])?0:s-1,u,d):cl(i[v],d));return!s&&u&&m.length>0&&m.push(m[0].slice()),m}function wi(i,s){return i.feature?o({},i.feature,{geometry:s}):Zo(s)}function Zo(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var dl={toGeoJSON:function(i){return wi(this,{type:"Point",coordinates:cl(this.getLatLng(),i)})}};Vo.include(dl),ll.include(dl),Uo.include(dl),Yt.include({toGeoJSON:function(i){var s=!yt(this._latlngs),u=Go(this._latlngs,s?1:0,!1,i);return wi(this,{type:(s?"Multi":"")+"LineString",coordinates:u})}}),bi.include({toGeoJSON:function(i){var s=!yt(this._latlngs),u=s&&!yt(this._latlngs[0]),d=Go(this._latlngs,u?2:s?1:0,!0,i);return s||(d=[d]),wi(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),_i.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(u){s.push(u.toGeoJSON(i).geometry.coordinates)}),wi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var u=s==="GeometryCollection",d=[];return this.eachLayer(function(m){if(m.toGeoJSON){var v=m.toGeoJSON(i);if(u)d.push(v.geometry);else{var S=Zo(v);S.type==="FeatureCollection"?d.push.apply(d,S.features):d.push(S)}}}),u?wi(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function oh(i,s){return new Xt(i,s)}var jy=oh,qo=Nt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,u){this._url=i,this._bounds=de(s),C(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Y(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ye(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&vi(this._image),this},bringToBack:function(){return this._map&&yi(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=de(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:ae("img");if(Y(s,"leaflet-image-layer"),this._zoomAnimated&&Y(s,"leaflet-zoom-animated"),this.options.className&&Y(s,this.options.className),s.onselectstart=y,s.onmousemove=y,s.onload=c(this.fire,this,"load"),s.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Hn(this._image,u,s)},_reset:function(){var i=this._image,s=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=s.getSize();Ce(i,s.min),i.style.width=u.x+"px",i.style.height=u.y+"px"},_updateOpacity:function(){vt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),ky=function(i,s,u){return new qo(i,s,u)},sh=qo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:ae("video");if(Y(s,"leaflet-image-layer"),this._zoomAnimated&&Y(s,"leaflet-zoom-animated"),this.options.className&&Y(s,this.options.className),s.onselectstart=y,s.onmousemove=y,s.onloadeddata=c(this.fire,this,"load"),i){for(var u=s.getElementsByTagName("source"),d=[],m=0;m<u.length;m++)d.push(u[m].src);this._url=u.length>0?d:[s.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var S=ae("source");S.src=this._url[v],s.appendChild(S)}}});function Cy(i,s,u){return new sh(i,s,u)}var ah=qo.extend({_initImage:function(){var i=this._image=this._url;Y(i,"leaflet-image-layer"),this._zoomAnimated&&Y(i,"leaflet-zoom-animated"),this.options.className&&Y(i,this.options.className),i.onselectstart=y,i.onmousemove=y}});function Ny(i,s,u){return new ah(i,s,u)}var Vt=Nt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof se||j(i))?(this._latlng=K(i),C(this,s)):(C(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&vt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&vt(this._container,1),this.bringToFront(),this.options.interactive&&(Y(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(vt(this._container,0),this._removeTimeout=setTimeout(c(ye,void 0,this._container),200)):ye(this._container),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=K(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vi(this._container),this},bringToBack:function(){return this._map&&yi(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof Qt){s=null;var u=this._source._layers;for(var d in u)if(u[d]._map){s=u[d];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=B(this.options.offset),u=this._getAnchor();this._zoomAnimated?Ce(this._container,i.add(u)):s=s.add(i).add(u);var d=this._containerBottom=-s.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=d+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(i,s,u,d){var m=s;return m instanceof i||(m=new i(d).setContent(s)),u&&m.setLatLng(u),m}}),Nt.include({_initOverlay:function(i,s,u,d){var m=u;return m instanceof i?(C(m,d),m._source=this):(m=s&&!d?s:new i(d,this),m.setContent(u)),m}});var Wo=Vt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Vt.prototype.openOn.call(this,i)},onAdd:function(i){Vt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof pn||this._source.on("preclick",Zn))},onRemove:function(i){Vt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof pn||this._source.off("preclick",Zn))},getEvents:function(){var i=Vt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=ae("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ae("div",i+"-content-wrapper",s);if(this._contentNode=ae("div",i+"-content",u),Cr(s),el(this._contentNode),Q(s,"contextmenu",Zn),this._tipContainer=ae("div",i+"-tip-container",s),this._tip=ae("div",i+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=ae("a",i+"-close-button",s);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',Q(d,"click",function(m){ze(m),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var u=i.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),s.width=u+1+"px",s.whiteSpace="",s.height="";var d=i.offsetHeight,m=this.options.maxHeight,v="leaflet-popup-scrolled";m&&d>m?(s.height=m+"px",Y(i,v)):Se(i,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),u=this._getAnchor();Ce(this._container,s.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(wr(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+s,d=this._containerWidth,m=new I(this._containerLeft,-u-this._containerBottom);m._add(Gn(this._container));var v=i.layerPointToContainerPoint(m),S=B(this.options.autoPanPadding),N=B(this.options.autoPanPaddingTopLeft||S),E=B(this.options.autoPanPaddingBottomRight||S),z=i.getSize(),V=0,q=0;v.x+d+E.x>z.x&&(V=v.x+d-z.x+E.x),v.x-V-N.x<0&&(V=v.x-N.x),v.y+u+E.y>z.y&&(q=v.y+u-z.y+E.y),v.y-q-N.y<0&&(q=v.y-N.y),(V||q)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([V,q]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Py=function(i,s){return new Wo(i,s)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(i,s,u){return this._initOverlay(Wo,i,s,u).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Nt.include({bindPopup:function(i,s){return this._popup=this._initOverlay(Wo,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Qt||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){qn(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof pn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Jo=Vt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Vt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Vt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Vt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,u,d=this._map,m=this._container,v=d.latLngToContainerPoint(d.getCenter()),S=d.layerPointToContainerPoint(i),N=this.options.direction,E=m.offsetWidth,z=m.offsetHeight,V=B(this.options.offset),q=this._getAnchor();N==="top"?(s=E/2,u=z):N==="bottom"?(s=E/2,u=0):N==="center"?(s=E/2,u=z/2):N==="right"?(s=0,u=z/2):N==="left"?(s=E,u=z/2):S.x<v.x?(N="right",s=0,u=z/2):(N="left",s=E+(V.x+q.x)*2,u=z/2),i=i.subtract(B(s,u,!0)).add(V).add(q),Se(m,"leaflet-tooltip-right"),Se(m,"leaflet-tooltip-left"),Se(m,"leaflet-tooltip-top"),Se(m,"leaflet-tooltip-bottom"),Y(m,"leaflet-tooltip-"+N),Ce(m,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&vt(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ly=function(i,s){return new Jo(i,s)};ie.include({openTooltip:function(i,s,u){return this._initOverlay(Jo,i,s,u).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Nt.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jo,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[s](u),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Qt||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(Q(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Q(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,u,d;this._tooltip.options.sticky&&i.originalEvent&&(u=this._map.mouseEventToContainerPoint(i.originalEvent),d=this._map.containerPointToLayerPoint(u),s=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(s)}});var lh=xi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Io(s),s.appendChild(u.html)):s.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=B(u.bgPos);s.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Ty(i){return new lh(i)}xi.Default=Lr;var Tr=Nt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){C(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),ye(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof I?i:new I(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,u=-i(-1/0,1/0),d=0,m=s.length,v;d<m;d++)v=s[d].style.zIndex,s[d]!==this._container&&v&&(u=i(u,+v));isFinite(u)&&(this.options.zIndex=u+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!H.ielt9){vt(this._container,this.options.opacity);var i=+new Date,s=!1,u=!1;for(var d in this._tiles){var m=this._tiles[d];if(!(!m.current||!m.loaded)){var v=Math.min(1,(i-m.loaded)/200);vt(m.el,v),v<1?s=!0:(m.active?u=!0:this._onOpaqueTile(m),m.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),s&&(ue(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===i?(this._levels[u].el.style.zIndex=s-Math.abs(i-u),this._onUpdateLevel(u)):(ye(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[i],m=this._map;return d||(d=this._levels[i]={},d.el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=s,d.origin=m.project(m.unproject(m.getPixelOrigin()),i).round(),d.zoom=i,this._setZoomTransform(d,m.getCenter(),m.getZoom()),y(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var i,s,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var d=s.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)ye(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,u,d){var m=Math.floor(i/2),v=Math.floor(s/2),S=u-1,N=new I(+m,+v);N.z=+S;var E=this._tileCoordsToKey(N),z=this._tiles[E];return z&&z.active?(z.retain=!0,!0):(z&&z.loaded&&(z.retain=!0),S>d?this._retainParent(m,v,S,d):!1)},_retainChildren:function(i,s,u,d){for(var m=2*i;m<2*i+2;m++)for(var v=2*s;v<2*s+2;v++){var S=new I(m,v);S.z=u+1;var N=this._tileCoordsToKey(S),E=this._tiles[N];if(E&&E.active){E.retain=!0;continue}else E&&E.loaded&&(E.retain=!0);u+1<d&&this._retainChildren(m,v,u+1,d)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,u,d){var m=Math.round(s);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var v=this.options.updateWhenZooming&&m!==this._tileZoom;(!d||v)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(i),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var u in this._levels)this._setZoomTransform(this._levels[u],i,s)},_setZoomTransform:function(i,s,u){var d=this._map.getZoomScale(u,i.zoom),m=i.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(s,u)).round();H.any3d?Hn(i.el,m,d):Ce(i.el,m)},_resetGrid:function(){var i=this._map,s=i.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],d).x/u.x),Math.ceil(i.project([0,s.wrapLng[1]],d).x/u.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],d).y/u.x),Math.ceil(i.project([s.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,u=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),d=s.getZoomScale(u,this._tileZoom),m=s.project(i,this._tileZoom).floor(),v=s.getSize().divideBy(d*2);return new W(m.subtract(v),m.add(v))},_update:function(i){var s=this._map;if(s){var u=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(i),m=this._pxBoundsToTileRange(d),v=m.getCenter(),S=[],N=this.options.keepBuffer,E=new W(m.getBottomLeft().subtract([N,-N]),m.getTopRight().add([N,-N]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var z in this._tiles){var V=this._tiles[z].coords;(V.z!==this._tileZoom||!E.contains(new I(V.x,V.y)))&&(this._tiles[z].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(i,u);return}for(var q=m.min.y;q<=m.max.y;q++)for(var ee=m.min.x;ee<=m.max.x;ee++){var Ze=new I(ee,q);if(Ze.z=this._tileZoom,!!this._isValidTile(Ze)){var Ae=this._tiles[this._tileCoordsToKey(Ze)];Ae?Ae.current=!0:S.push(Ze)}}if(S.sort(function(Ye,ji){return Ye.distanceTo(v)-ji.distanceTo(v)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _t=document.createDocumentFragment();for(ee=0;ee<S.length;ee++)this._addTile(S[ee],_t);this._level.el.appendChild(_t)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var u=this._globalTileRange;if(!s.wrapLng&&(i.x<u.min.x||i.x>u.max.x)||!s.wrapLat&&(i.y<u.min.y||i.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(i);return de(this.options.bounds).overlaps(d)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,u=this.getTileSize(),d=i.scaleBy(u),m=d.add(u),v=s.unproject(d,i.z),S=s.unproject(m,i.z);return[v,S]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),u=new Le(s[0],s[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),u=new I(+s[0],+s[1]);return u.z=+s[2],u},_removeTile:function(i){var s=this._tiles[i];s&&(ye(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Y(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=y,i.onmousemove=y,H.ielt9&&this.options.opacity<1&&vt(i,this.options.opacity)},_addTile:function(i,s){var u=this._getTilePos(i),d=this._tileCoordsToKey(i),m=this.createTile(this._wrapCoords(i),c(this._tileReady,this,i));this._initTile(m),this.createTile.length<2&&le(c(this._tileReady,this,i,null,m)),Ce(m,u),this._tiles[d]={el:m,coords:i,current:!0},s.appendChild(m),this.fire("tileloadstart",{tile:m,coords:i})},_tileReady:function(i,s,u){s&&this.fire("tileerror",{error:s,tile:u,coords:i});var d=this._tileCoordsToKey(i);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?(vt(u.el,0),ue(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),s||(Y(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?le(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new I(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new W(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Ey(i){return new Tr(i)}var Si=Tr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=C(this,s),s.detectRetina&&H.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var u=document.createElement("img");return Q(u,"load",c(this._tileOnLoad,this,s,u)),Q(u,"error",c(this._tileOnError,this,s,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(i),u},getTileUrl:function(i){var s={r:H.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=u),s["-y"]=u}return b(this._url,o(s,this.options))},_tileOnLoad:function(i,s){H.ielt9?setTimeout(c(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,u){var d=this.options.errorTileUrl;d&&s.getAttribute("src")!==d&&(s.src=d),i(u,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(i=s-i),i+d},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=y,s.onerror=y,!s.complete)){s.src=R;var u=this._tiles[i].coords;ye(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:u})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",R),Tr.prototype._removeTile.call(this,i)},_tileReady:function(i,s,u){if(!(!this._map||u&&u.getAttribute("src")===R))return Tr.prototype._tileReady.call(this,i,s,u)}});function uh(i,s){return new Si(i,s)}var ch=Si.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var u=o({},this.defaultWmsParams);for(var d in s)d in this.options||(u[d]=s[d]);s=C(this,s);var m=s.detectRetina&&H.retina?2:1,v=this.getTileSize();u.width=v.x*m,u.height=v.y*m,this.wmsParams=u},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Si.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),u=this._crs,d=re(u.project(s[0]),u.project(s[1])),m=d.min,v=d.max,S=(this._wmsVersion>=1.3&&this._crs===nh?[m.y,m.x,v.y,v.x]:[m.x,m.y,v.x,v.y]).join(","),N=Si.prototype.getTileUrl.call(this,i);return N+O(this.wmsParams,N,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(i,s){return o(this.wmsParams,i),s||this.redraw(),this}});function Ay(i,s){return new ch(i,s)}Si.WMS=ch,uh.wms=Ay;var en=Nt.extend({options:{padding:.1},initialize:function(i){C(this,i),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Y(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var u=this._map.getZoomScale(s,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,s),v=d.multiplyBy(-u).add(m).subtract(this._map._getNewPixelOrigin(i,s));H.any3d?Hn(this._container,v,u):Ce(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),u=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new W(u,u.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dh=en.extend({options:{tolerance:0},getEvents:function(){var i=en.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){en.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Q(i,"mousemove",this._onMouseMove,this),Q(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Q(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){ue(this._redrawRequest),delete this._ctx,ye(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){en.prototype._update.call(this);var i=this._bounds,s=this._container,u=i.getSize(),d=H.retina?2:1;Ce(s,i.min),s.width=d*u.x,s.height=d*u.y,s.style.width=u.x+"px",s.style.height=u.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){en.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[f(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,u=s.next,d=s.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete i._order,delete this._layers[f(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),u=[],d,m;for(m=0;m<s.length;m++){if(d=Number(s[m]),isNaN(d))return;u.push(d)}i.options._dashArray=u}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||le(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var u=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)i=d.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var u,d,m,v,S=i._parts,N=S.length,E=this._ctx;if(N){for(E.beginPath(),u=0;u<N;u++){for(d=0,m=S[u].length;d<m;d++)v=S[u][d],E[d?"lineTo":"moveTo"](v.x,v.y);s&&E.closePath()}this._fillStroke(E,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,u=this._ctx,d=Math.max(Math.round(i._radius),1),m=(Math.max(Math.round(i._radiusY),1)||d)/d;m!==1&&(u.save(),u.scale(1,m)),u.beginPath(),u.arc(s.x,s.y/m,d,0,Math.PI*2,!1),m!==1&&u.restore(),this._fillStroke(u,i)}},_fillStroke:function(i,s){var u=s.options;u.fill&&(i.globalAlpha=u.fillOpacity,i.fillStyle=u.fillColor||u.color,i.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=u.opacity,i.lineWidth=u.weight,i.strokeStyle=u.color,i.lineCap=u.lineCap,i.lineJoin=u.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),u,d,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(Se(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var u,d,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(s)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(i),d&&(Y(this._container,"leaflet-interactive"),this._fireEvent([d],i,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,u){this._map._fireDOMEvent(s,u||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var u=s.next,d=s.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var u=s.next,d=s.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function hh(i){return H.canvas?new dh(i):null}var Er=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Oy={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(en.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=Er("shape");Y(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=Er("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[f(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;ye(s),i.removeInteractiveTarget(s),delete this._layers[f(i)]},_updateStyle:function(i){var s=i._stroke,u=i._fill,d=i.options,m=i._container;m.stroked=!!d.stroke,m.filled=!!d.fill,d.stroke?(s||(s=i._stroke=Er("stroke")),m.appendChild(s),s.weight=d.weight+"px",s.color=d.color,s.opacity=d.opacity,d.dashArray?s.dashStyle=j(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=d.lineCap.replace("butt","flat"),s.joinstyle=d.lineJoin):s&&(m.removeChild(s),i._stroke=null),d.fill?(u||(u=i._fill=Er("fill")),m.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(m.removeChild(u),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),u=Math.round(i._radius),d=Math.round(i._radiusY||u);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){vi(i._container)},_bringToBack:function(i){yi(i._container)}},Ko=H.vml?Er:gd,Ar=en.extend({_initContainer:function(){this._container=Ko("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ko("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ye(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){en.prototype._update.call(this);var i=this._bounds,s=i.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,u.setAttribute("width",s.x),u.setAttribute("height",s.y)),Ce(u,i.min),u.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=Ko("path");i.options.className&&Y(s,i.options.className),i.options.interactive&&Y(s,"leaflet-interactive"),this._updateStyle(i),this._layers[f(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){ye(i._path),i.removeInteractiveTarget(i._path),delete this._layers[f(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,u=i.options;s&&(u.stroke?(s.setAttribute("stroke",u.color),s.setAttribute("stroke-opacity",u.opacity),s.setAttribute("stroke-width",u.weight),s.setAttribute("stroke-linecap",u.lineCap),s.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?s.setAttribute("stroke-dasharray",u.dashArray):s.removeAttribute("stroke-dasharray"),u.dashOffset?s.setAttribute("stroke-dashoffset",u.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),u.fill?(s.setAttribute("fill",u.fillColor||u.color),s.setAttribute("fill-opacity",u.fillOpacity),s.setAttribute("fill-rule",u.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,vd(i._parts,s))},_updateCircle:function(i){var s=i._point,u=Math.max(Math.round(i._radius),1),d=Math.max(Math.round(i._radiusY),1)||u,m="a"+u+","+d+" 0 1,0 ",v=i._empty()?"M0 0":"M"+(s.x-u)+","+s.y+m+u*2+",0 "+m+-u*2+",0 ";this._setPath(i,v)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){vi(i._path)},_bringToBack:function(i){yi(i._path)}});H.vml&&Ar.include(Oy);function fh(i){return H.svg||H.vml?new Ar(i):null}ie.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&hh(i)||fh(i)}});var mh=bi.extend({initialize:function(i,s){bi.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=de(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Ry(i,s){return new mh(i,s)}Ar.create=Ko,Ar.pointsToPath=vd,Xt.geometryToLayer=$o,Xt.coordsToLatLng=ul,Xt.coordsToLatLngs=Ho,Xt.latLngToCoords=cl,Xt.latLngsToCoords=Go,Xt.getFeature=wi,Xt.asFeature=Zo,ie.mergeOptions({boxZoom:!0});var ph=Bt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Q(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ye(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Sr(),Za(),this._startPoint=this._map.mouseEventToContainerPoint(i),Q(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),Y(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new W(this._point,this._startPoint),u=s.getSize();Ce(this._box,s.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(ye(this._box),Se(this._container,"leaflet-crosshair")),jr(),qa(),he(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var s=new Le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",ph),ie.mergeOptions({doubleClickZoom:!0});var gh=Bt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,u=s.getZoom(),d=s.options.zoomDelta,m=i.originalEvent.shiftKey?u-d:u+d;s.options.doubleClickZoom==="center"?s.setZoom(m):s.setZoomAround(i.containerPoint,m)}});ie.addInitHook("addHandler","doubleClickZoom",gh),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vh=Bt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new mn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Y(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Se(this._map._container,"leaflet-grab"),Se(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=de(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,m=(d-s+u)%i+s-u,v=(d+s+u)%i-s-u,S=Math.abs(m+u)<Math.abs(v+u)?m:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(i){var s=this._map,u=s.options,d=!u.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),d)s.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,S=u.easeLinearity,N=m.multiplyBy(S/v),E=N.distanceTo([0,0]),z=Math.min(u.inertiaMaxSpeed,E),V=N.multiplyBy(z/E),q=z/(u.inertiaDeceleration*S),ee=V.multiplyBy(-q/2).round();!ee.x&&!ee.y?s.fire("moveend"):(ee=s._limitOffset(ee,s.options.maxBounds),le(function(){s.panBy(ee,{duration:q,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",vh),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yh=Bt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Q(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,u=i.scrollTop||s.scrollTop,d=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},u=this.keyCodes,d,m;for(d=0,m=u.left.length;d<m;d++)s[u.left[d]]=[-1*i,0];for(d=0,m=u.right.length;d<m;d++)s[u.right[d]]=[i,0];for(d=0,m=u.down.length;d<m;d++)s[u.down[d]]=[0,i];for(d=0,m=u.up.length;d<m;d++)s[u.up[d]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},u=this.keyCodes,d,m;for(d=0,m=u.zoomIn.length;d<m;d++)s[u.zoomIn[d]]=i;for(d=0,m=u.zoomOut.length;d<m;d++)s[u.zoomOut[d]]=-i},_addHooks:function(){Q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,u=this._map,d;if(s in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[s],i.shiftKey&&(d=B(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(B(d),u.options.maxBounds)),u.options.worldCopyJump){var m=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(m)}else u.panBy(d)}else if(s in this._zoomKeys)u.setZoom(u.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;qn(i)}}});ie.addInitHook("addHandler","keyboard",yh),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _h=Bt.extend({addHooks:function(){Q(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=$d(i),u=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),d),qn(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),u=this._map.options.zoomSnap||0;i._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,v=u?Math.ceil(m/u)*u:m,S=i._limitZoom(s+(this._delta>0?v:-v))-s;this._delta=0,this._startTime=null,S&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+S):i.setZoomAround(this._lastMousePos,s+S))}});ie.addInitHook("addHandler","scrollWheelZoom",_h);var Iy=600;ie.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var xh=Bt.extend({addHooks:function(){Q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new I(s.clientX,s.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Q(document,"touchend",ze),Q(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Iy),Q(document,"touchend touchcancel contextmenu",this._cancel,this),Q(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){he(document,"touchend",ze),he(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new I(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var u=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});u._simulated=!0,s.target.dispatchEvent(u)}});ie.addInitHook("addHandler","tapHold",xh),ie.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var bh=Bt.extend({addHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),Q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var u=s.mouseEventToContainerPoint(i.touches[0]),d=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Q(document,"touchmove",this._onTouchMove,this),Q(document,"touchend touchcancel",this._onTouchEnd,this),ze(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,u=s.mouseEventToContainerPoint(i.touches[0]),d=s.mouseEventToContainerPoint(i.touches[1]),m=u.distanceTo(d)/this._startDist;if(this._zoom=s.getScaleZoom(m,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&m<1||this._zoom>s.getMaxZoom()&&m>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var v=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(m===1&&v.x===0&&v.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),ue(this._animRequest);var S=c(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=le(S,this,!0),ze(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ue(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",bh),ie.BoxZoom=ph,ie.DoubleClickZoom=gh,ie.Drag=vh,ie.Keyboard=yh,ie.ScrollWheelZoom=_h,ie.TapHold=xh,ie.TouchZoom=bh,n.Bounds=W,n.Browser=H,n.CRS=Qe,n.Canvas=dh,n.Circle=ll,n.CircleMarker=Uo,n.Class=Ve,n.Control=Ct,n.DivIcon=lh,n.DivOverlay=Vt,n.DomEvent=Xv,n.DomUtil=Qv,n.Draggable=mn,n.Evented=Kt,n.FeatureGroup=Qt,n.GeoJSON=Xt,n.GridLayer=Tr,n.Handler=Bt,n.Icon=xi,n.ImageOverlay=qo,n.LatLng=se,n.LatLngBounds=Le,n.Layer=Nt,n.LayerGroup=_i,n.LineUtil=hy,n.Map=ie,n.Marker=Vo,n.Mixin=sy,n.Path=pn,n.Point=I,n.PolyUtil=ay,n.Polygon=bi,n.Polyline=Yt,n.Popup=Wo,n.PosAnimation=Hd,n.Projection=fy,n.Rectangle=mh,n.Renderer=en,n.SVG=Ar,n.SVGOverlay=ah,n.TileLayer=Si,n.Tooltip=Jo,n.Transformation=Ra,n.Util=gt,n.VideoOverlay=sh,n.bind=c,n.bounds=re,n.canvas=hh,n.circle=by,n.circleMarker=xy,n.control=Nr,n.divIcon=Ty,n.extend=o,n.featureGroup=vy,n.geoJSON=oh,n.geoJson=jy,n.gridLayer=Ey,n.icon=yy,n.imageOverlay=ky,n.latLng=K,n.latLngBounds=de,n.layerGroup=gy,n.map=ey,n.marker=_y,n.point=B,n.polygon=Sy,n.polyline=wy,n.popup=Py,n.rectangle=Ry,n.setOptions=C,n.stamp=f,n.svg=fh,n.svgOverlay=Ny,n.tileLayer=uh,n.tooltip=Ly,n.transformation=_r,n.version=r,n.videoOverlay=Cy;var My=window.L;n.noConflict=function(){return window.L=My,this},window.L=n})})(Xu,Xu.exports);var Aa=Xu.exports;function dd(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function hd(e,t){return t==null?function(r,o){const a=T.useRef();return a.current||(a.current=e(r,o)),a}:function(r,o){const a=T.useRef();a.current||(a.current=e(r,o));const c=T.useRef(r),{instance:h}=a.current;return T.useEffect(function(){c.current!==r&&(t(h,r,c.current),c.current=r)},[h,r,o]),a}}function iv(e,t){T.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function rj(e){return function(n){const r=Ea(),o=e(cd(n,r),r);return XS(r.map,n.attribution),nv(o.current,n.eventHandlers),iv(o.current,r),o}}function oj(e,t){const n=T.useRef();T.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function sj(e){return function(n){const r=Ea(),o=e(cd(n,r),r);return nv(o.current,n.eventHandlers),iv(o.current,r),oj(o.current,n),o}}function aj(e,t){const n=hd(e,t),r=sj(n);return tv(r)}function lj(e,t){const n=hd(e,t),r=rj(n);return nj(r)}function uj(e,t,n){const{opacity:r,zIndex:o}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),o!=null&&o!==n.zIndex&&e.setZIndex(o)}const rv=aj(function({data:t,...n},r){const o=new Aa.GeoJSON(t,n);return dd(o,ld(r,{overlayContainer:o}))},function(t,n,r){n.style!==r.style&&(n.style==null?t.resetStyle():t.setStyle(n.style))}),cj=hd(function({children:t,...n},r){const o=new Aa.Control.Layers(void 0,void 0,n);return dd(o,ld(r,{layersControl:o}))},function(t,n,r){n.collapsed!==r.collapsed&&(n.collapsed===!0?t.collapse():t.expand())}),dj=ij(cj),ar=tv(dj);function ov(e){return function(n){const r=Ea(),o=T.useRef(n),[a,c]=T.useState(null),{layersControl:h,map:f}=r,p=T.useCallback(_=>{h!=null&&(o.current.checked&&f.addLayer(_),e(h,_,o.current.name),c(_))},[h,f]),g=T.useCallback(_=>{h==null||h.removeLayer(_),c(null)},[h]),y=T.useMemo(()=>ld(r,{layerContainer:{addLayer:p,removeLayer:g}}),[r,p,g]);return T.useEffect(()=>{a!==null&&o.current!==n&&(n.checked===!0&&(o.current.checked==null||o.current.checked===!1)?f.addLayer(a):o.current.checked===!0&&(n.checked==null||n.checked===!1)&&f.removeLayer(a),o.current=n)}),n.children?ro.createElement(ud,{value:y},n.children):null}}ar.BaseLayer=ov(function(t,n,r){t.addBaseLayer(n,r)});ar.Overlay=ov(function(t,n,r){t.addOverlay(n,r)});function ec(){return ec=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(this,arguments)}function hj({bounds:e,boundsOptions:t,center:n,children:r,className:o,id:a,placeholder:c,style:h,whenReady:f,zoom:p,...g},y){const[_]=T.useState({className:o,id:a,style:h}),[k,P]=T.useState(null);T.useImperativeHandle(y,()=>(k==null?void 0:k.map)??null,[k]);const C=T.useCallback(w=>{if(w!==null&&k===null){const b=new Aa.Map(w,g);n!=null&&p!=null?b.setView(n,p):e!=null&&b.fitBounds(e,t),f!=null&&b.whenReady(f),P(tj(b))}},[]);T.useEffect(()=>()=>{k==null||k.map.remove()},[k]);const O=k?ro.createElement(ud,{value:k},r):c??null;return ro.createElement("div",ec({},_,{ref:C}),O)}const sv=T.forwardRef(hj),av=lj(function({url:t,...n},r){const o=new Aa.TileLayer(t,cd(n,r));return dd(o,r)},function(t,n,r){uj(t,n,r);const{url:o}=n;o!=null&&o!==r.url&&t.setUrl(o)});function Wt(e,t){return Array.from(e.getElementsByTagName(t))}function ra(e){return e[0]==="#"?e:`#${e}`}function fj(e,t,n){return Array.from(e.getElementsByTagNameNS(n,t))}function ht(e){return e==null||e.normalize(),e&&e.textContent||""}function Jt(e,t,n){const r=e.getElementsByTagName(t);return r.length?r[0]:null}function zt(e,t,n){const r={};if(!e)return r;const o=e.getElementsByTagName(t),a=o.length?o[0]:null;return a&&n?n(a,r):r}function lr(e,t,n){const r=ht(Jt(e,t));return r&&n?n(r)||{}:{}}function Ai(e,t,n){const r=parseFloat(ht(Jt(e,t)));if(!isNaN(r))return n&&n(r),r}function lv(e,t){const n={};for(const r of t)lr(e,r,o=>{n[r]=o});return n}function uv(e){return(e==null?void 0:e.nodeType)===1}function cv(e,t){const n={},r=t=="stroke"||t==="fill"?t:t+"-color";return e[0]==="#"&&(e=e.substring(1)),e.length===6||e.length===3?n[r]="#"+e:e.length===8&&(n[t+"-opacity"]=parseInt(e.substring(0,2),16)/255,n[r]="#"+e.substring(6,8)+e.substring(4,6)+e.substring(2,4)),n}function oa(e,t,n){const r={};return Ai(e,t,o=>{r[n]=o}),r}function fd(e,t){return zt(e,"color",n=>cv(ht(n),t))}function dv(e){return zt(e,"Icon",(t,n)=>(lr(t,"href",r=>{n.icon=r}),n))}function mj(e){return zt(e,"IconStyle",t=>Object.assign(fd(t,"icon"),oa(t,"scale","icon-scale"),oa(t,"heading","icon-heading"),zt(t,"hotSpot",n=>{const r=parseFloat(n.getAttribute("x")||""),o=parseFloat(n.getAttribute("y")||""),a=n.getAttribute("xunits")||"",c=n.getAttribute("yunits")||"";return!isNaN(r)&&!isNaN(o)?{"icon-offset":[r,o],"icon-offset-units":[a,c]}:{}}),dv(t)))}function pj(e){return zt(e,"LabelStyle",t=>Object.assign(fd(t,"label"),oa(t,"scale","label-scale")))}function gj(e){return zt(e,"LineStyle",t=>Object.assign(fd(t,"stroke"),oa(t,"width","stroke-width")))}function vj(e){return zt(e,"PolyStyle",(t,n)=>Object.assign(n,zt(t,"color",r=>cv(ht(r),"fill")),lr(t,"fill",r=>{if(r==="0")return{"fill-opacity":0}}),lr(t,"outline",r=>{if(r==="0")return{"stroke-opacity":0}})))}function md(e){return Object.assign({},vj(e),gj(e),pj(e),mj(e))}const Ti=e=>Number(e),tc={string:e=>e,int:Ti,uint:Ti,short:Ti,ushort:Ti,float:Ti,double:Ti,bool:e=>!!e};function hv(e,t){return zt(e,"ExtendedData",(n,r)=>{for(const o of Wt(n,"Data"))r[o.getAttribute("name")||""]=ht(Jt(o,"value"));for(const o of Wt(n,"SimpleData")){const a=o.getAttribute("name")||"",c=t[a]||tc.string;r[a]=c(ht(o))}return r})}function fv(e){const t=Jt(e,"description");for(const n of Array.from((t==null?void 0:t.childNodes)||[]))if(n.nodeType===4)return{description:{"@type":"html",value:ht(n)}};return{}}function mv(e){return zt(e,"TimeSpan",t=>({timespan:{begin:ht(Jt(t,"begin")),end:ht(Jt(t,"end"))}}))}function pv(e){return zt(e,"TimeStamp",t=>({timestamp:ht(Jt(t,"when"))}))}function gv(e,t){return lr(e,"styleUrl",n=>(n=ra(n),t[n]?Object.assign({styleUrl:n},t[n]):{styleUrl:n}))}const yj=/\s*/g,_j=/^\s*|\s*$/g,xj=/\s+/;function vv(e){return e.replace(yj,"").split(",").map(parseFloat).filter(t=>!isNaN(t)).slice(0,3)}function nc(e){return e.replace(_j,"").split(xj).map(vv).filter(t=>t.length>=2)}function bj(e){let t=Wt(e,"coord");t.length===0&&(t=fj(e,"coord","*"));const n=t.map(r=>ht(r).split(" ").map(parseFloat));return n.length===0?null:{geometry:n.length>2?{type:"LineString",coordinates:n}:{type:"Point",coordinates:n[0]},times:Wt(e,"when").map(r=>ht(r))}}function yv(e){if(e.length===0)return e;const t=e[0],n=e[e.length-1];let r=!0;for(let o=0;o<Math.max(t.length,n.length);o++)if(t[o]!==n[o]){r=!1;break}return r?e:e.concat([e[0]])}function Es(e){return ht(Jt(e,"coordinates"))}function _v(e){let t=[],n=[];for(let r=0;r<e.childNodes.length;r++){const o=e.childNodes.item(r);if(uv(o))switch(o.tagName){case"MultiGeometry":case"MultiTrack":case"gx:MultiTrack":{const a=_v(o);t=t.concat(a.geometries),n=n.concat(a.coordTimes);break}case"Point":{const a=vv(Es(o));a.length>=2&&t.push({type:"Point",coordinates:a});break}case"LinearRing":case"LineString":{const a=nc(Es(o));a.length>=2&&t.push({type:"LineString",coordinates:a});break}case"Polygon":{const a=[];for(const c of Wt(o,"LinearRing")){const h=yv(nc(Es(c)));h.length>=4&&a.push(h)}a.length&&t.push({type:"Polygon",coordinates:a});break}case"Track":case"gx:Track":{const a=bj(o);if(!a)break;const{times:c,geometry:h}=a;t.push(h),c.length&&n.push(c);break}}}return{geometries:t,coordTimes:n}}function wj(e){return e.length===0?null:e.length===1?e[0]:{type:"GeometryCollection",geometries:e}}function Sj(e,t,n,r){var p;const{coordTimes:o,geometries:a}=_v(e),c=wj(a);if(!c&&r.skipNullGeometry)return null;const h={type:"Feature",geometry:c,properties:Object.assign(lv(e,["name","address","visibility","open","phoneNumber","description"]),fv(e),gv(e,t),md(e),hv(e,n),mv(e),pv(e),o.length?{coordinateProperties:{times:o.length===1?o[0]:o}}:{})};((p=h.properties)==null?void 0:p.visibility)!==void 0&&(h.properties.visibility=h.properties.visibility!=="0");const f=e.getAttribute("id");return f!==null&&f!==""&&(h.id=f),h}function jj(e){return Jt(e,"gx:LatLonQuad")?{geometry:{type:"Polygon",coordinates:[yv(nc(Es(e)))]}}:Nj(e)}const kj=Math.PI/180;function Cj(e,t,n){const r=[(e[0]+e[2])/2,(e[1]+e[3])/2];return[t[0].map(o=>{const a=o[1]-r[1],c=o[0]-r[0],h=Math.sqrt(Math.pow(a,2)+Math.pow(c,2)),f=Math.atan2(a,c)+n*kj;return[r[0]+Math.cos(f)*h,r[1]+Math.sin(f)*h]})]}function Nj(e){const t=Jt(e,"LatLonBox");if(t){const n=Ai(t,"north"),r=Ai(t,"west"),o=Ai(t,"east"),a=Ai(t,"south"),c=Ai(t,"rotation");if(typeof n=="number"&&typeof a=="number"&&typeof r=="number"&&typeof o=="number"){const h=[r,a,o,n];let f=[[[r,n],[o,n],[o,a],[r,a],[r,n]]];return typeof c=="number"&&(f=Cj(h,f,c)),{bbox:h,geometry:{type:"Polygon",coordinates:f}}}}return null}function Pj(e,t,n,r){var f;const o=jj(e),a=(o==null?void 0:o.geometry)||null;if(!a&&r.skipNullGeometry)return null;const c={type:"Feature",geometry:a,properties:Object.assign({"@geometry-type":"groundoverlay"},lv(e,["name","address","visibility","open","phoneNumber","description"]),fv(e),gv(e,t),md(e),dv(e),hv(e,n),mv(e),pv(e))};o!=null&&o.bbox&&(c.bbox=o.bbox),((f=c.properties)==null?void 0:f.visibility)!==void 0&&(c.properties.visibility=c.properties.visibility!=="0");const h=e.getAttribute("id");return h!==null&&h!==""&&(c.id=h),c}function Lj(e){let t=e.getAttribute("id");const n=e.parentNode;return!t&&uv(n)&&n.localName==="CascadingStyle"&&(t=n.getAttribute("kml:id")||n.getAttribute("id")),ra(t||"")}function Tj(e){const t={};for(const n of Wt(e,"Style"))t[Lj(n)]=md(n);for(const n of Wt(e,"StyleMap")){const r=ra(n.getAttribute("id")||"");lr(n,"styleUrl",o=>{o=ra(o),t[o]&&(t[r]=t[o])})}return t}function Ej(e){const t={};for(const n of Wt(e,"SimpleField"))t[n.getAttribute("name")||""]=tc[n.getAttribute("type")||""]||tc.string;return t}function*Aj(e,t={skipNullGeometry:!1}){const n=Tj(e),r=Ej(e);for(const o of Wt(e,"Placemark")){const a=Sj(o,n,r,t);a&&(yield a)}for(const o of Wt(e,"GroundOverlay")){const a=Pj(o,n,r,t);a&&(yield a)}}function xv(e,t={skipNullGeometry:!1}){return{type:"FeatureCollection",features:Array.from(Aj(e,t))}}function Oj({geoFiles:e}){const[t,n]=T.useState([]),[r,o]=T.useState([[46.227638,2.213749]]),[a,c]=T.useState(5),h=["#3388ff","#ff4444","#33cc33","#ff9900","#9933cc","#00ccff","#ff66b2","#99cc00","#ff8533","#6666ff"],f=T.useCallback((g,y)=>{var _;(_=g.properties)!=null&&_.description&&y.bindPopup(g.properties.description)},[]);T.useEffect(()=>{(async()=>{const y=[];let _=[];for(let k=0;k<e.length;k++)try{const P=e[k],C=await P.text();let O;if(P.name.endsWith(".kml")){const b=new DOMParser().parseFromString(C,"text/xml");O=xv(b)}else O=JSON.parse(C);O&&O.features&&(O.features.forEach(w=>{if(w.geometry&&w.geometry.coordinates){const b=w.geometry.coordinates;Array.isArray(b)&&(w.geometry.type==="Point"?_.push([b[1],b[0]]):w.geometry.type==="LineString"?b.forEach(j=>{_.push([j[1],j[0]])}):w.geometry.type==="Polygon"&&b[0].forEach(j=>{_.push([j[1],j[0]])}))}}),y.push({id:`layer-${k}`,name:P.name,data:O,color:h[k%h.length]}))}catch(P){console.error(`Erreur lors du chargement du fichier ${e[k].name}:`,P)}_.length>0&&(o(_),c(12)),n(y)})()},[e]);const p=r.length>1?[r.reduce((g,y)=>g+y[0],0)/r.length,r.reduce((g,y)=>g+y[1],0)/r.length]:[46.227638,2.213749];return l.jsx("div",{className:"h-96 w-full rounded-lg overflow-hidden border border-gray-300 mt-4",children:l.jsxs(sv,{center:p,zoom:a,style:{height:"100%",width:"100%"},children:[l.jsx(av,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),l.jsx(ar,{position:"topright",children:t.map(g=>l.jsx(ar.Overlay,{name:g.name,checked:!0,children:l.jsx(rv,{data:g.data,style:()=>({color:g.color,weight:3,opacity:1,fillColor:g.color,fillOpacity:.2}),onEachFeature:f})},g.id))})]})})}function Rj({operation:e,onChange:t}){const n=async o=>{const a=o.target.files;if(a){const c=Array.from(a).filter(f=>f.name.endsWith(".kml")||f.name.endsWith(".geojson")),h=await Promise.all(c.map(async f=>{const p=await f.text();return new File([p],f.name,{type:f.type})}));t({...e,geoFiles:[...e.geoFiles||[],...h]})}},r=o=>{const a=[...e.geoFiles||[]];a.splice(o,1),t({...e,geoFiles:a})};return l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Informations sur l'opération"}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Informations générales"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:"Indiquer la distance maximale en km à prendre en compte pour la zone adjacente, à partir des limites de la zone tampon pour les risques liés au sol.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Étendue de la zone adjacente (km)"})}),l.jsx("input",{type:"number",value:e.adjacentAreaExtent,onChange:o=>t({...e,adjacentAreaExtent:parseFloat(o.target.value)||0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(M,{text:`VLOS : le télépilote maintien une ligne de vue visuelle avec l'UAS à tout moment. 
            Les opérations EVLOS permettent le vol d'un UAS au-delà de la vue visuelle du télépilote en utilisant des ' observateurs entraînés ' pour garder l'aéronef dans leur champ de vision. 
            BVLOS : l'exploitation d'un UAS au-delà d'une distance où le pilote à distance est en mesure de réagir ou d'éviter d'autres utilisateurs de l'espace aérien par des moyens visuels directs`,children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type d'opération"})}),l.jsxs("select",{value:e.operationType,onChange:o=>t({...e,operationType:o.target.value,visualObserversCount:o.target.value==="EVLOS – Vol en vue Etendu"?e.visualObserversCount:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"VLOS – Vol en vue",children:"VLOS – Vol en vue"}),l.jsx("option",{value:"EVLOS – Vol en vue Etendu",children:"EVLOS – Vol en vue Etendu"}),l.jsx("option",{value:"BVLOS – Vol hors vue",children:"BVLOS – Vol hors vue"})]})]}),e.operationType==="EVLOS – Vol en vue Etendu"&&l.jsxs("div",{children:[l.jsx(M,{text:"Penser à préciser sur la cartographie un fichier kml précisant la position des observateurs.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre d'observateurs visuels"})}),l.jsx("input",{type:"number",value:e.visualObserversCount,onChange:o=>t({...e,visualObserversCount:parseInt(o.target.value)||0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(M,{text:"GM1 Article 2 - Definitions (11)",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transport de marchandises dangereuses"})}),l.jsxs("select",{value:e.dangerousGoods,onChange:o=>t({...e,dangerousGoods:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Insérer l'altitude maximale de vol, exprimée en mètres et en pieds entre parenthèses, du volume opérationnel approuvé (en ajoutant le tampon pour le risque aérien, le cas échéant) en utilisant la référence AGL lorsque la limite supérieure est inférieure à 150 m (492 ft), ou en utilisant la référence MSL lorsque la limite supérieure est supérieure à 150 m (492 ft).",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hauteur maximale du volume d'opération"})}),l.jsx("input",{type:"number",value:e.maxOperationHeight,onChange:o=>t({...e,maxOperationHeight:parseFloat(o.target.value)||0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Opération de jour ou de nuit"}),l.jsxs("select",{value:e.dayNightOperation,onChange:o=>t({...e,dayNightOperation:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Jour",children:"Jour"}),l.jsx("option",{value:"Nuit",children:"Nuit"}),l.jsx("option",{value:"Jour & Nuit",children:"Jour & Nuit"})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Heure Locale",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Heure de Démarrage des opérations"})}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{type:"time",value:e.operationStartTime,onChange:o=>t({...e,operationStartTime:o.target.value}),className:"block w-full pr-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),l.jsx(Hu,{className:"absolute right-3 top-2 h-5 w-5 text-gray-400"})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Heure Locale",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Heure de Fin des opérations"})}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{type:"time",value:e.operationEndTime,onChange:o=>t({...e,operationEndTime:o.target.value}),className:"block w-full pr-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),l.jsx(Hu,{className:"absolute right-3 top-2 h-5 w-5 text-gray-400"})]})]})]}),l.jsx("h3",{className:"text-lg font-medium mt-8",children:"Cohérence des plans de vol et distance de sécurité multi-opérateurs"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:"Indiquer la distance maximale en m à prendre en compte par rapport à la zone d'évolution",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Distance maximale par rapport au télépilote (m)"})}),l.jsx("input",{type:"number",value:e.maxDistanceFromPilot,onChange:o=>t({...e,maxDistanceFromPilot:parseFloat(o.target.value)||0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Niveau de confinement atteint"}),l.jsxs("select",{value:e.confinementLevel,onChange:o=>t({...e,confinementLevel:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Basic",children:"Basic"}),l.jsx("option",{value:"Enhanced",children:"Enhanced"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(M,{text:'Préciser le type de certificat de télépilote, si nécessaire ; sinon, indiquer "Déclaré".',children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Compétence du télépilote"})}),l.jsx("textarea",{value:e.pilotCompetency,onChange:o=>t({...e,pilotCompetency:o.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(M,{text:`Préciser le type de certificat pour le personnel, autre que le télépilote, essentiel à la sécurité de l'opération, si nécessaire ; sinon, indiquer "Déclaré".`,children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Compétence du personnel, autre que le télépilote, essentielle à la sécurité de l'opération"})}),l.jsx("textarea",{value:e.otherPersonnelCompetency,onChange:o=>t({...e,otherPersonnelCompetency:o.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lister les Types d'événements à signaler à l'autorité compétente [en plus de ceux requis par le règlement (UE) no 376/2014]"}),l.jsx("textarea",{value:e.reportableEvents,onChange:o=>t({...e,reportableEvents:o.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs(M,{text:"Déposez des fichiers KML ou GeoJSON détaillant la mission",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zone Géographique"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-500 transition-colors",children:[l.jsx("input",{type:"file",accept:".kml,.geojson",onChange:n,className:"hidden",id:"geo-upload",multiple:!0}),l.jsxs("label",{htmlFor:"geo-upload",className:"flex items-center justify-center gap-2 cursor-pointer",children:[l.jsx(td,{className:"w-5 h-5 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Déposer des fichiers KML ou GeoJSON ici"})]})]})]}),e.geoFiles&&e.geoFiles.length>0&&l.jsx("div",{className:"mt-4 space-y-2",children:e.geoFiles.map((o,a)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-sm text-gray-600",children:o.name}),l.jsx("button",{onClick:()=>r(a),className:"text-red-500 hover:text-red-700",children:"Supprimer"})]},a))}),l.jsx(Oj,{geoFiles:e.geoFiles||[]})]})]})}function Ij({osos:e,assessment:t,onChange:n}){if(e){const o=["Non Requis","Faible","Moyen","Élevé"];let a=[];t.SAIL.toString().includes("SAIL 1")?a=[0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0]:t.SAIL.toString().includes("SAIL 2")?a=[1,0,1,0,0,1,1,2,1,1,2,1,1,2,1,1,1,0,0]:t.SAIL.toString().includes("SAIL 3")?a=[2,1,2,0,1,1,2,3,2,2,3,2,2,3,2,2,2,1,1]:t.SAIL.toString().includes("SAIL 4")?a=[3,2,2,1,2,2,2,3,2,2,3,2,3,3,2,2,2,2,2]:t.SAIL.toString().includes("SAIL 5")?a=[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2]:t.SAIL.toString().includes("SAIL 6")?a=[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]:t.SAIL.toString().includes("Certifié")&&(a=[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]);const c=a;e=[{id:"OSO1",number:"01",description:"Opérateur UAS compétent et/ou approuvé",requiredLevel:o.at(c.at(0)),status:"Faible",evidence:"",tooltip:"<div>Elément de réponse attendu :<br /> (a) Plan de formation générale. <br /> (b) Formation de l’équipage spécifique sur l’UAS concerné. <br />(c) Expérience de l’opérateur et précédentes opérations. <br />(d) Checklist et manuel d’entretien</div>"},{id:"OSO2",number:"02",description:"Constructeur UAS compétent et/ou approuvé",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO3",number:"03",description:"Maintenance UAS assurée par une entité compétente et/ou approuvée",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO4",number:"04",description:"UAS développé selon des standards reconnus par l’autorité",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO5",number:"05",description:"UAS conçu selon des standards de fiabilité et de sécurité",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO6",number:"06",description:"Performances du Lien C3 appropriées pour la mission",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO7",number:"07",description:"Inspections de l’UAS pour assurer la validité du ConOps",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO8",number:"08",description:"Procédures opérationnelles définies, validées et appliquées",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO9",number:"09",description:"Equipage formé, entrainé régulièrement et capable de faire face aux situations anormales",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO10",number:"10",description:"Retour à la normale en toute sécurité après un problème technique",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO11",number:"11",description:"Des procédures sont en place pour supporter la détérioration des systèmes externes de soutien à l’opération",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO12",number:"12",description:"L’UAS est conçu pour supporter la détérioration des systèmes externes de soutien",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO13",number:"13",description:"Les systèmes externes de soutien sont adéquats pour l’opération",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO14",number:"14",description:"Procédures opérationnelles définies, validées et appliquées",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO15",number:"15",description:"Equipage formé, entrainé régulièrement et capable de faire face aux situations anormales",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO16",number:"16",description:"Coordination intra-équipage",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO17",number:"17",description:"Equipage en capacité d’exploiter",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO18",number:"18",description:"Protection automatique de l’enveloppe de vol, résistance à l’erreur humaine",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "},{id:"OSO19",number:"19",description:"Retour à la normale en toute sécurité après une erreur humaine",requiredLevel:"Faible",status:"Faible",evidence:"",tooltip:"Elément de réponse attendu : "}]}else return l.jsx("div",{children:"Loading..."});const r=(o,a)=>{const c=e.map((h,f)=>f===o?{...h,...a}:h);n(c)};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Objectifs de Sécurité Opérationnelle (OSO)"}),e.map((o,a)=>l.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[l.jsxs("h3",{className:"font-medium",children:["OSO #",o.number," - ",o.description]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Niveau requis"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:o.requiredLevel})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Niveau atteint"}),l.jsxs("select",{value:o.status,onChange:c=>r(a,{status:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[l.jsx("option",{value:"Low",children:"Faible"}),l.jsx("option",{value:"Medium",children:"Moyen"}),l.jsx("option",{value:"High",children:"Élevé"})]})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsx("div",{dangerouslySetInnerHTML:{__html:o.tooltip}}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification / Preuves"})}),l.jsx("textarea",{value:o.evidence,onChange:c=>r(a,{evidence:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]},o.id))]})}function Mj({geoFiles:e}){const[t,n]=T.useState([]),[r,o]=T.useState([[46.227638,2.213749]]),[a,c]=T.useState(5),h=["#3388ff","#ff4444","#33cc33","#ff9900","#9933cc","#00ccff","#ff66b2","#99cc00","#ff8533","#6666ff"],f=T.useCallback((g,y)=>{var _;(_=g.properties)!=null&&_.description&&y.bindPopup(g.properties.description)},[]);T.useEffect(()=>{(async()=>{const y=[];let _=[];for(let k=0;k<e.length;k++)try{const P=e[k],C=await P.text();let O;if(P.name.endsWith(".kml")){const b=new DOMParser().parseFromString(C,"text/xml");O=xv(b)}else O=JSON.parse(C);O&&O.features&&(O.features.forEach(w=>{if(w.geometry&&w.geometry.coordinates){const b=w.geometry.coordinates;Array.isArray(b)&&(w.geometry.type==="Point"?_.push([b[1],b[0]]):w.geometry.type==="LineString"?b.forEach(j=>{_.push([j[1],j[0]])}):w.geometry.type==="Polygon"&&b[0].forEach(j=>{_.push([j[1],j[0]])}))}}),y.push({id:`layer-${k}`,name:P.name,data:O,color:h[k%h.length]}))}catch(P){console.error(`Erreur lors du chargement du fichier ${e[k].name}:`,P)}_.length>0&&(o(_),c(12)),n(y)})()},[e]);const p=r.length>1?[r.reduce((g,y)=>g+y[0],0)/r.length,r.reduce((g,y)=>g+y[1],0)/r.length]:[46.227638,2.213749];return l.jsx("div",{className:"h-96 w-full rounded-lg overflow-hidden border border-gray-300 mt-4",children:l.jsxs(sv,{center:p,zoom:a,style:{height:"100%",width:"100%"},children:[l.jsx(av,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),l.jsx(ar,{position:"topright",children:t.map(g=>l.jsx(ar.Overlay,{name:g.name,checked:!0,children:l.jsx(rv,{data:g.data,style:()=>({color:g.color,weight:3,opacity:1,fillColor:g.color,fillOpacity:.2}),onEachFeature:f})},g.id))})]})})}const zj="/assets/DefinitionOfVolumes-DTGZjJ69.png";function Dj({assessment:e,drone:t,operation:n,onChange:r,showOnly:o}){var U;const a=x=>{r({...e,GlidingCapability:x.target.value,assessmentGRB:x.target.value==="NON"?"Approche Simplifiée, Règle 1:1":e.assessmentGRB})},c=x=>{const F=x.target.checked;r({...e,GRB_FixedWingPowerOff:F?"ACTIVATED":"NONACTIVE",assessmentGRB:"Approche Simplifiée, Règle 1:1"})},h=()=>(e.GRB_FixedWingPowerOff="ACTIVATED",!0),f=()=>{let x=1,F=9.81,G=e.environmentalLimitations.maxGustSpeed;return e.assessmentGRB==="Approche Simplifiée, Règle 1:1"?x=e.ContingencyVolumeHeight+.5*e.maxCharacteristicDimension:e.assessmentGRB==="Approche Balistique (Hélicoptère ou Multirotor)"?x=e.maxSpeed*Math.sqrt(2*e.ContingencyVolumeHeight/F)+.5*e.maxCharacteristicDimension:e.assessmentGRB==="Terminaison Aile Fixe"?x=e.ContingencyVolumeHeight/Math.tan(e.ThetaGlide*Math.PI/180):e.assessmentGRB==="Terminaison avec parachute"?x=e.maxSpeed*e.ParachuteTime+G*e.ContingencyVolumeHeight/e.VzParachute:x=0,parseFloat(x.toFixed(2))},p=(x,F,G,Z,le)=>{let ue=1;return ue=x+F+G+Z+le,e.ContingencyVolumeWidth=parseFloat(ue.toFixed(2)),parseFloat(ue.toFixed(2))},g=(x,F,G)=>{let Z=1;return Z=x+F+G+e.FlightGeographyHeight,e.ContingencyVolumeHeight=parseFloat(Z.toFixed(2)),parseFloat(Z.toFixed(2))},y=()=>{let x=1,F=1,G=9.81;if(e.ContingencyParachuteManeuver==="OUI")x=e.ParachuteTime*e.maxSpeed,F=parseFloat((e.ParachuteTime*.7*e.maxSpeed).toFixed(2));else return e.uasType==="Avion"||e.uasType==="Hybride/VTOL"||e.uasType==="Plus léger que l'air"?(x=e.maxSpeed*e.maxSpeed/(G*Math.tan(e.PhiMaxPlane*Math.PI/180)),F=.3*e.maxSpeed*e.maxSpeed/G):e.uasType==="Hélicoptère"||e.uasType==="Multirotor"?(x=.5*e.maxSpeed*e.maxSpeed/(G*Math.tan(e.ThetaStopCopter*Math.PI/180)),F=.5*e.maxSpeed*e.maxSpeed/G):e.uasType==="Autre"?(x=.5*e.maxSpeed*(90/e.turnRate),F=.3*e.maxSpeed*e.maxSpeed/G):x=NaN,e.ContingencyVolumeSCM=parseFloat(x.toFixed(2)),e.ContingencyVolumeHCM=parseFloat(F.toFixed(2)),[x,F]},_=()=>{let x=8;return e.maxCharacteristicDimension<=1?x=8:e.maxCharacteristicDimension<=3?x=80:e.maxCharacteristicDimension<=8?x=800:e.maxCharacteristicDimension<=20?x=8e3:(e.maxCharacteristicDimension<=40,x=8e4),e.CriticalArea=x,x},k=()=>{let x=5,G=.3+e.maxCharacteristicDimension/2,Z=1;return e.ObstaclesModulation==="OUI"?Z=.6:Z=1,e.maxCharacteristicDimension<=1?x=2*G*e.dGlide+Math.PI*Math.pow(G,2):e.maxCharacteristicDimension<8?x=Z*(2*G*(e.dGlide+e.dSlideReduced)+Math.PI*G*G):e.maxCharacteristicDimension>=8&&(x=2*G*(e.dGlide+e.dSlideReduced)+Math.PI*G*G),e.CriticalArea=x,x},P=()=>e.maxCharacteristicDimension<=1?35:10,C=()=>{if(e.DetailedJarusModel=="OUI"){let F=Math.sqrt(2*290/e.MTOW),G=.8,Z=Math.abs(Math.cos(e.ThetaGlide*Math.PI/180))*e.maxSpeed,gt=.6*9.81,Ve=Math.max((G*Z-F)/gt,0),yr=G*Z*Ve-.5*gt*Ve*Ve;return e.dSlideReduced=parseFloat(yr.toFixed(2)),e.dSlideReduced}else return 0},O=()=>{let x=1.8;return e.DetailedJarusModel=="OUI"?(e.dGlide=parseFloat((x/Math.tan(e.ThetaGlide*Math.PI/180)).toFixed(2)),parseFloat(e.dGlide.toFixed(2))):0},[w,b]=T.useState(null),j=T.useRef(null),A=async x=>{const F=x.target.files;if(F){const G=Array.from(F);if(G.filter(ue=>!ue.name.startsWith("Trajectoire_")&&(ue.name.endsWith(".kml")||ue.name.endsWith(".geojson"))).length>0){b("ERREUR : votre fichier doit avoir un nom de la forme 'Trajectoire_Nom-de-la-trajectoire' et être un fichier .kml ou .geojson");return}b(null);const le=await Promise.all(G.map(async ue=>{const gt=await ue.text();return new File([gt],ue.name,{type:ue.type})}));r({...e,trajgeoFiles:[...e.trajgeoFiles||[],...le]})}},R=x=>{const F=[...e.trajgeoFiles||[]];F.splice(x,1),r({...e,trajgeoFiles:F})};return l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Évaluation des Risques"}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Mission"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:"Option Hauteur de vol",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hauteur de Vol"})}),l.jsxs("select",{value:e.assessmentTypeHauteurVol,onChange:x=>r({...e,assessmentTypeHauteurVol:x.target.value,followTerrainHeight:x.target.value==="Hauteur de vol en suivi de terrain"?e.followTerrainHeight:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Hauteur de vol suivant trajectoire(s)",children:"Hauteur de vol suivant trajectoire(s)"}),l.jsx("option",{value:"Hauteur de vol en suivi de terrain",children:"Hauteur de vol en suivi de terrain"})]})]}),e.assessmentTypeHauteurVol==="Hauteur de vol en suivi de terrain"&&l.jsxs("div",{children:[l.jsx(M,{text:"Hauteur qui sera appliquée suivant la topographie terrain.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hauteur de la trajectoire"})}),l.jsx("input",{type:"number",value:e.followTerrainHeight,onChange:x=>r({...e,followTerrainHeight:parseInt(x.target.value)||0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:" XXX ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Moduler la densité de population en fonction du temps de vol le long de la trajectoire du drone"})}),l.jsxs("select",{value:e.PopulationDensityModulation,onChange:x=>r({...e,PopulationDensityModulation:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}),e.PopulationDensityModulation==="OUI"&&l.jsxs("div",{children:[l.jsx(M,{text:"Heure Locale spécifiée à l'étape #1",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Heure de Démarrage des opérations"})}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("input",{type:"time",value:e.assessmentStartTime,onChange:x=>r({...e,assessmentStartTime:x.target.value}),className:"block w-full pr-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:!0}),l.jsx(Hu,{className:"absolute right-3 top-2 h-5 w-5 text-gray-400"})]})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Insérez vos trajectoires : un fichier par tajectoire sous le nom Trajectoire_Nom-de-la-trajectoire",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trajectoire"})}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-500 transition-colors",children:[l.jsx("input",{ref:j,type:"file",accept:".kml,.geojson",onChange:A,className:"hidden",multiple:!0}),l.jsxs("div",{onClick:()=>{var x;return(x=j.current)==null?void 0:x.click()},className:"flex items-center justify-center gap-2 cursor-pointer",children:[l.jsx(td,{className:"w-5 h-5 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Déposer des fichiers KML ou GeoJSON ici"})]})]}),w&&l.jsx("div",{className:"mt-2 p-2 bg-red-50 text-red-600 rounded",children:w}),e.trajgeoFiles&&e.trajgeoFiles.length>0&&l.jsx("div",{className:"mt-2 space-y-2",children:e.trajgeoFiles.map((x,F)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded",children:[l.jsx("span",{className:"text-sm text-gray-600",children:x.name}),l.jsx("button",{onClick:()=>R(F),className:"text-red-500 hover:text-red-700",children:"Supprimer"})]},F))}),l.jsx(Mj,{geoFiles:e.trajgeoFiles||[]})]})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Determination de l'iGRC : Intrinsic Ground Risk Class"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Etape 1 : Determination de la surface critique de crash (Ac)."}),l.jsxs("div",{children:[l.jsx(M,{text:"Aussi appelée Critical Area ou Surface de Crash",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Surface Critique"})}),l.jsxs("select",{value:e.assessmentCriticalArea,onChange:x=>r({...e,assessmentCriticalArea:x.target.value,CriticalArea:x.target.value==="Spécifiée par le déposant"?e.CriticalArea:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation",children:"Sélectionner une méthode d'évaluation"}),l.jsx("option",{value:"Calcul selon les tables SORA",children:"Calcul selon les tables SORA"}),l.jsx("option",{value:"Calcul selon les Modèles JARUS",children:"Calcul selon les Modèles JARUS"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]})]}),e.assessmentCriticalArea==="Spécifiée par le déposant"?l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx(M,{text:"Valeur de la Surface Critique déclarée (m²) A justifier par l'opérateur en annexe ! ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valeur de la Surface Critique déclarée (m²)"})}),l.jsx("input",{type:"number",value:e.CriticalArea,onChange:x=>r({...e,CriticalArea:parseInt(x.target.value)||0}),step:"1.0",className:"mt-1 block w-full rounded-md border-black border-2 font-bold  shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Si vous choisissez de déclarer votre propre valeur de surface critique, veuillez apporter une justification. Celle-ci doit établir clairement le mode de calcul adopté. Vous devrez fournir en annexe un document détaillant chaque étape de calcul et leur base de justification.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre surface Critique"})}),l.jsx("textarea",{value:e.UserCriticalArea_Justification,onChange:x=>r({...e,UserCriticalArea_Justification:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):e.assessmentCriticalArea==="Calcul selon les Modèles JARUS"?l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valeur de la Surface Critique Calculée (m²)"}),l.jsx("div",{className:"mt-1 block w-full rounded-md border-black border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",children:Math.round(k())})]}),l.jsxs("div",{children:[l.jsx(M,{text:" ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"L'appareil est-il capable de planer ?"})}),l.jsxs("select",{value:e.GlidingCapability,onChange:x=>r({...e,GlidingCapability:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}),e.GlidingCapability==="NON"&&l.jsxs("div",{children:[l.jsx(M,{text:" ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"L'angle d'impact serait-il supérieur à 60° ?"})}),l.jsxs("select",{value:e.HighImpactAngle,onChange:x=>r({...e,HighImpactAngle:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}),e.GlidingCapability==="OUI"||e.HighImpactAngle==="NON"?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Jarus Model"}),e.maxCharacteristicDimension>=1&&e.maxCharacteristicDimension<8?l.jsxs("div",{children:[l.jsx(M,{text:" Activable si la Dimensions caractéristiques maximales est comprise entre 1m et 8m (1m ≤ w < 8m) et en présence d'obstacles le justifiant.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Activer la réduction de 40% pour les obstacles"})}),l.jsxs("select",{value:e.ObstaclesModulation,onChange:x=>r({...e,ObstaclesModulation:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}):l.jsxs("div",{children:[l.jsx(M,{text:" Activable si la Dimensions caractéristiques maximales est comprise entre 1m et 8m (1m ≤ w < 8m) et en présence d'obstacles le justifiant.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Activer la réduction de 40% pour les obstacles"})}),l.jsx("select",{value:e.ObstaclesModulation,onChange:x=>r({...e,ObstaclesModulation:x.target.value}),disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:l.jsx("option",{value:"NON",children:"NON"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dimensions caractéristiques maximales (m)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.maxCharacteristicDimension})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse maximales (m/s)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.maxSpeed})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Données personalisées pour le modèle Jarus",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Activer les fonctionnalités de calcul détaillé du modèle"})}),l.jsxs("select",{value:e.DetailedJarusModel,onChange:x=>r({...e,DetailedJarusModel:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}),l.jsx("h3",{className:"text-lg font-medium",children:"   "}),e.DetailedJarusModel==="OUI"&&l.jsxs("div",{children:[l.jsx(M,{text:"Angle d'impact (de plané/fauché.) NB: Si Dimensions caractéristiques maximales ≤ 1m prendre 35°, et pour les appareil plus grand prendre 10°.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Theta_Glide (deg)"})}),l.jsx("input",{type:"number",value:e.ThetaGlide,onChange:x=>r({...e,ThetaGlide:parseFloat(x.target.value)||0}),step:"0.1",min:0,max:90,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:P().toString()}),l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mass maximale MTOW (kg)"}),l.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:e.MTOW})]}),e.DetailedJarusModel==="OUI"&&l.jsxs("div",{children:[l.jsx(M,{text:"Si votre Angle d'impact ne respecte pas les consignes, apporter une justification. NB: Si Dimensions caractéristiques maximales ≤ 1m prendre 35°, et pour les appareil plus grand prendre 10°.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Theta_Glide Justification"})}),l.jsx("textarea",{value:e.Theta_Glide_Justification,onChange:x=>r({...e,Theta_Glide_Justification:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Distance de plané à hauteur d'homme.",l.jsx("br",{}),"d_Glide = hperson/tan θ"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"d_Glide (m)"})}),l.jsx("input",{type:"number",value:e.dGlide,onChange:x=>r({...e,dGlide:parseFloat(x.target.value)||0}),step:"0.01",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:O().toString()})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Distance de glissement/friction.",l.jsx("br",{}),"d_Slide,reduced = e·vhorizontal·tsafe − 0,5·Cg·g(tsafe)²"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"d_Slide,reduced (m)"})}),l.jsx("input",{type:"number",value:e.dSlideReduced,onChange:x=>r({...e,dSlideReduced:parseFloat(x.target.value)||0}),step:"0.01",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:C().toString()})]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.jsx("h3",{className:"text-lg font-medium",children:"High Impact Angle Model"})})]}):e.assessmentCriticalArea==="Calcul selon les tables SORA"?l.jsxs("div",{children:[l.jsx("div",{children:l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-black text-black",children:[l.jsx("th",{className:"bg-gray-200 py-2 px-4 border-b",children:"Max. characteristic dimension (m)"}),l.jsx("th",{className:"bg-white py-2 px-4 border-b",children:"≤1"}),l.jsx("th",{className:"bg-white py-2 px-4 border-b",children:"≤3"}),l.jsx("th",{className:"bg-white py-2 px-4 border-b",children:"≤8"}),l.jsx("th",{className:"bg-white py-2 px-4 border-b",children:"≤20"}),l.jsx("th",{className:"bg-white py-2 px-4 border-b",children:"≤40"})]})}),l.jsx("tbody",{children:l.jsxs("tr",{className:"bg-gray-200",children:[l.jsx("th",{className:"bg-gray-200 py-2 px-4 border-b",children:"Critical area (m²)"}),l.jsx("th",{className:"bg-white py-2 px-4 border-b",children:"8"}),l.jsx("th",{className:"bg-white py-2 px-4 border-b",children:"80"}),l.jsx("th",{className:"bg-white py-2 px-4 border-b",children:"800"}),l.jsx("th",{className:"bg-white py-2 px-4 border-b",children:"8000"}),l.jsx("th",{className:"bg-white py-2 px-4 border-b",children:"80000"})]})})]})}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Valeur de la Surface Critique (m²) selon les tables SORA.",l.jsx("br",{}),"Ces valeurs peuvent être trop conservatrices pour certains cas d'utilisation!"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valeur de la Surface Critique selon les tables (m²)."})}),l.jsx("input",{type:"number",value:_(),onChange:x=>r({...e,CriticalArea:parseInt(x.target.value)||0}),className:"mt-1 block w-full rounded-md border-black border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:!0})]})]}):l.jsx("div",{})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Etape 2 : Determination des Volumes d'évolution, de Contingence Zone Tampon et Adjacente  (Flight Geometry)."}),l.jsx("img",{src:zj,alt:"Centres d'Essais Drones France",className:"w-auto h-auto mb-6 mx-auto"}),l.jsx("h2",{className:"text-lg font-medium",children:"Etape 2.1 : Determination du Volume d'évolution (Flight Geometry)."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Largeur du Volume d'évolution.",l.jsx("br",{}),"Attention : Des valeurs inférieures à 3 fois la dimension caractéristique maximale de l'appareil sont considérées irrecevables.",l.jsx("br",{}),"S_FG≥ 3.maxCharacteristicDimension à l'arrondis supérieur."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"S_FG : Largeur du Volume d'évolution (m)"})}),l.jsx("input",{type:"number",value:e.FlightGeographyWidth,onChange:x=>r({...e,FlightGeographyWidth:Math.max(parseFloat(x.target.value),Math.round(3*e.maxCharacteristicDimension+.49))||0}),step:"1.0",className:"mt-1 block w-full rounded-md border-green-900 border-2 font-bold bg-green-50 text-green-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:Math.round(3*e.maxCharacteristicDimension+.49).toString()})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Hauteur du Volume d'évolution.",l.jsx("br",{}),"Attention : Des valeurs inférieures à 3 fois la dimension caractéristique maximale de l'appareil sont considérées irrecevables.",l.jsx("br",{}),"H_FG≥ 3.maxCharacteristicDimension à l'arrondis supérieur"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"H_FG : Hauteur du Volume d'évolution (m)"})}),l.jsx("input",{type:"number",value:e.FlightGeographyHeight,onChange:x=>r({...e,FlightGeographyHeight:Math.max(parseFloat(x.target.value),Math.round(3*e.maxCharacteristicDimension+.49))||0}),step:"1.0",min:3*e.maxCharacteristicDimension,className:"mt-1 block w-full rounded-md border-green-900 border-2 font-bold bg-green-50 text-green-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:Math.round(3*e.maxCharacteristicDimension+.49).toString()})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Vous pouvez si vous le souhaitez apporter des éléments de justification de la définition de votre Volume d'évolution.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Volume d'évolution"})}),l.jsx("textarea",{value:e.FlightGeography_Justification,onChange:x=>r({...e,FlightGeography_Justification:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Etape 2.2 : Determination du volume de Contingence (S_CV : Contingency Volume)."}),l.jsxs("div",{children:[l.jsx(M,{text:"Le Volume de Contingence : volume dans lequel le drone est considéré comme étant dans une situation anormale et qui requiert l’exécution des procédures de contingence appropriée pour le faire revenir au-dessus de sa zone d’évolution. A minima la taille du volume de contingence est calculée comme la distance parcourue par le drone à sa vitesse sol maximale durant le temps de réaction du pilote pour s’apercevoir qu’il est sorti du volume d’évolution et de prendre les mesures adaptées.  La limite interne du volume de contingence doit correspondre à la limite externe du volume d’évolution.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation du Volume de Contingence"})}),l.jsxs("select",{value:e.assessmentContingencyVolume,onChange:x=>r({...e,assessmentContingencyVolume:x.target.value,ContingencyVolume:x.target.value==="Spécifiée par le déposant"?e.ContingencyVolume:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation du Volume",children:"Sélectionner une méthode d'évaluation du Volume"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"}),l.jsx("option",{value:"Calcul selon le Guide",children:"Calcul selon le Guide"})]})]})]}),e.assessmentContingencyVolume==="Calcul selon le Guide"?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Largeur du Volume de Contingence.",l.jsx("br",{}),"Attention : Des valeurs inférieures à la Largeur du Volume d'évolution sont considérées irrecevables.",l.jsx("br",{}),"S_CV ≥ S_FG"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"S_CV : Largeur du Volume de Contingence (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeWidth,className:"mt-1 block w-full rounded-md border-orange-900 border-2 font-bold bg-orange-50 text-orange-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:p(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM),disabled:!0})]}),l.jsx("div",{children:e.ContingencyVolumeSGPS===void 0||e.ContingencyVolumeSGPS===null||e.ContingencyVolumeSpos===void 0||e.ContingencyVolumeSpos===null||e.ContingencyVolumeSK===void 0||e.ContingencyVolumeSK===null||e.ContingencyVolumeSRZ===void 0||e.ContingencyVolumeSRZ===null||e.ContingencyVolumeSCM===void 0||e.ContingencyVolumeSCM===null?l.jsx("div",{className:"mt-2 p-2 bg-red-50 text-red-600 rounded",children:"Attention : une donnée est indéfinie ou nulle."}):l.jsx(M,{text:l.jsxs("div",{children:["Les valeurs suivantes sont utilisées pour le calcul de la largeur du volume de contingence. Vérifier la cohérence avec l'affichage.",l.jsx("br",{}),"GPS - Inaccuracy = ",e.ContingencyVolumeSGPS," m",l.jsx("br",{}),"Position Holding = ",e.ContingencyVolumeSpos," m",l.jsx("br",{}),"Map error = ",e.ContingencyVolumeSK," m",l.jsx("br",{}),"Temps de Réaction = ",e.ContingencyTimeRZ," s",l.jsx("br",{}),"Distance de réaction S_RZ = ",e.ContingencyVolumeSRZ," m",l.jsx("br",{}),"Manoeuvre de contigence S_CM = ",e.ContingencyVolumeSCM," m"]}),children:l.jsx("div",{children:l.jsx("button",{onClick:()=>p(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM),className:"rounded-md border-green-200 border-2 font-bold text-green-500 hover:text-blue-200",children:"Calculer"})})})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Hauteur du Volume de Contingence.",l.jsx("br",{}),"Attention : Des valeurs inférieures à la Hauteur du Volume d'évolution sont considérées irrecevables.",l.jsx("br",{}),"H_CV ≥ H_FG"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"H_CV : Hauteur du Volume de Contingence (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeHeight,className:"mt-1 block w-full rounded-md border-orange-900 border-2 font-bold bg-orange-50 text-orange-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:e.FlightGeographyHeight,disabled:!0})]}),l.jsx("div",{children:e.ContingencyVolumeHbaro===void 0||e.ContingencyVolumeHbaro===null||e.ContingencyVolumeHRZ===void 0||e.ContingencyVolumeHRZ===null||e.ContingencyVolumeHCM===void 0||e.ContingencyVolumeHCM===null?l.jsx("div",{className:"mt-2 p-2 bg-red-50 text-red-600 rounded",children:"Attention : une donnée est indéfinie ou nulle."}):l.jsx(M,{text:l.jsxs("div",{children:["Les valeurs suivantes sont utilisées pour le calcul de la largeur du volume de contingence. Vérifier la cohérence avec l'affichage.",l.jsx("br",{}),"Erreur de mesure d'altitude = ",e.ContingencyVolumeHbaro," m",l.jsx("br",{}),"Position Holding = ",e.ContingencyVolumeSpos," m",l.jsx("br",{}),"Temps de Réaction = ",e.ContingencyTimeRZ," s",l.jsx("br",{}),"Altitude de réaction H_RZ = ",e.ContingencyVolumeHRZ," m",l.jsx("br",{}),"Altitude de contigence H_CM = ",e.ContingencyVolumeHCM," m"]}),children:l.jsx("div",{children:l.jsx("button",{onClick:()=>g(e.ContingencyVolumeHbaro,e.ContingencyVolumeHRZ,e.ContingencyVolumeHCM),className:"rounded-md border-green-200 border-2 font-bold text-green-500 hover:text-blue-200",children:"Calculer"})})})})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["GPS - Inaccuracy",l.jsx("br",{}),"En règle général, on assumera une erreur ≥ 3 mètres.",l.jsx("br",{}),"..."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GPS - Inaccuracy (m)"})}),l.jsx("input",{type:"number",defaultValue:1,value:e.ContingencyVolumeSGPS,onChange:x=>r({...e,ContingencyVolumeSGPS:parseFloat(x.target.value),ContingencyVolumeWidth:p(parseFloat(x.target.value),e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM)}),step:"0.1",min:0,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"TO BE DEFINED"})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Erreur de mesure d'altitude.",l.jsx("br",{}),"En règle général, on assumera une erreur de 1 mètre pour une mesure barométrique.",l.jsx("br",{}),"Et, on assumera une erreur de 4 mètre pour une mesure GPS."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Erreur de mesure d'altitude (m)"})}),l.jsx("input",{type:"number",defaultValue:1,value:e.ContingencyVolumeHbaro,onChange:x=>r({...e,ContingencyVolumeHbaro:parseFloat(x.target.value),ContingencyVolumeHeight:g(parseFloat(x.target.value),e.ContingencyVolumeHRZ,e.ContingencyVolumeHCM)}),step:"0.1",min:0,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"TO BE DEFINED"})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Positionnement du maintien de la position (Position Holding)",l.jsx("br",{}),"En règle général, on assumera une erreur ≥ 3 mètres.",l.jsx("br",{}),"..."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Position Holding (m)"})}),l.jsx("input",{type:"number",defaultValue:3,value:e.ContingencyVolumeSpos,onChange:x=>r({...e,ContingencyVolumeSpos:parseFloat(x.target.value),ContingencyVolumeWidth:p(e.ContingencyVolumeSGPS,parseFloat(x.target.value),e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM)}),step:"0.1",min:.5,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"TO BE DEFINED"})]}),l.jsx("div",{}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Map error",l.jsx("br",{}),"En règle général, on assumera une erreur ≥ 1 mètre.",l.jsx("br",{}),"..."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Map error (m)"})}),l.jsx("input",{type:"number",defaultValue:1,value:e.ContingencyVolumeSK,onChange:x=>r({...e,ContingencyVolumeSK:parseFloat(x.target.value),ContingencyVolumeWidth:p(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,parseFloat(x.target.value),e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM)}),step:"0.1",min:0,className:"mt-1 block w-full rounded-md border-grey-200  shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"TO BE DEFINED"})]}),l.jsx("div",{}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Temps de Réaction de l'opérateur ou du système.",l.jsx("br",{}),"Temps nécessaire pour que l'opérateur prenne conscience de la situation et réagisse.",l.jsx("br",{}),"Cas de l'initialisation manuelle de mesures de contingence. t_RZ ≥ 1 seconde",l.jsx("br",{}),"En cas d'automatisation type Geofence par exemple, ce temps peut-être plus court.  Dans ce cas apporter une justification."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Temps de Réaction de l'opérateur ou du système (s)"})}),l.jsx("input",{type:"number",defaultValue:1,value:e.ContingencyTimeRZ,onChange:x=>r({...e,ContingencyTimeRZ:parseFloat(x.target.value),ContingencyVolumeSRZ:parseFloat(x.target.value)*e.maxSpeed,ContingencyVolumeHRZ:parseFloat(x.target.value)*.7*e.maxSpeed,ContingencyVolumeWidth:p(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,parseFloat(x.target.value)*e.maxSpeed,e.ContingencyVolumeSCM),ContingencyVolumeHeight:g(e.ContingencyVolumeHbaro,parseFloat(x.target.value)*.7*e.maxSpeed,e.ContingencyVolumeHCM)}),step:"0.1",min:0,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"TO BE DEFINED"})]}),l.jsx("div",{}),l.jsx("div",{children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Distance de réaction S_RZ (m)"}),l.jsx("input",{type:"number",value:e.ContingencyVolumeSRZ,className:"mt-1 block w-full rounded-md border-grey-200 border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:(1*e.maxSpeed).toString(),disabled:!0})]})}),l.jsx("div",{children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Altitude de réaction H_RZ (m)"}),l.jsx("input",{type:"number",value:e.ContingencyVolumeHRZ,className:"mt-1 block w-full rounded-md border-grey-200 border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:(1*.7*e.maxSpeed).toString(),disabled:!0})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Manoeuvre de Contingence : Activation du Parachute"}),l.jsx("input",{type:"checkbox",checked:(e.ContingencyParachuteManeuver||[]).includes("OUI"),onChange:x=>{var F,G;return r({...e,ContingencyParachuteManeuver:x.target.checked?"OUI":"NON",ContingencyVolumeWidth:p(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM),ContingencyVolumeHeight:g(e.ContingencyVolumeHbaro,e.ContingencyVolumeHRZ,e.ContingencyVolumeHCM),ContingencyVolumeSCM:(F=y())==null?void 0:F.at(0),ContingencyVolumeHCM:(G=y())==null?void 0:G.at(1)})},className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),(e.ContingencyParachuteManeuver||[]).includes("OUI")?l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Temps d'activation du parachute (s)",l.jsx("br",{}),"Doit prendre en compte le temps d'ouverture et de mise en descente.",l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Temps d'activation du parachute (s)"})}),l.jsx("input",{type:"number",value:e.ParachuteTime,defaultValue:1,onChange:x=>r({...e,ParachuteTime:parseFloat(x.target.value),ContingencyVolumeSCM:parseFloat(x.target.value)*e.maxSpeed,ContingencyVolumeHCM:parseFloat((parseFloat(x.target.value)*.7*e.maxSpeed).toFixed(2)),ContingencyVolumeWidth:p(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,parseFloat(x.target.value)*e.maxSpeed),ContingencyVolumeHeight:g(e.ContingencyVolumeHbaro,e.ContingencyVolumeHRZ,parseFloat((parseFloat(x.target.value)*.7*e.maxSpeed).toFixed(2)))}),step:"0.1",min:1,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"TO BE DEFINED"})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Manoeuvre de contigence S_CM (m)",l.jsx("br",{}),"Alternative : Activation du Parachute.",l.jsx("br",{}),"S_CM = Vmax·t_parachute",l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Manoeuvre de contigence S_CM (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeSCM,className:"mt-1 block w-full rounded-md border-grey-200 border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:(1*e.maxSpeed).toString(),disabled:!0})]})]}):l.jsxs("div",{children:[(e.uasType||[]).includes("Héli")||(e.uasType||[]).includes("Multi")?l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["ThetaStopCopter (deg)",l.jsx("br",{}),"Hypothèses : ThrustWeightRatio supérieur à 2.",l.jsx("br",{}),"ThetaStopCopter inf 45°",l.jsx("br",{}),"en assumant un angle de roulis φ nul."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Theta Max Stop (deg)"})}),l.jsx("input",{type:"number",defaultValue:45,value:e.ThetaStopCopter,onChange:x=>r({...e,ThetaStopCopter:parseFloat(x.target.value),ContingencyVolumeWidth:p(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM),ContingencyVolumeHeight:g(e.ContingencyVolumeHbaro,e.ContingencyVolumeHRZ,e.ContingencyVolumeHCM)}),step:"1.0",min:0,max:45,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"TO BE DEFINED"})]}):l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["PhiMaxPlane (deg)",l.jsx("br",{}),"Hypothèses : Virrage à 180° en mode Avion.",l.jsx("br",{}),"PhiMaxPlane inf φ 30°",l.jsx("br",{}),"en assumant un angle de roulis  nul."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"PhiMaxPlane (deg)"})}),l.jsx("input",{type:"number",defaultValue:30,value:e.PhiMaxPlane,onChange:x=>r({...e,PhiMaxPlane:parseFloat(x.target.value),ContingencyVolumeWidth:p(e.ContingencyVolumeSGPS,e.ContingencyVolumeSpos,e.ContingencyVolumeSK,e.ContingencyVolumeSRZ,e.ContingencyVolumeSCM),ContingencyVolumeHeight:g(e.ContingencyVolumeHbaro,e.ContingencyVolumeHRZ,e.ContingencyVolumeHCM)}),step:"1.0",min:0,max:30,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"TO BE DEFINED"})]}),l.jsx(M,{text:l.jsxs("div",{children:["Manoeuvre de contigence S_CM (m)",l.jsx("br",{}),"* Hélicoptère/Multi-rotor ≡ Arrêt d'urgence",l.jsx("br",{}),"S_CM = 1/2·Vmax²/(g·tan(θ))",l.jsx("br",{}),"* Avion/Hybride/Plus léger que l'air ≡ Virage à 180°",l.jsx("br",{}),"S_CM = Vmax²/(g·tan(φ))",l.jsx("br",{}),"en assumant un angle de roulis φ de 30°.",l.jsx("br",{}),"ou bien",l.jsx("br",{}),"S_CM = 180°/(2·taux de virage max)"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Manoeuvre de contigence S_CM (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeSCM,onChange:x=>r({...e,ContingencyVolumeSCM:parseFloat(x.target.value)}),step:"0.1",min:1,className:"mt-1 block w-full rounded-md border-grey-200 border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:(U=y())==null?void 0:U.at(0),disabled:!0})]})]}),l.jsxs("div",{children:[l.jsx("br",{}),l.jsx("br",{}),l.jsx("br",{}),l.jsx("br",{}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Manoeuvre de contigence verticale H_CM (m)",l.jsx("br",{}),"Alternative : Activation du Parachute.",l.jsx("br",{}),"H_CM = Vmax·t_parachute·0.7",l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Altitude de contigence H_CM (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeHCM,className:"mt-1 block w-full rounded-md border-grey-200 border-2 font-bold shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:(1*.7*e.maxSpeed).toString(),disabled:!0})]})]})]}):e.assessmentContingencyVolume==="Spécifiée par le déposant"?l.jsxs("div",{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Largeur du Volume de Contingence.",l.jsx("br",{}),"Attention : Des valeurs inférieures à la Largeur du Volume d'évolution sont considérées irrecevables.",l.jsx("br",{}),"S_CV ≥ S_FG"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"S_CV : Largeur du Volume de Contingence (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeWidth,onChange:x=>r({...e,ContingencyVolumeWidth:parseFloat(x.target.value)}),step:"0.1",min:e.FlightGeographyWidth,className:"mt-1 block w-full rounded-md border-orange-900 border-2 font-bold bg-orange-50 text-orange-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:e.FlightGeographyWidth})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Hauteur du Volume de Contingence.",l.jsx("br",{}),"Attention : Des valeurs inférieures à la Hauteur du Volume d'évolution sont considérées irrecevables.",l.jsx("br",{}),"H_CV ≥ H_FG"]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"H_CV : Hauteur du Volume de Contingence (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeHeight,onChange:x=>r({...e,ContingencyVolumeHeight:Math.max(parseFloat(x.target.value),e.FlightGeographyHeight)||0}),step:"0.1",min:e.FlightGeographyHeight,className:"mt-1 block w-full rounded-md border-orange-900 border-2 font-bold bg-orange-50 text-orange-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:e.FlightGeographyHeight})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Volume de Contingence"})}),l.jsx("textarea",{value:e.ContingencyVolume_Justification,onChange:x=>r({...e,ContingencyVolume_Justification:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):l.jsx("div",{}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Etape 2.3 : Determination du Zone Tampon (Ground Risk Buffer)."}),(e.uasType==="Avion"||e.uasType==="Hybride/VTOL")&&e.GlidingCapability==="OUI"?l.jsxs("div",{children:[l.jsx(M,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:x=>r({...e,assessmentGRB:x.target.value,GRB:x.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Terminaison Aile Fixe",children:"Terminaison Aile Fixe"}),l.jsx("option",{value:"Terminaison avec parachute",children:"Terminaison avec parachute"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):(e.uasType==="Avion"||e.uasType==="Hybride/VTOL")&&e.GlidingCapability==="NON"?l.jsxs("div",{children:[l.jsx(M,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:x=>r({...e,assessmentGRB:x.target.value,GRB:x.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Terminaison avec parachute",children:"Terminaison avec parachute"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):(e.uasType==="Avion"||e.uasType==="Hybride/VTOL")&&(e.GlidingCapability===void 0||e.GlidingCapability===null)?l.jsxs("div",{children:[l.jsx(M,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:x=>r({...e,assessmentGRB:x.target.value,GRB:x.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Terminaison Aile Fixe",children:"Terminaison Aile Fixe"}),l.jsx("option",{value:"Terminaison avec parachute",children:"Terminaison avec parachute"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):e.uasType==="Hélicoptère"?l.jsxs("div",{children:[l.jsx(M,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:x=>r({...e,assessmentGRB:x.target.value,GRB:x.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Approche Balistique (Hélicoptère ou Multirotor)",children:"Approche Balistique (Hélicoptère ou Multirotor)"}),l.jsx("option",{value:"Terminaison avec parachute",children:"Terminaison avec parachute"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):e.uasType==="Multirotor"?l.jsxs("div",{children:[l.jsx(M,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:x=>r({...e,assessmentGRB:x.target.value,GRB:x.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Approche Balistique (Hélicoptère ou Multirotor)",children:"Approche Balistique (Hélicoptère ou Multirotor)"}),l.jsx("option",{value:"Terminaison avec parachute",children:"Terminaison avec parachute"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):e.uasType==="Plus léger que l'air"?l.jsxs("div",{children:[l.jsx(M,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:x=>r({...e,assessmentGRB:x.target.value,GRB:x.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]}):l.jsxs("div",{children:[l.jsx(M,{text:"Aussi appelée Ground Risk Buffer, cette zone est définie au niveau du sol directement adjacente au volume de contingence. Si l'UAS quitte la zone de contingence, il est assumé que l'UAS n'est plus sous contrôle de l'opérateur et qu'il doit être mis fin au vol. Dans ce cas le l'UAS doit retomber dans la zone Tampon.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Méthode d'évaluation de la Zone Tampon"})}),l.jsxs("select",{value:e.assessmentGRB,onChange:x=>r({...e,assessmentGRB:x.target.value,GRB:x.target.value==="Sélectionner une méthode d'évaluation de la zone tampon"?e.GRB:0}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Sélectionner une méthode d'évaluation de la zone tampon",children:"Sélectionner une méthode d'évaluation de la zone tampon"}),l.jsx("option",{value:"Approche Simplifiée, Règle 1:1",children:"Approche Simplifiée, Règle 1:1"}),l.jsx("option",{value:"Spécifiée par le déposant",children:"Spécifiée par le déposant"})]})]})]}),l.jsxs("div",{children:[e.uasType==="Avion"||e.uasType==="Hybride/VTOL"?l.jsxs("div",{className:"text-red-900 border-gray-300 rounded",children:[l.jsx("b",{children:"Rappels"})," : Type d'UAS comme ",l.jsx("b",{children:e.uasType}),l.jsx("br",{}),"Vous devez définir si votre appareil peut effectuer un vol plané.",l.jsx("br",{}),"Attention de bien rester cohérent si vous changez votre déclaration vis à vis de celle utilisez dans le modèle JARUS pour l'évaluation de la zone de crash.",l.jsx("br",{}),"Si aucune capacité de vol plané n'est possible, seule la règle 1:1 ou la terminaison avec parachute peuvent être appliquées.",l.jsx("br",{}),"Sinon, définissez votre propre GRB.",l.jsx("br",{}),l.jsx("br",{})]}):e.uasType==="Hélicoptère"?l.jsxs("div",{className:"text-red-900 border-gray-300 rounded",children:[l.jsx("b",{children:"Rappels"})," : Type d'UAS comme ",l.jsx("b",{children:e.uasType}),l.jsx("br",{}),"Seules les règles compatibles peuvent être appliquées.",l.jsx("br",{}),"Sinon, définissez votre propre GRB.",l.jsx("br",{}),l.jsx("br",{})]}):e.uasType==="Multirotor"?l.jsxs("div",{className:"text-red-900 border-gray-300 rounded",children:[l.jsx("b",{children:"Rappels"})," : Type d'UAS comme ",l.jsx("b",{children:e.uasType}),l.jsx("br",{}),"Seules les règles compatibles peuvent être appliquées.",l.jsx("br",{}),"Sinon, définissez votre propre GRB.",l.jsx("br",{}),l.jsx("br",{})]}):e.uasType==="Plus léger que l'air"?l.jsxs("div",{className:"text-red-900 border-gray-300 rounded",children:[l.jsx("b",{children:"Rappels"})," : Type d'UAS comme ",l.jsx("b",{children:e.uasType}),l.jsx("br",{}),"Seule la règle 1:1 peut être appliquée.",l.jsx("br",{}),"Sinon, définissez votre propre GRB.",l.jsx("br",{}),l.jsx("br",{})]}):l.jsxs("div",{className:"text-red-900 border-gray-300 rounded",children:[l.jsx("b",{children:"-Rappels"})," : Type d'UAS comme ",l.jsx("b",{children:e.uasType}),l.jsx("br",{}),"Seule la règle 1:1 peut être appliquée.",l.jsx("br",{}),"Sinon, définissez votre propre GRB.",l.jsx("br",{}),l.jsx("br",{})]}),e.assessmentGRB==="Approche Simplifiée, Règle 1:1"?l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Largeur de votre Zone Tampon (Ground Risk Buffer)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRB : Largeur de votre Zone Tampon (m)"})}),l.jsx("input",{type:"number",value:f(),onChange:x=>r({...e,GRBWidth:parseFloat(x.target.value)}),className:"mt-1 block w-full rounded-md border-red-900 border-2 font-bold bg-red-50 text-red-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Not yet computed",disabled:!0})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Zone Tampon (Ground Risk Buffer)"})}),l.jsx("textarea",{value:e.GRB_Justification,onChange:x=>r({...e,GRB_Justification:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):e.assessmentGRB==="Approche Balistique (Hélicoptère ou Multirotor)"?l.jsxs("div",{children:[l.jsx("label",{children:"'Approche Balistique (Hélicoptère ou Multirotor)'"}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Largeur de votre Zone Tampon (Ground Risk Buffer)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRB : Largeur de votre Zone Tampon (m)"})}),l.jsx("input",{type:"number",value:f(),onChange:x=>r({...e,GRBWidth:parseFloat(x.target.value)}),className:"mt-1 block w-full rounded-md border-red-900 border-2 font-bold bg-red-50 text-red-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Not yet computed",disabled:!0})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Zone Tampon (Ground Risk Buffer)"})}),l.jsx("textarea",{value:e.GRB_Justification,onChange:x=>r({...e,GRB_Justification:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):e.assessmentGRB==="Terminaison Aile Fixe"?l.jsxs("div",{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Coupure de l'alimentation."}),l.jsx("input",{type:"checkbox",onChange:c,className:"h-4 w-4 text-blue-600 border-gray-300 rounded",defaultChecked:h()})]}),e.GRB_FixedWingPowerOff.includes("ACTIVATED")?l.jsx("div",{children:l.jsxs("div",{children:[l.jsx("b",{children:"Rappel :"}),'Vous avez déclaré "',e.GlidingCapability,`" pour la capacité de vol plané dans le Modèle JARUS pour l'évaluation de la Zone de Crash.`,l.jsx("br",{}),l.jsx("br",{}),'Sinon, définissez Theta_Glide en cohérence avec celui utilisé dans le Modèle JARUS, soit "',e.ThetaGlide,'°".']})}):l.jsxs("div",{children:["Si vous n'activé pas de Coupure de l'alimentation la règle du 1:1 sera appliquée car GRB_FixedWingPowerOff = ",e.GRB_FixedWingPowerOff]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:" ",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"L'appareil est-il capable de planer ?"})}),l.jsxs("select",{value:e.GlidingCapability,onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Angle d'impact (de plané/fauché.) NB: Si Dimensions caractéristiques maximales ≤ 1m prendre 35°, et pour les appareil plus grand prendre 10°.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Theta_Glide (deg)"})}),l.jsx("input",{type:"number",value:e.ThetaGlide,onChange:x=>r({...e,ThetaGlide:parseFloat(x.target.value)||0}),step:"0.1",min:0,max:90,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Largeur de votre Zone Tampon (Ground Risk Buffer)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRB : Largeur de votre Zone Tampon (m)"})}),l.jsx("input",{type:"number",value:f(),onChange:x=>r({...e,GRBWidth:parseFloat(x.target.value)}),className:"mt-1 block w-full rounded-md border-red-900 border-2 font-bold bg-red-50 text-red-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Not yet computed",disabled:!0})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Zone Tampon (Ground Risk Buffer)"})}),l.jsx("textarea",{value:e.GRB_Justification,onChange:x=>r({...e,GRB_Justification:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):e.assessmentGRB==="Terminaison avec parachute"?l.jsxs("div",{children:[e.ParachuteTime&&(e.ContingencyParachuteManeuver||[]).includes("OUI")?l.jsxs("label",{children:["Temps d'activation du parachute déjà définie pour la manoeuvre de contingence : ",e.ParachuteTime,"(s)"]}):l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Temps d'activation du parachute (s)",l.jsx("br",{}),"Doit prendre en compte le temps d'ouverture et de mise en descente.",l.jsx("br",{}),"Ne peut être inférieur à 1 seconde."]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Temps d'activation du parachute (s)"})}),l.jsx("input",{type:"number",value:e.ParachuteTime,defaultValue:1,onChange:x=>r({...e,ParachuteTime:parseFloat(x.target.value),GRBWidth:f()}),step:"0.1",min:1,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"1.0"})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Vitesse de déscente sous parachute (m/s)",l.jsx("br",{}),"Généralement de l'ordred de 6.0 m/s",l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse de déscente sous parachute (m/s)"})}),l.jsx("input",{type:"number",value:e.VzParachute,onChange:x=>r({...e,VzParachute:parseFloat(x.target.value)}),step:"0.1",min:3,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"6.0"})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Vitesse du vent considéré pour la déscente sous parachute (m/s)",l.jsx("br",{}),"Elle doit être comprise entre la Vitesse maximale du vent au décollage et la Vitesse maximale de tenue à la rafale en évolution .",l.jsx("br",{}),`Ces valeur ont été déclarées dans la section "Limitations environnementales" à l'Étape 1 : Concept d'opérations / ConOps`]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vitesse du vent considéré pour la déscente sous parachute (m/s)"})}),l.jsx("input",{type:"number",value:e.VwindParachute,onChange:x=>r({...e,VwindParachute:parseFloat(x.target.value)}),step:"0.1",min:e.environmentalLimitations.maxWindSpeedTakeoff,max:e.environmentalLimitations.maxGustSpeed,className:"mt-1 block w-full rounded-md border-grey-200 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:e.environmentalLimitations.maxWindSpeedTakeoff.toString()})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Largeur de votre Zone Tampon (Ground Risk Buffer)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRB : Largeur de votre Zone Tampon (m)"})}),l.jsx("input",{type:"number",value:f(),onChange:x=>r({...e,GRBWidth:parseFloat(x.target.value)}),className:"mt-1 block w-full rounded-md border-red-900 border-2 font-bold bg-red-50 text-red-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Not yet computed",disabled:!0})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Zone Tampon (Ground Risk Buffer)"})}),l.jsx("textarea",{value:e.GRB_Justification,onChange:x=>r({...e,GRB_Justification:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):e.assessmentGRB==="Spécifiée par le déposant"?l.jsxs("div",{children:[l.jsx("label",{children:"'Autre Terminaison à préciser'"}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Largeur de votre Zone Tampon (Ground Risk Buffer)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRB : Largeur de votre Zone Tampon (m)"})}),l.jsx("input",{type:"number",value:e.GRBWidth,onChange:x=>r({...e,GRBWidth:parseFloat(x.target.value)}),step:"0.1",min:e.FlightGeographyWidth,className:"mt-1 block w-full rounded-md border-red-900 border-2 font-bold bg-red-50 text-red-600 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:e.FlightGeographyWidth})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Vous devez apporter des éléments de justification de la définition de votre Volume de Contingence.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justification de votre Zone Tampon (Ground Risk Buffer)"})}),l.jsx("textarea",{value:e.GRB_Justification,onChange:x=>r({...e,GRB_Justification:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]}):l.jsx("div",{})]}),l.jsx("h2",{className:"text-lg font-medium",children:"Etape 2.4 : Determination de la Zone Adjacente (Adjacent Volume)."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Largeur Zone Adjacente (Adjacent Volume)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Largeur Zone Adjacente (m)"})}),l.jsx("input",{type:"number",value:120*e.maxSpeed,onChange:x=>r({...e,AdjacentVolumeWidth:parseFloat(x.target.value)}),className:"mt-1 block w-full rounded-md border-black border-2 font-bold bg-gray-400 text-black  border-2 font-bold  shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:0,disabled:!0})]}),l.jsxs("div",{children:[l.jsx(M,{text:l.jsxs("div",{children:["Hauteur Zone Adjacente (Adjacent Volume)",l.jsx("br",{}),l.jsx("br",{})]}),children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hauteur Zone Adjacente (m)"})}),l.jsx("input",{type:"number",value:e.ContingencyVolumeHeight+150,onChange:x=>r({...e,AdjacentVolumeHeight:parseFloat(x.target.value)}),className:"mt-1 block w-full rounded-md border-black border-2 font-bold bg-gray-400 text-black  border-2 font-bold  shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:0,disabled:!0})]})]})})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Ground Risk Assessment"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scénario opérationnel"}),l.jsxs("select",{value:e.operationalScenario||"VLOS",onChange:x=>r({...e,operationalScenario:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"VLOS",children:"VLOS"}),l.jsx("option",{value:"BVLOS",children:"BVLOS"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Densité de population"}),l.jsxs("select",{value:e.populationDensity||"low",onChange:x=>r({...e,populationDensity:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"low",children:"Faible"}),l.jsx("option",{value:"moderate",children:"Modérée"}),l.jsx("option",{value:"high",children:"Élevée"})]})]})]}),l.jsx("h2",{className:"text-2xl font-semibold",children:"iGRC"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("div",{children:[l.jsx(M,{text:"Veuillez entrer le niveau GRC Initial calculé à l'aide de l'outil (c)DROSERA.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"iGRC"})}),l.jsxs("select",{value:e.iGRC,onChange:x=>r({...e,iGRC:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"}),l.jsx("option",{value:"5",children:"5"}),l.jsx("option",{value:"6",children:"6"}),l.jsx("option",{value:"7",children:"7"}),l.jsx("option",{value:"8",children:"8"})]})]})})]})]})}function Fj({assessment:e,onChange:t}){const n=[{Integrity:"Intégrité faible ",InsuranceLow:"Robustesse faible",InsuranceMedium:"Robustesse Faible ",InsuranceHigh:"Robustesse Faible "},{Integrity:"Intégrité moyenne",InsuranceLow:"Robustesse faible",InsuranceMedium:"Robustesse Moyenne",InsuranceHigh:"Robustesse Moyenne"},{Integrity:"Intégrité haute  ",InsuranceLow:"Robustesse faible",InsuranceMedium:"Robustesse Moyenne",InsuranceHigh:"Robustesse Haute  "}],r=()=>{if(!e||!e.iGRC||!e.mitigationStrategique||!e.reduceImpactAttenuation||!e.planInterventionUrgence||!e.confinementRequirements)return Number(e.iGRC);let o=Number(e.iGRC);return e.mitigationStrategique.includes("faible")?o=o-1:e.mitigationStrategique.includes("moyenne")?o=o-2:e.mitigationStrategique.includes("élevée")?o=o-4:o=o-0,e.reduceImpactAttenuation.includes("faible")?o=o-0:e.reduceImpactAttenuation.includes("moyenne")?o=o-1:e.reduceImpactAttenuation.includes("élevée")?o=o-2:o=o-0,e.planInterventionUrgence.includes("faible")?o=o+1:e.planInterventionUrgence.includes("moyenne")?o=o-0:e.planInterventionUrgence.includes("élevée")?o=o-1:o=o+1,o};return l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Tableau de Mitigation Tactique"}),l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{className:"py-2 px-4 border-b",children:" "}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Assurance faible"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Assurance moyenne"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Assurance haute"})]})}),l.jsx("tbody",{children:n.map((o,a)=>l.jsxs("tr",{className:a%2===0?"bg-gray-100 text-gray-800":"bg-gray-200 text-gray-800",children:[l.jsx("td",{className:"py-2 px-4 border-b",children:o.Integrity}),l.jsx("td",{className:"py-2 px-4 border-b",children:o.InsuranceLow}),l.jsx("td",{className:"py-2 px-4 border-b",children:o.InsuranceMedium}),l.jsx("td",{className:"py-2 px-4 border-b",children:o.InsuranceHigh})]},a))})]}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Atténuation du risque sol"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:"Sélectionnez l'une des quatre options. Dans le cas où l'évaluation des risques est basée sur la SORA, cela consiste en une atténuation M1.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"M1 : Mitigation Stratégique"})}),l.jsxs("select",{value:e.mitigationStrategique,onChange:o=>{t({...e,mitigationStrategique:o.target.value}),r()},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Non",children:"Non"}),l.jsx("option",{value:"Oui, faible",children:"Oui, faible"}),l.jsx("option",{value:"Oui, moyenne",children:"Oui, moyenne"}),l.jsx("option",{value:"Oui, élevée",children:"Oui, élevée"})]})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(M,{text:"Sélectionnez l'une des quatre options de la première ligne. Dans le cas où l'évaluation des risques est basée sur le SORA, cela consiste en une atténuation M2. Même si le drone peut être équipé d'un tel système, cette atténuation peut ne pas être requise pour l'opération afin de réduire le risque au sol. Dans ce cas, dans la deuxième ligne, sélectionnez 'NON'. Si l'atténuation est utilisée pour réduire le risque au sol, sélectionnez 'OUI', et l'opérateur doit inclure les procédures associées dans le manuel d'exploitation.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"M2 : Atténuation pour réduire l'effet de l'impact au sol"})}),l.jsxs("select",{value:e.reduceImpactAttenuation,onChange:o=>{t({...e,reduceImpactAttenuation:o.target.value}),r()},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Non",children:"Non"}),l.jsx("option",{value:"Oui, faible",children:"Oui, faible"}),l.jsx("option",{value:"Oui, moyenne",children:"Oui, moyenne"}),l.jsx("option",{value:"Oui, élevée",children:"Oui, élevée"})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(M,{text:"Sélectionnez 'OUI' si l'atténuation est nécessaire pour réduire le risque au sol, ou 'NON' si ce n'est pas requis.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nécessaire pour réduire le risque au sol"})}),l.jsxs("select",{value:e.necessaryToReduceRisk,onChange:o=>{t({...e,necessaryToReduceRisk:o.target.value}),r()},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"NON",children:"NON"}),l.jsx("option",{value:"OUI",children:"OUI"})]})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Sélectionnez l'une des quatre options. Dans le cas où l'évaluation des risques est basée sur la SORA, cela consiste en une atténuation M3.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"M3 : Plan d'intervention d'urgence"})}),l.jsxs("select",{value:e.planInterventionUrgence,onChange:o=>{t({...e,planInterventionUrgence:o.target.value}),r()},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Non",children:"Non"}),l.jsx("option",{value:"Oui, faible",children:"Oui, faible"}),l.jsx("option",{value:"Oui, moyenne",children:"Oui, moyenne"}),l.jsx("option",{value:"Oui, élevée",children:"Oui, élevée"})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Choisir une des deux options",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Exigences techniques pour le confinement"})}),l.jsxs("select",{value:e.confinementRequirements,onChange:o=>{t({...e,confinementRequirements:o.target.value}),r()},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"Basiques",children:"Basiques"}),l.jsx("option",{value:"Amélioré",children:"Amélioré"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium",children:"Remarques complémentaires"}),l.jsx(M,{text:"Champ de texte libre pour l'ajout de toute remarque pertinente",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Champ de texte libre pour l'ajout de toute remarque pertinente"})}),l.jsx("textarea",{value:e.additionalRemarks,onChange:o=>t({...e,additionalRemarks:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"4"})]})]}),l.jsx("h2",{className:"text-2xl font-semibold",children:"GRC Final"}),l.jsxs("div",{children:[l.jsx(M,{text:"GRC Final calculé...",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRC Final Calculé :"})}),l.jsx("h2",{className:"text-2xl font-semibold",children:r()})]}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("div",{children:[l.jsx(M,{text:"GRC Final.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GRC"})}),l.jsxs("select",{value:e.GRC_Final,onChange:o=>t({...e,GRC_Final:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"}),l.jsx("option",{value:"5",children:"5"}),l.jsx("option",{value:"6",children:"6"}),l.jsx("option",{value:"7",children:"7"}),l.jsx("option",{value:"8",children:"8"})]})]})})]})}function Bj({assessment:e,onChange:t}){const n=["Classe - A","Classe - B","Classe - C","Classe - D","Classe - E","Classe - F","Classe - G","U-Space","Autre, Préciser"];return l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Volume d'espace aérien"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("div",{children:[l.jsx(M,{text:"Sélectionnez une ou plusieurs des neuf options. Sélectionnez 'Autre' si aucune des options précédentes ne s'applique (par exemple, les zones militaires).",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Classe d'espace aérien de l'opération envisagée"})}),l.jsx("div",{className:"mt-1 space-y-2",children:n.map(r=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:(e.airspaceClasses||[]).includes(r),onChange:o=>t({...e,airspaceClasses:o.target.checked?[...e.airspaceClasses||[],r]:(e.airspaceClasses||[]).filter(a=>a!==r)}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:r}),r==="U-Space"&&(e.airspaceClasses||[]).includes("U-Space")&&l.jsx("input",{type:"text",value:e.uspaceProvider,onChange:o=>t({...e,uspaceProvider:o.target.value}),className:"ml-4 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Fournisseur de service USSP"}),r==="Autre, Préciser"&&(e.airspaceClasses||[]).includes("Autre, Préciser")&&l.jsx("input",{type:"text",value:e.otherDetails,onChange:o=>t({...e,otherDetails:o.target.value}),className:"ml-4 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Préciser la nature de l'espace aérien"})]},r))})]})}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Niveau de Risque Résiduel"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:"Sélectionnez le niveau de risque résiduel pour l'opération envisagée.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Volume Opérationnel"})}),l.jsxs("select",{value:e.OperationalVolumeLevel,onChange:r=>t({...e,OperationalVolumeLevel:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"ARC-a",children:"ARC-a"}),l.jsx("option",{value:"ARC-b",children:"ARC-b"}),l.jsx("option",{value:"ARC-c",children:"ARC-c"}),l.jsx("option",{value:"ARC-d",children:"ARC-d"})]})]}),l.jsxs("div",{children:[l.jsx(M,{text:"Sélectionnez le niveau de risque résiduel pour le volume adjacent.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Volume Adjacent"})}),l.jsxs("select",{value:e.AdjacentVolumeLevel,onChange:r=>t({...e,AdjacentVolumeLevel:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"ARC-a",children:"ARC-a"}),l.jsx("option",{value:"ARC-b",children:"ARC-b"}),l.jsx("option",{value:"ARC-c",children:"ARC-c"}),l.jsx("option",{value:"ARC-d",children:"ARC-d"})]})]})]}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Solutions Additionnels"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Detect And Avoid"}),l.jsx("input",{type:"text",value:e.detectAndAvoid,onChange:r=>t({...e,detectAndAvoid:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Detect And Avoid"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Détection du trafic environnant"}),l.jsx("input",{type:"text",value:e.trafficDetection,onChange:r=>t({...e,trafficDetection:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Détection du trafic environnant"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Autre, préciser"}),l.jsx("input",{type:"text",value:e.additionalDetails,onChange:r=>t({...e,additionalDetails:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Autre, préciser"})]})]})]})})}function Vj({assessment:e,onChange:t}){return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Mitigation Stratégique Risque Air"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:"L'étape 5 permet de réduire l’ARC en justifiant d’une probabilité réduite de rencontre avec d'autres aéronefs s’appuyant par exemple sur une densité aérienne plus faible, sur une coordination avec les services de contrôle, sur une information des autres usagers de l’espace aérien, etc. La réduction de l’ARC proposée doit être explicitement justifiée et argumentée.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Une Mitigation Stratégique est-elle mise en place"})}),l.jsxs("select",{value:e.StrategicMitigationAvailable,onChange:n=>t({...e,StrategicMitigationAvailable:n.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"OUI",children:"OUI"}),l.jsx("option",{value:"NON",children:"NON"})]})]}),e.StrategicMitigationAvailable==="OUI"&&l.jsxs("div",{children:[l.jsx(M,{text:"En quelques phrases, veuillez décrire les moyens et StrategicMitigationJustifications de Mitigation Stratégique du risque Air",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justifier vos éléments de Mitigation Stratégique du risque Air"})}),l.jsx("textarea",{value:e.StrategicMitigationJustification,onChange:n=>t({...e,StrategicMitigationJustification:n.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Niveau de Risque Air Résiduel après Mitigation Stratégique "}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("div",{children:[l.jsx(M,{text:"Sélectionnez le niveau de risque résiduel pour l'opération envisagée.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Volume Opérationnel"})}),l.jsxs("select",{value:e.OperationalVolumeLevelMitigated,onChange:n=>t({...e,OperationalVolumeLevelMitigated:n.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"ARC-a",children:"ARC-a"}),l.jsx("option",{value:"ARC-b",children:"ARC-b"}),l.jsx("option",{value:"ARC-c",children:"ARC-c"}),l.jsx("option",{value:"ARC-d",children:"ARC-d"})]})]})})]})]})}function Uj({assessment:e,onChange:t}){const n=[{ARC:"ARC-d",Attenuation:"Haut",Robustness:"Haute"},{ARC:"ARC-c",Attenuation:"Moyen",Robustness:"Moyenne"},{ARC:"ARC-b",Attenuation:"Faible",Robustness:"Faible"},{ARC:"ARC-a",Attenuation:"Aucun minimum",Robustness:"Aucun minimum"}];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Tableau de Mitigation Tactique"}),l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-Final"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Niveau d'atténuation Tactique"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Robustesse de l'atténuation"})]})}),l.jsx("tbody",{children:n.map((r,o)=>l.jsxs("tr",{className:r.ARC===e.OperationalVolumeLevelMitigated?"bg-blue-900 text-white":"bg-gray-200 text-gray-400",children:[l.jsx("th",{className:"py-2 px-4 border-b",children:r.ARC}),l.jsx("th",{className:"py-2 px-4 border-b",children:r.Attenuation}),l.jsx("th",{className:"py-2 px-4 border-b",children:r.Robustness})]},o))})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Mitigation Tactique Risque Air"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{children:[l.jsx(M,{text:"L'étape 5 permet de réduire l’ARC en justifiant d’une probabilité réduite de rencontre avec d'autres aéronefs s’appuyant par exemple sur une densité aérienne plus faible, sur une coordination avec les services de contrôle, sur une information des autres usagers de l’espace aérien, etc. La réduction de l’ARC proposée doit être explicitement justifiée et argumentée.",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Une Mitigation Tactique est-elle mise en place"})}),l.jsxs("select",{value:e.TacticalMitigationAvailable,onChange:r=>t({...e,TacticalMitigationAvailable:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"OUI",children:"OUI"}),l.jsx("option",{value:"NON",children:"NON"})]})]}),e.TacticalMitigationAvailable==="OUI"&&l.jsxs("div",{children:[l.jsx(M,{text:"En quelques phrases, veuillez décrire les moyens et TacticalMitigationJustifications de Mitigation Stratégique du risque Air",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Justifier vos éléments de Mitigation Tactique du risque Air"})}),l.jsx("textarea",{value:e.TacticalMitigationJustification,onChange:r=>t({...e,TacticalMitigationJustification:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})]})]})]})}function $j({assessment:e,onChange:t}){const n=[{ARC:"ARC-d",Attenuation:"Haut",Robustness:"Haute"},{ARC:"ARC-c",Attenuation:"Moyen",Robustness:"Moyenne"},{ARC:"ARC-b",Attenuation:"Faible",Robustness:"Faible"},{ARC:"ARC-a",Attenuation:"Aucun minimum",Robustness:"Aucun minimum"}];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Détermination du SAIL"}),l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-Final"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Niveau d'atténuation Tactique"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"Robustesse de l'atténuation"})]})}),l.jsx("tbody",{children:n.map((r,o)=>l.jsxs("tr",{className:r.ARC===e.OperationalVolumeLevelMitigated?"bg-white":"bg-gray-200",children:[l.jsx("td",{className:"py-2 px-4 border-b",children:r.ARC}),l.jsx("td",{className:"py-2 px-4 border-b",children:r.Attenuation}),l.jsx("td",{className:"py-2 px-4 border-b",children:r.Robustness})]},o))})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Commentaires additionnels"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("div",{children:[l.jsx(M,{text:"En quelques phrases, vous pouvez apporter des commentaires additionnels sur le niveau de SAIL de l'opération envisagée",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Apporter vos commentaires sur le niveau de SAIL si vous le souhaitez :"})}),l.jsx("textarea",{value:e.SAILJustification,onChange:r=>t({...e,SAILJustification:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})})]})]})}function Hj({assessment:e,onChange:t}){const n=[{GRC_Final:"<=2",ARC_a:"I",ARC_b:"II",ARC_c:"IV",ARC_d:"VI"},{GRC_Final:"3",ARC_a:"II",ARC_b:"II",ARC_c:"IV",ARC_d:"VI"},{GRC_Final:"4",ARC_a:"III",ARC_b:"III",ARC_c:"IV",ARC_d:"VI"},{GRC_Final:"5",ARC_a:"IV",ARC_b:"IV",ARC_c:"IV",ARC_d:"VI"},{GRC_Final:"6",ARC_a:"V",ARC_b:"V",ARC_c:"V",ARC_d:"VI"},{GRC_Final:"7",ARC_a:"VI",ARC_b:"VI",ARC_c:"VI",ARC_d:"VI"}];let r="0";switch(e.GRC_Final){case"1":switch(r="<=2",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 1";break;case"ARC-b":e.SAIL="SAIL 2";break;case"ARC-c":e.SAIL="SAIL 4";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"2":switch(r="<=2",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 1";break;case"ARC-b":e.SAIL="SAIL 2";break;case"ARC-c":e.SAIL="SAIL 4";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"3":switch(r="3",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 2";break;case"ARC-b":e.SAIL="SAIL 2";break;case"ARC-c":e.SAIL="SAIL 4";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"4":switch(r="4",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 3";break;case"ARC-b":e.SAIL="SAIL 3";break;case"ARC-c":e.SAIL="SAIL 4";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"5":switch(r="5",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 4";break;case"ARC-b":e.SAIL="SAIL 4";break;case"ARC-c":e.SAIL="SAIL 4";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"6":switch(r="6",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 5";break;case"ARC-b":e.SAIL="SAIL 5";break;case"ARC-c":e.SAIL="SAIL 5";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"7":switch(r="7",e.OperationalVolumeLevelMitigated){case"ARC-a":e.SAIL="SAIL 6";break;case"ARC-b":e.SAIL="SAIL 6";break;case"ARC-c":e.SAIL="SAIL 6";break;case"ARC-d":e.SAIL="SAIL 6";break}break;case"8":r=">7",e.SAIL="Certifié";break;default:r="0",e.SAIL="Certifié"}return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Détermination du SAIL"}),l.jsxs("table",{className:"min-w-full bg-white",children:[l.jsxs("thead",{children:[l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{className:"bg-white  py-2 px-4 border-b"}),l.jsx("th",{colspan:"4",className:"  py-2 px-4 border-b",children:"ARC Final"})]}),l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{className:"bg-blue-400 py-2 px-4 border-b",children:"GRC Final"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-a"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-b"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-c"}),l.jsx("th",{className:"py-2 px-4 border-b",children:"ARC-d"})]})]}),l.jsxs("tbody",{children:[n.map((o,a)=>l.jsxs("tr",{className:"bg-gray-200",children:[l.jsx("th",{className:"bg-blue-400 py-2 px-4 border-b",children:o.GRC_Final}),l.jsxs("th",{className:o.GRC_Final.includes(r)&&e.OperationalVolumeLevelMitigated==="ARC-a"?"bg-blue-900  text-white":"bg-gray-200 text-gray-400",children:[o.ARC_a,"    "]}),l.jsxs("th",{className:o.GRC_Final.includes(r)&&e.OperationalVolumeLevelMitigated==="ARC-b"?"bg-blue-900 text-white":"bg-gray-200 text-gray-400",children:[o.ARC_b,"    "]}),l.jsxs("th",{className:o.GRC_Final.includes(r)&&e.OperationalVolumeLevelMitigated==="ARC-c"?"bg-blue-900 text-white":"bg-gray-200 text-gray-400",children:[o.ARC_c,"    "]}),l.jsxs("th",{className:o.GRC_Final.includes(r)&&e.OperationalVolumeLevelMitigated==="ARC-d"?"bg-blue-900 text-white":"bg-gray-200 text-gray-400",children:[o.ARC_d,"    "]})]})),l.jsxs("tr",{children:[l.jsx("th",{className:"bg-blue-400 py-2 px-4 border-b",children:">7"}),l.jsx("th",{className:r.includes(">7")?"bg-blue-900 text-white":"bg-gray-200 text-gray-400",colspan:"5",children:"Opération en catégorie certifiée"})]})]})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Commentaires additionnels"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:l.jsxs("div",{children:[l.jsx(M,{text:"En quelques phrases, vous pouvez apporter des commentaires additionnels sur le niveau de SAIL de l'opération envisagée",children:l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Apporter vos commentaires sur le niveau de SAIL si vous le souhaitez :"})}),l.jsx("textarea",{value:e.SAILJustification,onChange:o=>t({...e,SAILJustification:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:4})]})})]})]})}function Gj({formData:e}){return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Informations sur l'exploitant"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Nom :"})," ",e.operator.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"N° d'enregistrement :"})," ",e.operator.registrationNumber]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Gestionnaire :"})," ",e.operator.managerName]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Contact opérationnel :"})," ",e.operator.operationalContact]})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Informations sur le drone"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Fabricant :"})," ",e.drone.manufacturer]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Modèle :"})," ",e.drone.model]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Masse :"})," ",e.drone.mass," kg"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Vitesse max :"})," ",e.drone.maxSpeed," m/s"]})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Évaluation des risques"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"GRC Initial :"})," ",e.riskAssessment.intrinsicGroundRisk]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"GRC Final :"})," ",e.riskAssessment.finalGroundRisk]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"ARC :"})," ",e.riskAssessment.airRisk]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"SAIL :"})," ",e.riskAssessment.sailLevel]})]})]}),l.jsx("div",{className:"text-sm text-gray-600 mt-8",children:l.jsx("p",{children:"Vous pouvez maintenant télécharger votre dossier SORA complet en cliquant sur le bouton ci-dessous."})})]})}function Zj({className:e=""}){const{studyId:t,studyName:n,formData:r,saving:o,setSaving:a,setStudyId:c}=Sa(),{user:h}=vr(),[f,p]=T.useState(null),g=async()=>{if(!(!n||o||!h)){a(!0),p(null);try{if(t){const{error:y}=await Ot.from("sora_studies").update({name:n,data:r,updated_at:new Date().toISOString(),user_id:h.id}).eq("id",t).eq("user_id",h.id);if(y)throw y}else{const{data:y,error:_}=await Ot.from("sora_studies").insert({name:n,data:r,user_id:h.id}).select().single();if(_)throw _;y&&c(y.id)}}catch(y){const _=y instanceof Error?y.message:"Une erreur est survenue lors de la sauvegarde";p(_),console.error("Erreur détaillée lors de la sauvegarde:",y)}finally{a(!1)}}};return l.jsxs("div",{className:"fixed bottom-8 right-8 flex flex-col items-end",children:[f&&l.jsx("div",{className:"mb-2 p-3 bg-red-100 text-red-700 rounded-lg max-w-md",children:f}),l.jsxs("button",{onClick:g,disabled:o||!n||!h,className:`flex items-center gap-2 px-6 py-3 rounded-full shadow-lg transition-all transform hover:scale-105 ${o||!h?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-xl"} ${e}`,children:[l.jsx(Lb,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:o?"Sauvegarde...":"Sauvegarder"})]})]})}function qj({isOpen:e,onClose:t,onSaveAndExit:n,onExitWithoutSaving:r}){return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Sauvegarder les modifications ?"}),l.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:l.jsx(nd,{className:"w-5 h-5"})})]}),l.jsx("p",{className:"mb-6 text-gray-600",children:"Voulez-vous sauvegarder votre travail avant de quitter ?"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Quitter sans sauvegarder"}),l.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Sauvegarder et quitter"})]})]})}):null}function Wj(){const e=mr(),{user:t}=vr(),{studyId:n,studyName:r,formData:o,saving:a,setSaving:c}=Sa(),[h,f]=T.useState(!1),p=()=>{f(!0)},g=async()=>{if(!(!t||a)){c(!0);try{n?await Ot.from("sora_studies").update({name:r,data:o,updated_at:new Date().toISOString()}).eq("id",n).eq("user_id",t.id):r&&await Ot.from("sora_studies").insert({name:r,data:o,user_id:t.id}),e("/")}catch(_){console.error("Erreur lors de la sauvegarde:",_)}finally{c(!1),f(!1)}}},y=()=>{f(!1),e("/")};return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:p,className:"fixed top-4 left-4 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-colors",title:"Retour à l'accueil",children:l.jsx(Cb,{className:"w-6 h-6 text-gray-600"})}),l.jsx(qj,{isOpen:h,onClose:()=>f(!1),onSaveAndExit:g,onExitWithoutSaving:y})]})}function im(){var p;const{formData:e,setFormData:t}=Sa(),[n,r]=T.useState("operator-info");T.useEffect(()=>{var g,y,_;((g=e.operation)==null?void 0:g.operationStartTime)!==((y=e.riskAssessment)==null?void 0:y.assessmentStartTime)&&t({...e,riskAssessment:{...e.riskAssessment,assessmentStartTime:((_=e.operation)==null?void 0:_.operationStartTime)||""}})},[(p=e.operation)==null?void 0:p.operationStartTime]);const o=()=>{const{operator:g}=e;return g.name.trim()!==""&&g.registrationNumber.trim()!==""&&g.managerName.trim()!==""&&g.operationalContact.trim()!==""&&g.address.trim()!==""&&g.phone.trim()!==""&&g.email.trim()!==""},a=Li.find(g=>g.id===n),c=()=>{const g=Li.findIndex(y=>y.id===n);g<Li.length-1&&r(Li[g+1].id)},h=()=>{const g=Li.findIndex(y=>y.id===n);g>0&&r(Li[g-1].id)},f=()=>{switch(n){case"operator-info":return l.jsx(JS,{operator:e.operator,onChange:g=>t({...e,operator:g})});case"conops":return l.jsxs("div",{className:"space-y-8",children:[l.jsx(YS,{drone:e.drone,onChange:g=>{t({...e,drone:g,riskAssessment:{...e.riskAssessment,maxCharacteristicDimension:g.maxCharacteristicDimension,maxSpeed:g.maxSpeed,uasType:g.uasType,turnRate:g.turnRate,MTOW:g.MTOW,environmentalLimitations:g.environmentalLimitations}})}}),l.jsx("hr",{className:"border-gray-200 my-8"}),l.jsx(Rj,{operation:e.operation,onChange:g=>{t({...e,operation:g,riskAssessment:{...e.riskAssessment,assessmentStartTime:g.operationStartTime}})}})]});case"initial-grc":return l.jsx(Dj,{assessment:e.riskAssessment,onChange:g=>t({...e,riskAssessment:g}),showOnly:["intrinsicGroundRisk"]});case"final-grc":return l.jsx(Fj,{assessment:e.riskAssessment,onChange:g=>t({...e,riskAssessment:g})});case"initial-arc":return l.jsx(Bj,{assessment:e.riskAssessment,onChange:g=>t({...e,riskAssessment:g})});case"final-arc":return l.jsx(Vj,{assessment:e.riskAssessment,onChange:g=>t({...e,riskAssessment:g})});case"tactical-mitigation":return l.jsx(Uj,{assessment:e.riskAssessment,onChange:g=>t({...e,riskAssessment:g})});case"sail":return l.jsx(Hj,{assessment:e.riskAssessment,onChange:g=>t({...e,riskAssessment:g})});case"oso":return l.jsx(Ij,{osos:e.osos,assessment:e.riskAssessment,onChange:g=>t({...e,osos:g})});case"adjacent-areas":return l.jsx($j,{assessment:e.riskAssessment,onChange:g=>t({...e,riskAssessment:g})});case"summary":return l.jsx(Gj,{formData:e});default:return null}};return l.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[l.jsx(Wj,{}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.title}),l.jsx("p",{className:"mt-2 text-gray-600",children:a.description})]}),l.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[f(),l.jsxs("div",{className:"flex justify-between mt-8",children:[n!=="operator-info"&&l.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors",children:[l.jsx(jb,{className:"w-5 h-5"}),"Retour"]}),n==="operator-info"?l.jsxs("button",{onClick:c,disabled:!o(),className:"ml-auto flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Continuer",l.jsx(Bl,{className:"w-5 h-5"})]}):n==="adjacent-areas"?l.jsxs("button",{onClick:c,className:"ml-auto flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:["Voir le résumé",l.jsx(Bl,{className:"w-5 h-5"})]}):n==="summary"?l.jsxs("button",{onClick:()=>exportToDocx(e),className:"ml-auto flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(kb,{className:"w-5 h-5"}),"Télécharger le dossier SORA"]}):l.jsxs("button",{onClick:c,className:"ml-auto flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:["Continuer",l.jsx(Bl,{className:"w-5 h-5"})]})]})]}),l.jsx(Zj,{})]})}function Jj(){var k,P;const[e,t]=T.useState(""),[n,r]=T.useState(""),[o,a]=T.useState(""),[c,h]=T.useState(!1),{signIn:f}=vr(),p=mr(),y=((P=(k=fi().state)==null?void 0:k.from)==null?void 0:P.pathname)||"/",_=async C=>{var O;C.preventDefault(),a(""),h(!0);try{await f(e,n),p(y,{replace:!0})}catch(w){(O=w==null?void 0:w.message)!=null&&O.includes("Email not confirmed")?a("Veuillez vérifier votre email pour confirmer votre compte avant de vous connecter"):a("Email ou mot de passe incorrect")}finally{h(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsx("div",{children:l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Connexion"})}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[o&&l.jsx("div",{className:"rounded-md bg-red-50 p-4",children:l.jsx("div",{className:"text-sm text-red-700",children:o})}),l.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:C=>t(C.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),l.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:C=>r(C.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe"})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?"Connexion...":"Se connecter"})}),l.jsx("div",{className:"text-sm text-center",children:l.jsx($u,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Pas encore de compte ? S'inscrire"})})]})]})})}function Kj(){const[e,t]=T.useState(""),[n,r]=T.useState(""),[o,a]=T.useState(""),[c,h]=T.useState(!1),[f,p]=T.useState(!1),{signUp:g}=vr();mr();const y=async _=>{_.preventDefault(),a(""),h(!1),p(!0);try{await g(e,n),h(!0)}catch{a("Erreur lors de l'inscription")}finally{p(!1)}};return c?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"max-w-md w-full space-y-8",children:l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Inscription réussie !"}),l.jsxs("div",{className:"mt-4 text-center text-gray-600",children:[l.jsx("p",{children:"Un email de confirmation a été envoyé à votre adresse."}),l.jsx("p",{className:"mt-2",children:"Veuillez vérifier votre boîte de réception et confirmer votre email avant de vous connecter."})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx($u,{to:"/login",className:"text-blue-600 hover:text-blue-500",children:"Retour à la page de connexion"})})]})})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsx("div",{children:l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Créer un compte"})}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[o&&l.jsx("div",{className:"rounded-md bg-red-50 p-4",children:l.jsx("div",{className:"text-sm text-red-700",children:o})}),l.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:_=>t(_.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),l.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:_=>r(_.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe"})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:f?"Inscription...":"S'inscrire"})}),l.jsx("div",{className:"text-sm text-center",children:l.jsx($u,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Déjà un compte ? Se connecter"})})]})]})})}function ql({children:e}){const{user:t,loading:n}=vr(),r=fi();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(Ng,{to:"/login",state:{from:r},replace:!0})}function Qj(){return l.jsx(ZS,{children:l.jsx(Mb,{children:l.jsx(yb,{children:l.jsxs(db,{children:[l.jsx(Yn,{path:"/login",element:l.jsx(Jj,{})}),l.jsx(Yn,{path:"/register",element:l.jsx(Kj,{})}),l.jsx(Yn,{path:"/",element:l.jsx(ql,{children:l.jsx(WS,{})})}),l.jsx(Yn,{path:"/evaluation/new",element:l.jsx(ql,{children:l.jsx(im,{})})}),l.jsx(Yn,{path:"/evaluation/:id",element:l.jsx(ql,{children:l.jsx(im,{})})}),l.jsx(Yn,{path:"*",element:l.jsx(Ng,{to:"/",replace:!0})})]})})})})}gg(document.getElementById("root")).render(l.jsx(T.StrictMode,{children:l.jsx(Qj,{})}));export{Zy as g};
